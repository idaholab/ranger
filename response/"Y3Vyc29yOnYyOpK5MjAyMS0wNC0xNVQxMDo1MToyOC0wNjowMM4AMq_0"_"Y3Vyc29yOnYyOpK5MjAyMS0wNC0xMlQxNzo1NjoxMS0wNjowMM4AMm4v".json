{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMS0wNC0xMlQxNzo1NjoxMS0wNjowMM4AMm4v"
    },
    "edges": [
      {
        "node": {
          "title": "About --recover option",
          "author": {
            "login": "ykvishal"
          },
          "bodyText": "I am having 2 issues with --recovery option:\n\n--recover option works nicely from Time-step=2  (ie recovering and restarting simulation with Time-step=1 data) onward. But, it does not work for Time-step=1 (ie restarting simulation with Time-step=0 data).  It gives me following error:\n\n\n*** ERROR ***\nInternal error in Transient executioner: _t_step is equal to 0 while recovering in init().\n\nI think that this is coming from Transient.C\nif (_app.isRecovering()) // Recover case\n  {\n    if (_t_step == 0)\n      mooseError(\"Internal error in Transient executioner: _t_step is equal to 0 while recovering \"\n                 \"in init().\");\n\n    _dt_old = _dt;\n  }\n\nFor my large scale grain growth simulations, it takes several hours (with 560 cores) to reach to Time-step=0. I am hoping that there will be some solution to this issue. Otherwise, I will to have repeat everything again for several hours. I tried to use --restart but it repeats most of the steps from initialization.\n\nI am using Nemesis to write output after every 20 time-steps. Due to some issue, I need to restart simulation many times and I use --recover option to restart simulation. And, nemesis does not append the previous nemesis output files and writes new output over old data. I don't have any issue with csv output.\n\nIf you have any suggestions then please let me know. Thank you.",
          "url": "https://github.com/idaholab/moose/discussions/17595",
          "updatedAt": "2022-06-14T02:38:43Z",
          "publishedAt": "2021-04-13T21:19:00Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nSo you are trying to recover after just the initialization? Or after the first solve?\nRegarding your second issue, I m not sure I understand it very well.\nIf you want to have a nemesis file for each restart attempt, you can use the append_date option to keep the old ones.\nIf you want to examine multiple time steps in a single file, nemesis files should already contain the outputs at each time step.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17595#discussioncomment-610642",
                  "updatedAt": "2022-06-14T02:40:56Z",
                  "publishedAt": "2021-04-14T15:20:34Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "Hi Guillaume,\nThank you for your response.\nSo you are trying to recover after just the initialization? \nYes, just after initialization. I am trying to run a 3D grain growth simulations with 10K-20K grains. I managed to run a 3D simulations with 6K grains. But, data does not look good as mesh is not that refined. So I increased mesh size and I am also using adaptivity option. It takes almost 28 hrs to reach to initialization step and it fails for Time-step =1 calculation due to memory issue. So I want to use recover option for same number of cores and increase memory using pmem option. However, this is not possible with --recover option. I have to go through 28 hrs of initialization step every time if I change something.\nIf you want to examine multiple time steps in a single file, nemesis files should already contain the outputs at each time step.\nYes, I want to do write and append after every 20 interval. But, somehow nemesis with --recover option rewrites on previous output files. Without --recover option, I don't have this issue. My nemesis block is like this\n\n[./nemesis]\ntype = Nemesis\ninterval = 20\n[../]\n\nThank you very much.\nVishal",
                          "url": "https://github.com/idaholab/moose/discussions/17595#discussioncomment-611044",
                          "updatedAt": "2022-06-14T02:40:58Z",
                          "publishedAt": "2021-04-14T16:47:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Ok thanks for making these two issues clear.\nI don't think anyone is planning to add these features to --recover right now. You can create a feature request as a separate github Issue for each.\nI suspect both would not be too much work if you want to add the capability yourself. We would gladly welcome a PR.",
                          "url": "https://github.com/idaholab/moose/discussions/17595#discussioncomment-612533",
                          "updatedAt": "2022-06-14T02:41:06Z",
                          "publishedAt": "2021-04-14T22:16:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "Thank you  @GiudGiud . Following you suggestions, I already fixed 1st problem and I figured out solution for 2nd issue. I will do more testing and if everything works then I will also follow your last suggestion.",
                          "url": "https://github.com/idaholab/moose/discussions/17595#discussioncomment-615020",
                          "updatedAt": "2022-06-14T02:41:08Z",
                          "publishedAt": "2021-04-15T11:51:52Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "J2 plastic simulation problem",
          "author": {
            "login": "PengWei97"
          },
          "bodyText": "Dear MOOSE experts,\nI have recently been studying the j2 plasticity model in tensor mechanics modulus. Based on the input file tensor_mechanics_j2plasticity.i, I have some questions and hope to get your guidance and corrections.\nThe following is my understanding and confusion:\n\nKernels: What are the functions implemented?  My understanding is that in this example, the following code means to call TensorMechanicsAction to use \"StressDivergenceTensors\" to calculate the balance equation.  I don\u2019t know if I understand right?  Also, does TensorMechanicsAction need to call other kernels to complete this simulation?\n\n[Kernels] \u00a0\u00a0[./TensorMechanics] \u00a0\u00a0\u00a0\u00a0displacements\u00a0=\u00a0'x_disp\u00a0y_disp\u00a0z_disp' \u00a0\u00a0\u00a0\u00a0use_displaced_mesh\u00a0=\u00a0true \u00a0\u00a0[../] []\nFor the Materials and AuxKernels modules, my understanding is as follows. If I understand wrongly, I hope to criticize and correct them.\n\n\nMaterials: Provide strain, elastic tensor, and plastic yield strength for the kernel.\n\n\nAuxKernels: Calculate physical quantities based on the variables calculated in the kernel for post-processing\n\n\nAny suggestions or recommendations to fix these problems would be greatly appreciated.\nThanks\nWei Peng",
          "url": "https://github.com/idaholab/moose/discussions/16417",
          "updatedAt": "2022-06-10T13:20:56Z",
          "publishedAt": "2020-12-08T09:40:50Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "Kernels.  Yes the most basic solid mechanics simulation will only use StressDivergenceTensors.  However, as your simulation gets more complicated, more Kernels will be needed.  For instance, if your simulation has gravity, then a Kernel (such as BodyForce) will be needed.  Or, if your simulation has dynamics, then DynamicStressDivergenceTensors will be needed.  Or, if you simulation couples with heat transfer, then Kernels for the heat equation will be needed.\nMaterials.  Yes, you've got the basic idea.  For solid mechanics simulations, the Materials compute the strain, elasticity tensor, and plastic things, such as plastic strains (for perfect plasticity, plastic yield strength is a real number user input, but for hardening/softening it will be computed by MOOSE based on the plastic strain).\nAuxKernels: yes, you've got the general idea correct.  However, for general MOOSE models, these are often used as inputs to other things such as Materials or Kernels, not just for postprocessing.",
                  "url": "https://github.com/idaholab/moose/discussions/16417#discussioncomment-163047",
                  "updatedAt": "2022-06-10T13:20:59Z",
                  "publishedAt": "2020-12-08T10:46:43Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "PengWei97"
                          },
                          "bodyText": "Thank you for your quick reply, I got it.",
                          "url": "https://github.com/idaholab/moose/discussions/16417#discussioncomment-163162",
                          "updatedAt": "2022-06-10T13:21:00Z",
                          "publishedAt": "2020-12-08T13:12:55Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @WilkAndy,\nI'm trying to work on strain-softening, in theory, coh and/or friction angle should be a function of the accumulated plastic strain, is there a way to implement this with moose.\nso far I got DP/CM to work, but yet cannot implement softening.\n\n[UserObjects]\n  [./mc_coh]\n    type = TensorMechanicsHardeningConstant\n    value = 5e6\n  [../]\n  [./mc_phi]\n    type = TensorMechanicsHardeningConstant\n    value = 25\n    convert_to_radians = true\n  [../]\n  [./mc_psi]\n    type = TensorMechanicsHardeningConstant\n    value = 20\n    convert_to_radians = true\n  [../]\n\n ####### Mohr Coulomb\n [./mc]\n   type = TensorMechanicsPlasticMohrCoulomb\n   cohesion = mc_coh\n   friction_angle = mc_phi\n   dilation_angle = mc_psi\n   yield_function_tolerance = 1E-3\n   internal_constraint_tolerance = 1E-4\n   mc_tip_smoother = 5e5\n   mc_edge_smoother = 20\n [../]\n[]\n\n\nKind regards,\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/16417#discussioncomment-613358",
                          "updatedAt": "2022-06-10T13:21:00Z",
                          "publishedAt": "2021-04-15T04:16:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Hi @Traiwit - i suggest creating a new Discussion and i'll answer there.",
                          "url": "https://github.com/idaholab/moose/discussions/16417#discussioncomment-613401",
                          "updatedAt": "2022-06-10T13:21:09Z",
                          "publishedAt": "2021-04-15T04:39:49Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "[Cluster][Update moose][Error in app]",
          "author": {
            "login": "coskrrb2002"
          },
          "bodyText": "Dear moose users,\nI am using a linux cluster and recently I have updated a moose in the cluster.\nBut, eventually it shows an error while I am compiling my app after updating the moose.\nI updated the moose in the following steps.\nI updated both libmesh and petsc.\nThen, I updated moose with git fetch.\nAfter that I recompile my app with\nmake clobberall\nmake -j20\nBut in make command, I got the following error.\n\nI guess this error is related with library...\nBut I don't know which library should I have to update.\nKind regards",
          "url": "https://github.com/idaholab/moose/discussions/17568",
          "updatedAt": "2022-06-22T06:50:38Z",
          "publishedAt": "2021-04-11T04:24:02Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nDid you only run git fetch to update moose? fetching isnt enough, you need to git pull as well.\nAlternatively you can check out the latest commit with git checkout origin master.\nJust to be sure, which moose commit are you currently using?\nBest,\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17568#discussioncomment-595372",
                  "updatedAt": "2022-06-22T06:50:51Z",
                  "publishedAt": "2021-04-11T04:58:24Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "coskrrb2002"
                          },
                          "bodyText": "I did the git pull as well, but it didn't work.\nI did git checkout origin master and got the following result:\n\nIts very ridiculous, cause in my personal computer, my app works fine with moose after the updating.",
                          "url": "https://github.com/idaholab/moose/discussions/17568#discussioncomment-598015",
                          "updatedAt": "2022-06-22T06:51:02Z",
                          "publishedAt": "2021-04-12T05:04:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Ok this is the correct commit for the latest moose.\nThe git pull did not work, or you got the error pasted initially with git fetch/pull ?\nTagging @loganharbour, he will know what's up with this error in building the ray tracing module",
                          "url": "https://github.com/idaholab/moose/discussions/17568#discussioncomment-598082",
                          "updatedAt": "2022-06-22T06:51:02Z",
                          "publishedAt": "2021-04-12T05:36:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "coskrrb2002"
                          },
                          "bodyText": "Thank you,\ngit pull said everything is up to date.\nSo, I guess my moose is the lastest version one.\nExcept the ray tracing module, other modules works fine.",
                          "url": "https://github.com/idaholab/moose/discussions/17568#discussioncomment-598101",
                          "updatedAt": "2022-06-22T06:51:03Z",
                          "publishedAt": "2021-04-12T05:41:27Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "roystgnr"
                          },
                          "bodyText": "@loganharbour asked me to take a look, and at first glance it looks like somehow C++14-specific code is in that module, but you're trying to compile using a C++11-only compiler.  (a ten year old standard, but one which we're still trying to support! no idea how our CI let C++14-requiring code in!)\nHe's now trying to rewrite that code in a C++11-compatible way, which I hope will be possible but which might take some serious work, so in the meantime you might see if you can upgrade your compiler as a workaround?  And if you can't easily get your hands on a compiler to handle this, then I'd love to know about it: I was hoping to update the libMesh C++ requirements, possibly jumping straight to C++17, late this year, but I can hit the brakes on that plan if there are still a number of downstream users stuck with too-old compilers.\nBTW, in the future, could you paste compiler error/warning messages\nlike this,\n\nwhich in Github markdown can be formatted\n``` \nlike this,\n``` \n\nrather than using screenshots?  Screenshots don't make it into search engines and so aren't as helpful if future users hit similar problems.",
                          "url": "https://github.com/idaholab/moose/discussions/17568#discussioncomment-600418",
                          "updatedAt": "2022-10-21T11:51:01Z",
                          "publishedAt": "2021-04-12T14:52:44Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "loganharbour"
                  },
                  "bodyText": "This issue will be resolved in #17582. See an explanation in #17568 (reply in thread).\nHowever, we've discussed in the past that we loosely require c++14. #17581 enforces that requirement - we'll see if we can get it in or not.\n@coskrrb2002 I'm happy to help you with getting MOOSE compiling in the interim, before either of the PRs that I mentioned above ar merged. We're in the middle of some system downtime, so they won't be merged quickly. Are you using conda for MOOSE, or did you compile libMesh on your own using scripts/update_and_rebuild_libmesh.sh?",
                  "url": "https://github.com/idaholab/moose/discussions/17568#discussioncomment-601085",
                  "updatedAt": "2022-06-22T06:51:13Z",
                  "publishedAt": "2021-04-12T16:57:45Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "coskrrb2002"
                          },
                          "bodyText": "Dear @loganharbour,\nI am not using conda for MOOSE in my cluster. So, I just compiled libMesh by ./scripts/update_and_rebuild_libmesh.sh\nThank you for your explanation!",
                          "url": "https://github.com/idaholab/moose/discussions/17568#discussioncomment-602985",
                          "updatedAt": "2022-06-22T06:51:13Z",
                          "publishedAt": "2021-04-13T03:20:37Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "So we need C++14.  Just for our education, can you explain (or point to doco/stackexchange) the relevant change in C++14 ?",
                  "url": "https://github.com/idaholab/moose/discussions/17568#discussioncomment-602301",
                  "updatedAt": "2022-06-22T06:51:14Z",
                  "publishedAt": "2021-04-12T21:28:53Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "roystgnr"
                          },
                          "bodyText": "Take a look at the restrictions on constexpr functions in the bullet points tagged \"until C++14\" about a quarter of the way down this page.  You basically only get to have a single statement, your return statement; any function that you can't write as a one-liner can't be constexpr.\nThat said, I'm pretty sure the capability here can be written in terms of constexpr one-liners, so I wouldn't say we \"need\" C++14 so much as we \"really really want\" C++14; the rewrite won't be impossible, it'll just be a big pain in the neck.\nPlus, this is just the latest addition to the list of reasons users have had for wanting to upgrade.  INL folks started asking me about support last year.  I've been using C++14 in a few small projects since before it was an official standard; for anybody trying to use expression template classes there's just no decent substitute for C++14-or-better auto return type deduction.",
                          "url": "https://github.com/idaholab/moose/discussions/17568#discussioncomment-611357",
                          "updatedAt": "2022-06-22T06:51:41Z",
                          "publishedAt": "2021-04-14T18:03:52Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Setting up tutorial repository",
          "author": {
            "login": "Draper18"
          },
          "bodyText": "Hello,\nI am trying to get a repository set up so that I can continue with the moose tutorial but I am having some problems. It made the babbler folder but there is nothing in it. Below is the error messages that I am receiving. Any help is greatly appreciated!",
          "url": "https://github.com/idaholab/moose/discussions/17532",
          "updatedAt": "2022-10-31T15:37:40Z",
          "publishedAt": "2021-04-07T17:43:23Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "cticenhour"
                  },
                  "bodyText": "The error suggests that your projects directory has been made into a git repository somehow, as the script runs the command git status to check for that. If you run ls -la ~/projects in your Terminal, do you see a .git directory listed?",
                  "url": "https://github.com/idaholab/moose/discussions/17532#discussioncomment-581207",
                  "updatedAt": "2022-10-31T15:37:41Z",
                  "publishedAt": "2021-04-07T18:06:39Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Draper18"
                          },
                          "bodyText": "Nothing that looks like a git repository. I do have the babbler folder set up as a git repository. Could that be the reason for the error?",
                          "url": "https://github.com/idaholab/moose/discussions/17532#discussioncomment-581226",
                          "updatedAt": "2024-06-01T22:25:32Z",
                          "publishedAt": "2021-04-07T18:11:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cticenhour"
                          },
                          "bodyText": "No, the stork script is meant to create a directory and initialize it as a git repository before filling in the things you need to set up a basic app. If .git doesn't exist in projects , then the git status command should throw fatal: not a git repository (or any of the parent directories): .git in that directory, which then prompts the stork script to proceed. You might perform a sanity check that this is the case by running git status in ~/projects.\nNext thing to try - just to confirm something weird isn't going on in your Terminal instance, close the Terminal window you have open and start a new one. While in ~/projects I would perform the command rm -rf babbler to remove the babbler directory altogether and try running the stork script again. If this gives you the same error, we'll need to dive a little deeper to figure out what's going on.",
                          "url": "https://github.com/idaholab/moose/discussions/17532#discussioncomment-581274",
                          "updatedAt": "2022-10-31T15:37:45Z",
                          "publishedAt": "2021-04-07T18:25:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cticenhour"
                          },
                          "bodyText": "One more thing that just occurred to me. This error could also occur if your home directory was initialized as a git repo (since projects exists within that directory). Run ls -la ~ in your Terminal - do you see a .git?",
                          "url": "https://github.com/idaholab/moose/discussions/17532#discussioncomment-581301",
                          "updatedAt": "2022-10-31T15:37:49Z",
                          "publishedAt": "2021-04-07T18:30:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Draper18"
                          },
                          "bodyText": "When I run the ls -la ~ I do see a .git",
                          "url": "https://github.com/idaholab/moose/discussions/17532#discussioncomment-581915",
                          "updatedAt": "2022-10-31T15:37:50Z",
                          "publishedAt": "2021-04-07T21:01:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cticenhour"
                          },
                          "bodyText": "This is the root cause of the error. Your home directory should not be made into a git repository, so I would recommend removing the ~/.git directory:\nrm -rf ~/.git\n\nAfter removing it, you should be able to try using the stork script again.",
                          "url": "https://github.com/idaholab/moose/discussions/17532#discussioncomment-581993",
                          "updatedAt": "2022-10-31T15:38:23Z",
                          "publishedAt": "2021-04-07T21:25:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cticenhour"
                          },
                          "bodyText": "@Draper18 just checking in - were you able to get things going with that suggestion?",
                          "url": "https://github.com/idaholab/moose/discussions/17532#discussioncomment-610572",
                          "updatedAt": "2022-10-31T15:38:25Z",
                          "publishedAt": "2021-04-14T15:06:23Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "MOOSE INSTALLATION",
          "author": {
            "login": "kwarteng10"
          },
          "bodyText": "I am trying to install MOOSE on my computer and I run into an error message when I tried downloading the  MOOSE conda packages, please find the error message below\nAn HTTP error occurred when trying to retrieve this URL.                                                                                                                                                                                     HTTP errors are often intermittent, and a simple retry will get you on your way.                                                                                                                                                             'https://conda.anaconda.org/idaholab/linux-64'",
          "url": "https://github.com/idaholab/moose/discussions/17602",
          "updatedAt": "2024-10-21T07:25:34Z",
          "publishedAt": "2021-04-14T10:21:38Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "Did you try again?\nWe have no control over 'the cloud' where these files are stored. Anaconda at times can run into connectivity issues, and the error supplied is often the correct course of action (trying again... immediately).",
                  "url": "https://github.com/idaholab/moose/discussions/17602#discussioncomment-609970",
                  "updatedAt": "2024-10-21T07:25:34Z",
                  "publishedAt": "2021-04-14T13:22:33Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "kwarteng10"
                  },
                  "bodyText": "Yes I tried on my personal computer and its working fine\nThank you\n\u2026\nOn Wed, 14 Apr 2021 at 21:22, Jason Miller ***@***.***> wrote:\n Did you try again?\n\n We have no control over 'the cloud' where these files are stored. Anaconda\n at times can run into connectivity issues, and the error supplied is often\n the correct course of action (trying again... immediately).\n\n \u2014\n You are receiving this because you authored the thread.\n Reply to this email directly, view it on GitHub\n <#17602 (comment)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/AORERKCD3EVCM3DJSGWKS73TIWJKRANCNFSM425C3TPQ>\n .",
                  "url": "https://github.com/idaholab/moose/discussions/17602#discussioncomment-610343",
                  "updatedAt": "2024-10-21T07:25:38Z",
                  "publishedAt": "2021-04-14T14:23:09Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "The parameters in \"ACGrGrPoly\" kernel",
          "author": {
            "login": "wenpeng231024"
          },
          "bodyText": "Dear MOOSE Group,\nI am trying to use \"ACGrGrPoly\" kernel to describe multiple grains and bubbles. The parameters mu, gamma, and kappa are different for matrix/matrix and matrix/bubble. So my question is how to set these parameters for  \"ACGrGrPoly\" kernel in the MOOSE? I found maybe the \"GBAnisotropy\" can do this. But how to specify the order of parameters for matrix/matrix and matrix/bubble?\nThanks,\nPeng",
          "url": "https://github.com/idaholab/moose/discussions/17488",
          "updatedAt": "2022-07-18T22:43:45Z",
          "publishedAt": "2021-04-02T13:46:01Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "SudiptaBiswas"
                  },
                  "bodyText": "You could use 'ACGrGrMulti' which allows you to provide multiple gamma values and corresponding order parameters.",
                  "url": "https://github.com/idaholab/moose/discussions/17488#discussioncomment-602314",
                  "updatedAt": "2022-07-18T22:43:45Z",
                  "publishedAt": "2021-04-12T21:32:49Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "wenpeng231024"
                          },
                          "bodyText": "Many thanks for your response. I found \"ACGrGrMulti\" is used for a multiple Grand Potential model. Does it also work for the KKS model? Because I use the KKS model.\nBest,\nPeng",
                          "url": "https://github.com/idaholab/moose/discussions/17488#discussioncomment-605493",
                          "updatedAt": "2022-07-18T22:44:44Z",
                          "publishedAt": "2021-04-13T15:30:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "SudiptaBiswas"
                          },
                          "bodyText": "MOOSE does not have the multi-phase 'KKS' model. For multi-phase, multi-order parameter cases, we use the grand potential model. However, think of ACGrGrMulti as an extension of ACGrGrPoly with multiple gamma inputs. So, if you were using ACGrGrPoly earlier, you can substitute it with ACGrGrMulti.",
                          "url": "https://github.com/idaholab/moose/discussions/17488#discussioncomment-605553",
                          "updatedAt": "2022-07-18T22:44:44Z",
                          "publishedAt": "2021-04-13T15:45:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wenpeng231024"
                          },
                          "bodyText": "Ok. I see. I will try it. Thanks very much.\nPeng",
                          "url": "https://github.com/idaholab/moose/discussions/17488#discussioncomment-606700",
                          "updatedAt": "2022-07-18T22:44:49Z",
                          "publishedAt": "2021-04-13T20:39:00Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "A better way to do stabilization",
          "author": {
            "login": "reverendbedford"
          },
          "bodyText": "Stabilization\nA lot of different physics problems require stabilization.  The example I'm most familiar with is incompressible deformation in solid mechanics where you need to alter the finite element space to produce non-pathological results for some problems.  The classical way to do this for hexes is B_bar or F_bar (small/large deformations) methods, where you average the volumetric components of the shape function gradients over each element.  But plenty of other physics have similar problems and solutions, for example stabilization advection equations like in the Navier Stokes module through upwinding, Petrov-Galerkin, GLS, etc.\nHow we do stabilization now\nCurrently MOOSE users tend to do this in Kernel/Material land.  For example, you can implement B_bar methods by averaging the volumetric strain over the element, using that strain in the stress update, and adding a bunch of terms to the kernel Jacobian to account for the averaging.\nI would argue that's the \"old\" way to think of things (i.e. changing the material kinematics) and produces not-very-clean code.  For example, you might have more than one kernel implementing similar physics (advection-diffusion-reaction and Navier-Stokes or the new total and updated Lagrangian kernels I've proposed for tensor mechanics, for example) and the variants could be stabilized with the same scheme.  But if you're doing it in materials/kernels you would have to write it twice.  It also tends to lead towards ugly code.  For example, in B_bar the stabilization actually happens in the strain calculator but you need to know what happened, i.e. what type of stabilization, in the kernel.\nA better way to do it\nA better way to think of stabilization might be as altering the underlying finite element space, i.e. the test and trial functions themselves.  A more \"natural\" method for doing stabilization would then be some class (a subclass of variable, I guess) that alters the test and trial functions and their gradients coming from libmesh to provide the stabilization.  This type of implementation would greatly simplify things on the material/kernel side -- you would use exactly the same implementation for stabilized and unstabilized versions, you wouldn't need to \"know\" about stabilization at all -- and make it much easier to add/try out new stabilization techniques.\nUnfortunately my MOOSE skills aren't developed enough to know how to do this/how easy this is/if it's even possible.  At a minimum this class would need to:\n\nBe interchangeable with the existing Variable system (i.e. provide variable values and gradients and test/trial function values and derivatives).\nHave access to more than one variable -- for example, B_bar stabilization would need to know about all three displacement components in a solids kernel (i.e. disp_x, disp_y, disp_z).\nTake constant stabilization parameters.\n\nA more sophisticated version would do these things plus:\n\nAccess constant or lagged material properties to set appropriate values for stabilization parameters.\nFor the most modern methods use some weird FE spaces, often involving bubble functions.  This isn't my area, others may know more.  The advantage is typically they can provide \"optimal\" stabilization without any tuning parameters.\n\nAt this point I'm just looking for comments on:\n\nIf this is a good idea\nIf it's possible\nWould it require libmesh modifications (I don't think so...)",
          "url": "https://github.com/idaholab/moose/discussions/17569",
          "updatedAt": "2022-07-12T13:41:45Z",
          "publishedAt": "2021-04-11T15:40:42Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "This is an interesting thought, @reverendbedford .   My unthinking response is: is it possilbe do use this approach for advection stabilization, such as full upwinding or KT or RDG, eg see my explanation of KT at https://mooseframework.inl.gov/modules/porous_flow/kt_worked.html ?  I don't see exactly how your idea works.  Would evaluating your test functions involve assessing advective flows in neighbouring elements?",
                  "url": "https://github.com/idaholab/moose/discussions/17569#discussioncomment-597551",
                  "updatedAt": "2022-07-12T13:40:32Z",
                  "publishedAt": "2021-04-12T00:19:22Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "jiangwen84"
                  },
                  "bodyText": "@reverendbedford do you have any ideas on how to modify the finite element space for appropriate stabilization? I guess the modification might depend on your materials, i.e. volumetric locking, shearing locking etc.",
                  "url": "https://github.com/idaholab/moose/discussions/17569#discussioncomment-597886",
                  "updatedAt": "2022-07-12T13:40:32Z",
                  "publishedAt": "2021-04-12T03:43:04Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "I agree with @jiangwen84 here. Almost always, it seems to me, the method of stabilization is dependent on the physics.",
                          "url": "https://github.com/idaholab/moose/discussions/17569#discussioncomment-600528",
                          "updatedAt": "2022-07-12T13:40:32Z",
                          "publishedAt": "2021-04-12T15:13:09Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "lindsayad"
                  },
                  "bodyText": "It doesn't seem overly natural to me to have this done at the Variable level although maybe I could be convinced.\nA leading obstacle to me to some generic implementation is that a classic Petrov-Galerkin implementation for, say, stabilizing CFEM Navier-Stokes equations has a form like:\ntest_star = test + tau * grad_test * velocity\nHowever, this doesn't really apply for terms that are integrated by parts, e.g. the viscous term or even the pressure term. So then one still has to be aware of the physics that they are doing. I just think it's hard to fully automate. You mentioned a stabilization for solid mechanics...that's clearly different from the stabilization I posted above with a velocity. To generalize it perhaps you could create some interface that takes a lambda that would implement the stabilization you want...but then again you are requiring somebody to do some thinking.\nFWIW we do have some general objects that are meant to help application developers with stabilization. But these are still kernels. They are ADKernelStabilized.[hC] and ADKernelSUPG.[hC], the latter of which implements a stabilization method which is virtual in ADKernelStabilized. We use these in the navier_stokes module for CFEM.",
                  "url": "https://github.com/idaholab/moose/discussions/17569#discussioncomment-600519",
                  "updatedAt": "2022-07-12T13:40:34Z",
                  "publishedAt": "2021-04-12T15:11:50Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "reverendbedford"
                  },
                  "bodyText": "I agree that the stabilization will still ultimately depend on the physics, but I guess my argument is that multiple implementations of similar physics might want to use the same stabilization scheme.  So for example I have my updated and total Lagrangian solids kernels and both could use the same stabilization even though the weak residuals look very different.\nThat said, my initial argument was Petrov-Galerkin where you can alter the test functions and not touch anything on the material/kernel side.  But I see your point, you still need to know when/how to apply it in kernel-space.\nInterestingly the classical way to stabilize solids is to alter the trial functions, not the test functions.  This may mean it propagates through the formulation easier.  But it also may mean this would be too specialized to be worth the effort.  Either way, let me do some math, I'll post the results here.",
                  "url": "https://github.com/idaholab/moose/discussions/17569#discussioncomment-602923",
                  "updatedAt": "2022-07-12T13:41:15Z",
                  "publishedAt": "2021-04-13T02:37:14Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "I think some equations can greatly help here. I get that your approach would benefit stabilization implementations in MOOSE in general, but it may be easier if we first limit our discussion to a very specific stabilization. I guess we are mostly interested in mechanics for now, so how about just a few equations on how you want to B-bar? If we find a path forward we can then talk about advection stabilizations.",
                          "url": "https://github.com/idaholab/moose/discussions/17569#discussioncomment-606623",
                          "updatedAt": "2022-07-12T13:41:16Z",
                          "publishedAt": "2021-04-13T20:23:48Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Restart the simulation problem (loading Auxvariable - SECOND/MONOMIAL)",
          "author": {
            "login": "Traiwit"
          },
          "bodyText": "Hi MOOSE users,\nI've been trying to make my simulation restartable.\n\nI have set my 'Auxvaribales' to be SECOND/MONOMIAL\nbut when I call it using\n[./stress_zz]\n    order = SECOND\n    family = MONOMIAL\n    initial_from_file_var = stress_zz\n   initial_from_file_timestep = 5\n  [../]\n\nIt gives out this error message:\nError! Trying to copy elemental solution into a variable that is not of CONSTANT MONOMIAL type. [0] ../src/mesh/exodusII_io.C, line 671, compiled Feb 16 2021 at 16:53:25 \nI need the stress_old to calculate the stress for the next time step (incremental workflow), hence I need to import the stress from an input file.\nNote that: the restart work fine with 'Variables' like disp_z\nalso, it works fine if 'Auxvaribales' is in CONSTANT/MONOMIAL, which I do not want.\nThanks guys!",
          "url": "https://github.com/idaholab/moose/discussions/17574",
          "updatedAt": "2022-06-16T00:08:28Z",
          "publishedAt": "2021-04-12T05:14:02Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "My guess would be that we can't store second order monomials in exodus files because it's not supported by this file format.\n@rwcarlsen can you please confirm/infirm?\nYou could try using checkpoint restart instead?",
                  "url": "https://github.com/idaholab/moose/discussions/17574#discussioncomment-598109",
                  "updatedAt": "2022-06-16T00:08:31Z",
                  "publishedAt": "2021-04-12T05:46:07Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "rwcarlsen"
                          },
                          "bodyText": "The state of this kind of functionality has evolved gradually over the years. It should work, but you do have to set discontinuous = true in the exodus output section of the input file.  Also - there is this somewhat recent issue that might be relevant: #13200.",
                          "url": "https://github.com/idaholab/moose/discussions/17574#discussioncomment-600353",
                          "updatedAt": "2022-06-16T00:08:31Z",
                          "publishedAt": "2021-04-12T14:45:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Please let us know if discontinuous=true does not work, I ll add it to the issue\nThe restart (checkpoint) system is the better solution here, it is not limited by the limitations of exodus.",
                          "url": "https://github.com/idaholab/moose/discussions/17574#discussioncomment-600991",
                          "updatedAt": "2022-06-16T00:08:32Z",
                          "publishedAt": "2021-04-12T16:35:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi guys, thank you for your suggestion, but discontinuous = true doesn't fix the problem.\nnot sure if I can use 'Checkpoint' without having to use initial_from_file_var and initial_from_file_timestep, and just bring the whole Auxvariables from previous simulation to the new simulation",
                          "url": "https://github.com/idaholab/moose/discussions/17574#discussioncomment-602734",
                          "updatedAt": "2022-06-16T00:08:32Z",
                          "publishedAt": "2021-04-13T01:04:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rwcarlsen"
                          },
                          "bodyText": "Did you read #13200? It seems like that might be related to your problem.",
                          "url": "https://github.com/idaholab/moose/discussions/17574#discussioncomment-605343",
                          "updatedAt": "2022-06-16T00:08:39Z",
                          "publishedAt": "2021-04-13T15:04:47Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Purpose of \"defineLegacyParams\"",
          "author": {
            "login": "ke7kto"
          },
          "bodyText": "I am making my own simple class based on some of the classes in the framework (basically just mashing together the SplineFunction and PiecewiseTabular classes to try to get splines based on a data file), and I noticed the line\ndefineLegacyParams(<ClassName>)\nI thought I heard that the defineLegacyParams could be avoided in new code, so I tried removing it. This led to a linker error, with the compiler apparently not actually compiling validParams from the template declaration. Re-inserting the defineLegacyParams allowed my app to compile successfully. Eliminating both the template declaration and defineLegacyParams also compiles successfully.\nWhat is the purpose of defineLegacyParams and the template declaration? Are they both essential, or can they both be avoided?",
          "url": "https://github.com/idaholab/moose/discussions/17588",
          "updatedAt": "2023-05-23T02:15:32Z",
          "publishedAt": "2021-04-12T22:38:05Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "loganharbour"
                  },
                  "bodyText": "The old valid parameters used to be stored in the open namespace as a template specialization. The new valid parameters sit in a public, static member function. When you are creating new objects, there is no need to use the defineLegacyParams() macro. It is only used for backwards compatibility for folks that derive from the framework objects and do not use the new valid parameters syntax (public, static member function).\nLet's say you have an object, MyObject that derives from SomeBase. You should have in the header:\n#include \"SomeBase.h\"\n\nclass MyObject : public SomeBase\n{\npublic:\n  static InputParameters validParams();\n\n  <rest of class>\n};\n\nand in the source:\n#include \"MyObject.h\"\n\nInputParameters\nMyObject::validParams()\n{\n  auto params = SomeBase::validParams();\n  <add additional params>\n  return params;\n}\n\n<continuation of class>\n\nand that's it for the InputParameter declaration.\nCan you share the relevant portion of your object that is failing with the case where you said you \"tried removing it\"?",
                  "url": "https://github.com/idaholab/moose/discussions/17588#discussioncomment-603012",
                  "updatedAt": "2023-05-23T02:16:09Z",
                  "publishedAt": "2021-04-13T03:40:30Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ke7kto"
                          },
                          "bodyText": "I can do that\nheader file\nclass SplineCSVFunction;\n\n//This section requires declareLegacyParams in the .C file \ntemplate <>\nInputParameters validParams<SplineCSVFunction>();\n//End section\n\n/**\n * Function that uses spline interpolation\n */\nclass SplineCSVFunction : public Function\n{\npublic:\n  static InputParameters validParams();\n...\n\nWithout the declareLegacyParams macro called in the .C file, the following output results:\nUsing HIT from /home/me/source/moose/framework/contrib/hit\nCreating Unity /home/me/Documents/MooseProjects/per_capsule/build/unity_src/functions_Unity.C\nCompiling C++ (in opt mode) /home/me/Documents/MooseProjects/per_capsule/build/unity_src/functions_Unity.C...\nLinking Library /home/me/Documents/MooseProjects/per_capsule/lib/libper_capsule-opt.la...\nLinking Executable /home/me/Documents/MooseProjects/per_capsule/per_capsule-opt...\n/bin/ld: /home/me/Documents/MooseProjects/per_capsule/lib/libper_capsule-opt.so: undefined reference to `InputParameters \nvalidParams<SplineCSVFunction>()'\ncollect2: error: ld returned 1 exit status\nmake: *** [/home/me/source/moose/framework/app.mk:407: \n/home/me/Documents/MooseProjects/per_capsule/per_capsule-opt] Error 1\n\nthis stackoverflow thread was helpful to me in explaining that the compiler won't complain if there is no formal declaration of a function that matches the template, which leads to the less helpful/intuitive linker error.",
                          "url": "https://github.com/idaholab/moose/discussions/17588#discussioncomment-604973",
                          "updatedAt": "2023-05-23T02:16:44Z",
                          "publishedAt": "2021-04-13T13:57:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "loganharbour"
                          },
                          "bodyText": "From what you posted, all you need at the top of the header is:\n/**\n * Function that uses spline interpolation\n */\nclass SplineCSVFunction : public Function\n{\npublic:\n  static InputParameters validParams();\n...\n\n\nRemove everything above it. That is, remove both forward declaration of the class:\nclass SplineCSVFunction;\n\nand forward declaration of template:\ntemplate <>\nInputParameters validParams<SplineCSVFunction>();\n\nThey are for the \"legacy\" valid parameters syntax.",
                          "url": "https://github.com/idaholab/moose/discussions/17588#discussioncomment-605119",
                          "updatedAt": "2023-05-23T02:16:52Z",
                          "publishedAt": "2021-04-13T14:29:06Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "dschwen"
                  },
                  "bodyText": "I think it's about time to remove all that legacy params stuff\n\u2026\nOn Tue, Apr 13, 2021, 8:29 AM Logan Harbour ***@***.***> wrote:\n From what you posted, all you need at the top of the header is:\n\n /**\n  * Function that uses spline interpolation\n  */\n class SplineCSVFunction : public Function\n {\n public:\n   static InputParameters validParams();\n ...\n\n\n Remove everything above it. That is, remove both forward declaration of\n the class:\n\n class SplineCSVFunction;\n\n and forward declaration of template:\n\n template <>\n InputParameters validParams<SplineCSVFunction>();\n\n They are for the \"legacy\" valid parameters syntax.\n\n \u2014\n You are receiving this because you are subscribed to this thread.\n Reply to this email directly, view it on GitHub\n <#17588 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/AABRMPVTPR5NKZNUBNJX25DTIRIMNANCNFSM422FKKUQ>\n .",
                  "url": "https://github.com/idaholab/moose/discussions/17588#discussioncomment-605153",
                  "updatedAt": "2023-05-23T02:17:14Z",
                  "publishedAt": "2021-04-13T14:35:11Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "loganharbour"
                          },
                          "bodyText": "Is that you offering to do it? :-) Nonetheless, I agree. But, we do have multiple applications we test that still use it...",
                          "url": "https://github.com/idaholab/moose/discussions/17588#discussioncomment-605171",
                          "updatedAt": "2023-05-23T02:17:16Z",
                          "publishedAt": "2021-04-13T14:38:37Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Porous_flow simulation with Segmentation fault: 11",
          "author": {
            "login": "wjin33"
          },
          "bodyText": "Hi,\nI am using Porous Flow/Falcon to run brine flow and heat transfer problems. Prepared input file with water as the fluid runs ok, yet, switched to brine as the injection/extraction files have this error:\nSegmentation fault: 11\nPlease help.\nMany thanks!\nAttached is the input file, I have to change the file type to be able to upload.\nCranfield_HT_season_caps_brine_newboundary_coarse.log\ninput.",
          "url": "https://github.com/idaholab/moose/discussions/17503",
          "updatedAt": "2022-07-04T08:38:26Z",
          "publishedAt": "2021-04-03T15:46:01Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "Your input file uses an exodus mesh, so i can't be exactly sure what your problem is, but i believe your problem is in your PorousFlowUnsaturated block.  Instead of fp = brine, you need to specify\n  fluid_properties_type = PorousFlowBrine\n  nacl_name = f_nacl\n\nSee the doco at https://mooseframework.inl.gov/source/actions/PorousFlowFullySaturated.html .\nThere are other things you might like to change about your input file.  Eg, the f_nacl is mass fraction, so setting it as 0.62 means you're simulating with 62% of salt.  You'll probably also want to use PorousFlowFullySaturated, as that is more efficient and suited to your case (above doco).\nWhen you use these Actions, you do not need to supply any FluidProperties, since PorousFlow does it all for you (see the \"Materials Added\" section of the above documentation).  If you like, you can supply a custom fluid_properties_type if the ones automatically built by PorousFlow are too slow or don't suit you for some reason.\na",
                  "url": "https://github.com/idaholab/moose/discussions/17503#discussioncomment-567606",
                  "updatedAt": "2022-07-04T08:38:28Z",
                  "publishedAt": "2021-04-04T11:05:20Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Did this work, @wjin33 ?",
                          "url": "https://github.com/idaholab/moose/discussions/17503#discussioncomment-572893",
                          "updatedAt": "2022-07-04T08:38:30Z",
                          "publishedAt": "2021-04-06T03:34:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wjin33"
                          },
                          "bodyText": "No, it does not work, @WilkAndy. I tried both the fullysaturated action and the fluid-type lines. Before posting the question here, I have already tried different actions and input lines for brine. All failed.\nI combined both the exodus mesh file and the input file here. Please kindly take a look.\nArchive.zip",
                          "url": "https://github.com/idaholab/moose/discussions/17503#discussioncomment-576169",
                          "updatedAt": "2022-07-04T08:38:29Z",
                          "publishedAt": "2021-04-06T17:40:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Cranfield_HT_season_caps_brine_newboundary_coarse.txt\nHi @wjin33 , i wonder whether you need to update MOOSE.  Your input file works fine for me, after i've removed the EnthalpySink stuff, which i don't have in standard porous_flow.  So there could be something wrong with the EnthalpySink.  The input file that works is found attached (it doesn't converge well, but that's probably due to the missing EnthalpySink).\na",
                          "url": "https://github.com/idaholab/moose/discussions/17503#discussioncomment-576985",
                          "updatedAt": "2022-07-10T18:47:36Z",
                          "publishedAt": "2021-04-06T21:06:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Did updating MOOSE work, @wjin33 ?",
                          "url": "https://github.com/idaholab/moose/discussions/17503#discussioncomment-582889",
                          "updatedAt": "2022-10-07T12:54:09Z",
                          "publishedAt": "2021-04-08T05:05:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wjin33"
                          },
                          "bodyText": "Dear Andy @WilkAndy, I have already updated the MOOSE, and it works for water with my kernel \"EnthalpSink\". Upon your suggestions, I removed the  EnthalpSink with PorousFlowPolyLineSink, and I can simulate the brine without error. Many thanks.\nI double-checked my kernel and attached them for your reference. I think there are two aspects that may contribute to the  error:\n\nI am using the SinglePhaseFluidProperties to calculate the enthalpy injection, which works fine for water97 equation of state.  Yet, for brine, this is not properly implemented.\nI did not calculate the Jacobian for this kernel.\n\nAny comments are appreciated.\nThanks,\nWencheng\nEnthalpySink.zip",
                          "url": "https://github.com/idaholab/moose/discussions/17503#discussioncomment-601050",
                          "updatedAt": "2022-10-07T12:54:10Z",
                          "publishedAt": "2021-04-12T16:47:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Is EnthalpySink trying to accomplish the same thing as @andrsd #17235 ?   If so, just take something like https://www.ratebeer.com/Ratings/Beer/Beer-Ratings.asp?BeerID=84035 and sit with him until it's done.",
                          "url": "https://github.com/idaholab/moose/discussions/17503#discussioncomment-602641",
                          "updatedAt": "2022-10-07T12:54:10Z",
                          "publishedAt": "2021-04-12T23:56:11Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}