{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0xMS0xMlQxOTo0MjoyMy0wNzowMM4Acgke"
    },
    "edges": [
      {
        "node": {
          "title": "Some questions about the use of pump components and gas properties",
          "author": {
            "login": "LGQ199810"
          },
          "bodyText": "Hello, I am currently conducting calculations for a heat exchange circuit based on thermal hydraulic modules (the node diagram of the circuit is shown in the attached figure). During the calculation process, I found that the temperature difference between the pump components before and after exceeded a reasonable range, and the temperature difference between the pump components can reach about 50 \u2103. Is there any adjustment method to reduce or even eliminate this difference.\nIn addition, in my previous calculations, when I used a custom gas property code, the cooling capacity of the cooling system col_sys was not as high as expected. After inspection, it was found that the reason was that the thermal conductivity calculated through my own code (about 0.033W/m \u00b7 K) was lower than the constant value given by the ideal gas property package (about 0.041W/m \u00b7 K). However, the thermal conductivity calculated by my own developed property code matched well with the properties in the REFPROP property package. Is there any way to solve this problem.\n\nthe pump component used in my model\n` [pump]\ntype = Pump1Phase\nposition = '-${col_connect} 0 -${fparse 2 * col_length2}'\nconnections = 'col_sys/gcol_connect:out up_pipe:in'\nvolume = 1e-4\nA_ref = '${fparse pi * col_gas_dia * col_gas_dia / 4.}'\nhead = 5.\n\n[]\n`",
          "url": "https://github.com/idaholab/moose/discussions/29053",
          "updatedAt": "2024-11-14T17:03:17Z",
          "publishedAt": "2024-11-12T13:45:46Z",
          "category": {
            "name": "Q&A Modules: Thermal Hydraulics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Which fluid properties are you currently using?\n@joshuahansel",
                  "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11227700",
                  "updatedAt": "2024-11-12T14:54:55Z",
                  "publishedAt": "2024-11-12T14:54:54Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "LGQ199810"
                          },
                          "bodyText": "The working fluid gas I am currently using is argon\uff0cand the input card I'm using as followed\npump_test-upload.txt",
                          "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11227817",
                          "updatedAt": "2024-11-12T15:04:57Z",
                          "publishedAt": "2024-11-12T15:04:56Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "joshuahansel"
                  },
                  "bodyText": "You mention \"pumps\". I see only one pump in your diagram. Do you just mean the difference across the one pump? Have you checked that the pressure change across your pump matches your supplied head value of 5 m? Remember that dp = density*g*head. Other pump formulation options for you are:\n\nhttps://mooseframework.inl.gov/source/components/ShaftConnectedPump1Phase.html\nhttps://mooseframework.inl.gov/source/components/ShaftConnectedCompressor1Phase.html\n\nbut these will be a bit more involved because you must specify performance curves and include a Shaft component (and other component(s)) on the shaft to power the pump. The one you are using is the simplest one, if you just want to match a certain pressure rise.\nRegarding your thermal conductivity, you specified the value of 0.04071 W/(m-K) in your input file - you can change k to your desired value of 0.033 W/(m-K). That equation of state corresponds to an ideal gas formulation, which says nothing about transport properties like conductivity and viscosity, so the user must supply those, and they cannot have temperature dependence (though developers could change that part at some point). As far as I know, we do not have any specialized properties for argon, so you would need to implement your own FluidProperties class if you want something more accurate than the ideal gas equation of state.",
                  "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11229008",
                  "updatedAt": "2024-11-12T16:30:48Z",
                  "publishedAt": "2024-11-12T16:30:47Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "LGQ199810"
                          },
                          "bodyText": "Thank you very much for providing the verification idea. Currently, I only use a single pump component to drive the gas in the circuit, so that the gas can flow and exchange heat in the circuit at a specific flow rate. I have not considered the shaft and other components. This is similar to the setting of pump components in the single_phase_flow chapter of the thermal hydraulic module tutorial. However, in my current circuit, the temperature difference between the pump components can reach about 50 \u2103 (the temperature of col_stys/gcol_comnect: out is about 300K, and the temperature of uo_pipe: in is about 346K), which is contrary to common sense.\nIn addition, I have calculated the pressure difference before and after the pump, which is about 9.35e4 Pa. However, at this time, I have set the pump head to 0.0 m. There are also some issues with this calculation result that need to be corrected, so I would like to ask how to correct these two problems. Thank you very much.",
                          "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11234954",
                          "updatedAt": "2024-11-13T03:59:45Z",
                          "publishedAt": "2024-11-13T03:59:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "joshuahansel"
                          },
                          "bodyText": "You say\n\nHowever, at this time, I have set the pump head to 0.0 m\n\nI don't know if you've changed your input file since, but in the one you attached, you're using a PID control to control the head parameter of the pump. And it appears that the PID controller is functioning correctly, and you've achieved the target mass flow rate. I ran your input, and it seems the head input signal to the pump is 850 m. For the pressure rise that you have across the pump, I am not convinced that a ~50 K difference is unreasonable. The pump pressure rise does not match this head (although it's quite a bit closer), but this is a compressible fluid, so I wouldn't necessarily expect it.",
                          "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11240869",
                          "updatedAt": "2024-11-13T14:17:45Z",
                          "publishedAt": "2024-11-13T14:17:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "LGQ199810"
                          },
                          "bodyText": "I am very sorry for not stating in the previous question that I changed the head parameter filled in the pump component in the attachment input card from 5.0 to 0.0, but this seems to have no impact on the calculation results.\nMeanwhile, in the previous calculations, I set the parameters of the pump to be completely consistent with the PID control of the pump in the single_phase_flow chapter of the thermal hydraulic module tutorial, and found that the pump components needed to be calculated for over 10000 seconds to achieve the desired loop flow rate. Is it necessary to adjust the PID parameters accordingly because the pressure and working fluid of the circuit I calculated are different from those in the tutorial.\nIn addition, in the circuit I am currently calculating, how to reduce the pressure head value of the pump to reduce the pressure changes at the inlet and outlet of the pump? I just want to achieve forced circulation of gas in the circuit, and do not need the boost provided by the pump; Also, if possible, could you teach me how to display the real-time head parameter of the pump in the output? Thank you very much.",
                          "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11241486",
                          "updatedAt": "2024-11-13T14:52:18Z",
                          "publishedAt": "2024-11-13T14:52:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "joshuahansel"
                          },
                          "bodyText": "Is it necessary to adjust the PID parameters\n\nI recommend that you select your own. Unfortunately, it's a bit of trial and error. The coefficients in that tutorial may not work well for your situation. By the way, I usually set the derivative coefficient to 0.\n\nhow to reduce the pressure head value of the pump to reduce the pressure changes at the inlet and outlet of the pump?\n\nFor a given mass flow rate, you would need to examine the pressure drops in the rest of the system. The pump head will need to counteract those.\n\nI just want to achieve forced circulation of gas in the circuit, and do not need the boost provided by the pump\n\nI don't understand. To me, \"forced circulation\" means that you require the boost provided by the pump. Otherwise you rely on natural convection effects.\n\nhow to display the real-time head parameter of the pump in the output?\n\n  [pump_head]\n    type = RealControlDataValuePostprocessor\n    control_data_name = pid:output\n  []",
                          "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11244124",
                          "updatedAt": "2024-11-13T18:01:31Z",
                          "publishedAt": "2024-11-13T18:01:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "LGQ199810"
                          },
                          "bodyText": "Thank you very much for your previous answer. I have indeed fallen into a common sense misconception, which is to consider driving gas flow and boosting gas separately. I have checked the main pressure drop in my circuit and would like to ask you the following questions:\n\n\nIn my circuit, the flow area of the pipes is not consistent, and there may be a situation as shown in the figure below (this is a part of my calculation of the circuit, which is similar to the previous node diagram and uses a pump for driving), where the middle pipe is thin (with a diameter of 16mm) and the two sides of the pipe are thick (with a diameter of 30mm). However, the pressure drop in these areas is very obvious. Is there any method or special component (such as a tapered pipe or a tapered pipe) that can minimize the pressure drop of nearly 20.0 kPa caused by sudden changes in area as much as possible;\n\n\n\nIn addition, in the above model, when I expand the area of inlet_pipe and outlet_pipe to the flow area of down_pipe, the calculation will not converge due to being less than the minimum time step, and the calculation failure time is mostly around 0.0006s. What strategies do you have to adjust the input card to make the calculation converge for this type of calculation failure; Meanwhile, when I only change the area of one of inlet_pipe and outlet_pipe, the calculation can still converge, but the location where a significant pressure drop occurs will shift from jct3 to jct1;\n\n\nBesides, when reading the temperature and pressure of each pipeline in the circuit, I found that for down_pipe, gas flowing through this area will cause a slight temperature rise (from 622K to 624K without heating). I speculate that this is due to friction and other reasons. However, there is no such phenomenon in outlet_pipe with the same input parameters. May I ask about the possible reasons for this phenomenon and if there are any solutions; Currently, I have not specified the wall roughness for any pipeline (the input card for down_pipe is as follows)\n\n\n[down_pipe_3]\n    type = FlowChannel1Phase\n    position = '${fparse connect_length * 2 + exp_length} 0 0'\n    orientation = '0 0 -1'\n    length = ${down_pipe_length}\n    n_elems = ${down_pipe_n_elems}\n    A = '${fparse pi * down_pipe_dia * down_pipe_dia / 4.}'\n    D_h = ${down_pipe_dia}\n    initial_p = 1.0e6\n    initial_T = 600.0\n    initial_vel = 3.0\n    fp = ar\n  []",
                          "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11254123",
                          "updatedAt": "2024-11-14T13:06:57Z",
                          "publishedAt": "2024-11-14T13:06:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "joshuahansel"
                          },
                          "bodyText": "FlowChannel1Phase can be tapered to your liking; the parameter A takes the name of a Function, so you can make one that linear interpolates the area from A1 to A2.\nThis is a general convergence criteria, so there's no specific recommendation. Smoothing out discontinuities (both in space and time) is helpful. Otherwise you may want to play with tolerances and scaling factors to make sure you're not trying to over-solve. I typically use scaling_factor_1phase = '1 1 1e-5' for FlowChannel1Phase, scaling_factor_rhoEV = 1e-5 for the junction/junction-like (e.g., pump) components, scaling_factor_temperature = 1e-5 for the heat structures.\nFriction would cause it, as well as the area change at jct3 since that'll compress it.",
                          "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11254503",
                          "updatedAt": "2024-11-14T13:42:49Z",
                          "publishedAt": "2024-11-14T13:42:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "LGQ199810"
                          },
                          "bodyText": "Thank you for your answer. Based on your answer to question 1, when I attempting to interpolate the area of Flowchannel1Phase using a function, the program reported an error: 'The desired parameter' component/gas_inlet_pipe/A 'was not located for the' gas_inlet_pipe_area_ctl 'object, It either does not exist or has not been declared as controllable. 'If possible, could you provide a relatively correct usage method.\nMy initial goal for this function is to reduce the diameter of the gas_inlet_pipe component from down_pipe_dia (i.e. 30mm) to exp_gas_dia (i.e. 16mm) within the range of 0.0m to 0.3m on the component. I referred to the definition method of the secondary side flow rate in the single_phase_flow chapter of the thermal hydraulic module tutorial to write the control module and function. The main input cards are as follows:\nexp_gas_dia = '${units 16.0 mm -> m}'\ndown_pipe_dia = '${units 30.0 mm -> m}'\n\n[Functions]\n  [area_ctl]\n    type = PiecewiseLinear\n    xy_data = '\n      0.0   ${down_pipe_dia}\n      0.3   ${exp_gas_dia}'\n  []\n[]\n\n[Components]\n  [gas_inlet_pipe]\n    type = FlowChannel1Phase\n    position = '0 0 0'\n    orientation = '1 0 0'\n    length = ${connect_length}\n    n_elems = ${connect_n_elems}\n    A = ${fparse pi * exp_gas_dia * exp_gas_dia / 4.}'\n    D_h = ${exp_gast_dia}\n    initial_p = 1.0e6\n    initial_T = 1100.0\n    initial_vel = 3.0\n    fp = ar\n  []\n[]\n\n[ControlLogic]\n  [gas_inlet_pipe_area]\n    type = GetFunctionValueControl\n    function = area_ctl\n  []\n\n  [gas_inlet_pipe_area_ctl]\n    type = SetComponentRealValueControl\n    component = gas_inlet_pipe\n    parameter = A\n    value = gas_inlet_pipe_area:value\n  []\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11256143",
                          "updatedAt": "2024-11-14T15:28:26Z",
                          "publishedAt": "2024-11-14T15:28:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "joshuahansel"
                          },
                          "bodyText": "Delete the gas_inlet_pipe_area_ctl block and replace A = ${fparse pi * exp_gas_dia * exp_gas_dia / 4.}' with A = area_ctl.\nThere are some parameters that accept Function names directly. Others just take a floating point value, and some of these can be controlled. Check the documentation page for the class if you're ever unsure - it has tables of the input parameters and their types and whether they're controllable.",
                          "url": "https://github.com/idaholab/moose/discussions/29053#discussioncomment-11257193",
                          "updatedAt": "2024-11-14T17:03:18Z",
                          "publishedAt": "2024-11-14T17:03:17Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Doubts regarding Explicit Time Integrators.",
          "author": {
            "login": "zuckarm"
          },
          "bodyText": "hi all,\ni had a question about explicit midpoint scheme, which is for first order odes. is there a specific way to specify this time integrator system, as i am not seeing the desired solution when i use this scheme.\nwhen i use central difference scheme, i am getting the desired solution.",
          "url": "https://github.com/idaholab/moose/discussions/29044",
          "updatedAt": "2024-11-14T14:56:17Z",
          "publishedAt": "2024-11-11T11:40:09Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "which is for first order odes. is there a specific way to specify this time integrator system, as i am not seeing the desired solution when i use this scheme.\n\nI dont think so. There are a few options you can select, notably for preconditioning\nhttps://mooseframework.inl.gov/source/timeintegrators/ActuallyExplicitEuler.html\n\nwhen i use central difference scheme, i am getting the desired solution.\n\nThat one is second order. But you have to set solve_type = LINEAR",
                  "url": "https://github.com/idaholab/moose/discussions/29044#discussioncomment-11214531",
                  "updatedAt": "2024-11-11T13:08:34Z",
                  "publishedAt": "2024-11-11T13:08:32Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "zuckarm"
                          },
                          "bodyText": "i tried using ActuallyExplicitEuler, but i am facing the following error:\n*** ERROR ***\nThe following error occurred in the TimeStepper 'ConstantDT' of type ConstantDT.\n\nSolve failed and timestep already at or below dtmin, cannot continue!\n\ni have reduced dtmin to 1e-50, still the same error.\ni have solved dynamic problem using both implicit and explicit methods. following are the plots of displacement vs time for different methods. i am not able to figure what parameters need to changed in the code for first-order methods.\nthis plot is using implicit methods:\n\n\n\nthis plot is using explicit methods:",
                          "url": "https://github.com/idaholab/moose/discussions/29044#discussioncomment-11249421",
                          "updatedAt": "2024-11-14T05:02:37Z",
                          "publishedAt": "2024-11-14T05:02:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "i tried using ActuallyExplicitEuler, but i am facing the following error:\n\nThis error means the solve did not converge. You can try these techniques to make it converge:\nhttps://mooseframework.inl.gov//application_usage/failed_solves.html\n\ni have solved dynamic problem using both implicit and explicit methods. following are the plots of displacement vs time for different methods. i am not able to figure what parameters need to changed in the code for first-order methods.\n\nYou mostly need to reduce the time step for 1st order methods. 2nd order can use larger time steps to get the right solution.\nNot every time integration method will work for every problem as I am sure you are aware. Central difference for example is unstable for advection problems with higher Peclet numbers",
                          "url": "https://github.com/idaholab/moose/discussions/29044#discussioncomment-11255552",
                          "updatedAt": "2024-11-14T14:56:18Z",
                          "publishedAt": "2024-11-14T14:56:17Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Initialize variable value of newly activated element",
          "author": {
            "login": "keassyguang"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHello everyone,\nI am currently working on a additive manufacturing process simulation project using the MOOSE. I got some problems when I tried to initialize/reinitialize variable value of newly activated elements.\nAccording to the MOOSE documentation on ElementSubdomainModifier: https://mooseframework.inl.gov/source/meshmodifiers/ElementSubdomainModifier.html\n\nBy default, all elements that change subdomain ID are reinitialized to the new subdomain's initial condition.\n\nThe left part of the below picture shows a temperature initialization result of a newly added layer (Layer 2) within the ABAQUS software. For the newly added layer, Layer 2, the bottom nodes of this layer are shared with Layer 1 (top nodes of layer 1). ABAQUS initializes the temperature of Layer 2 by setting the specified value, except for these shared nodes, as the temperature of these nodes is kept the same as the value at the end of Layer 1.\nAs for MOOSE, based on my observations, since all elements move from the inactivated domain to the activated domain, all the nodes are initialized. For those shared nodes, it seems that MOOSE overrides their previous/existing values directly with the specified value. (If I am wrong, please correct me).\nI know there might be physical meaningful for both these two initializtion methods. But what should I do if I want to achieve the same initialization as in ABAQUS?",
          "url": "https://github.com/idaholab/moose/discussions/29015",
          "updatedAt": "2024-11-14T02:12:14Z",
          "publishedAt": "2024-11-06T09:24:19Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@hugary1995\nWe have not implemented this behavior afaik.\nWe can use the IC object to initialize, and can skip reinitialization based on the new and old subdomains these elements get assigned to.\nIn the current setup, I dont think this is hard to implement. I would do it with a NeighborElementsFunctorIC, which would be an IC that looks at the neighbor element values, possibly with a multi-layer stencil, and computes the average of neighbor values within the same subdomain (the new subdomain of the element being switched)",
                  "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11167124",
                  "updatedAt": "2024-11-06T14:01:14Z",
                  "publishedAt": "2024-11-06T14:01:14Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "keassyguang"
                          },
                          "bodyText": "Do you mean that I create a new IC object since I didn't find an existing IC object named \"NeighborElementsFunctorIC\"?",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11172481",
                          "updatedAt": "2024-11-07T02:03:34Z",
                          "publishedAt": "2024-11-07T02:03:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "yes",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11172501",
                          "updatedAt": "2024-11-07T02:07:48Z",
                          "publishedAt": "2024-11-07T02:07:47Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "You are right about variables being initialized to their initial conditions. You can selectively initialize certain subdomains using the reinitialize_subdomains parameter. Quoting the parameter description\n\nBy default, any element which changes subdomain is reinitialized. If a list of subdomains (IDs or names) is provided, then only elements whose new subdomain is in the list will be reinitialized. If an empty list is set, then no elements will be reinitialized.\n\nAs to your second question:\n\nAs for MOOSE, based on my observations, since all elements move from the inactivated domain to the activated domain, all the nodes are initialized. For those shared nodes, it seems that MOOSE overrides their previous/existing values directly with the specified value. (If I am wrong, please correct me).\n\nI don't believe that's the case, at least your observation is not the intended behavior. However, I see a potential issue when inspecting the source code. In ElementSubdomainModifierBase::applyIC method, we have the following call\n  _fe_problem.projectInitialConditionOnCustomRange(reinitializedElemRange(displaced),\n                                                   reinitializedBndNodeRange(displaced));\nIt calls the projectInitialConditionOnCustomRange provided by the framework on the newly reinitialized elements and boundary nodes. However, in your case where you are interested in reinitializing nodal variables, this might be forcibly reinitializing the \"shared\" nodes (in your original description).\nI agree this is an issue, and we should at least allow users to control the behavior on shared nodes.",
                  "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11227267",
                  "updatedAt": "2024-11-12T14:21:44Z",
                  "publishedAt": "2024-11-12T14:21:44Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "I created #29054 to keep track of this issue. I can work on this in the coming months.",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11227305",
                          "updatedAt": "2024-11-12T14:25:20Z",
                          "publishedAt": "2024-11-12T14:25:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "keassyguang"
                          },
                          "bodyText": "Thanks for the detailed explanation @hugary1995 and also thanks for the help so far @GiudGiud\n\nThings could get even weirder when I further checked the value of the variable at the quadrature point. As shown in the figure above, I think the current initialisation strategy might also affect the already activated elements connected to the shared nodes. Here the qp_id = 9 belongs to layer 1. The initial value of CM is around 4418, it reduces to 2323.55 after 4 seconds. However, as soon as the second layer is activated, its value changes to 4062, which should not happen as it should gradually reduce to a certain value. I also checked the InitialConditionTempl.h, it says:\n\n/** This is a template class that implements the workhorse compute and computeNodal methods. The former method is used for setting block initial conditions. It first projects the initial condition field to nodes, then to edges, then to faces, then to interior dofs. The latter computeNodal method sets dof values for boundary restricted initial conditions */\n\nI'm not sure if this is also caused by shared nodes.\n\nI created #29054 to keep track of this issue. I can work on this in the coming months.\n\nHope to see this feature soon!",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11238597",
                          "updatedAt": "2024-11-13T10:52:00Z",
                          "publishedAt": "2024-11-13T10:51:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I'm not sure if this is also caused by shared nodes.\n\nIn a way. The value of a variable at a Qp is not what we actually solve for. We solve for values of variables at degrees of freedom, which can be at nodes, on sides, etc. It depends on the variable type.\nThen the variable value at Qps is computed by evaluating the shape function there. If the shape function is affected by a changed nodal value, then that could be what is happening.\nWhich variable type is this?\nCould you please sample the variable on the boundary instead of Qps? Before and after the subdomain change.",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11241708",
                          "updatedAt": "2024-11-13T15:09:34Z",
                          "publishedAt": "2024-11-13T15:09:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "keassyguang"
                          },
                          "bodyText": "Which variable type is this?\n\nI think the variable type should be\norder = FIRST\nfamily = LAGRANGE\n\n\nCould you please sample the variable on the boundary instead of Qps? Before and after the subdomain change.\n\nI can sample the variable on the top boundary tomorrow.",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11241846",
                          "updatedAt": "2024-11-13T15:18:48Z",
                          "publishedAt": "2024-11-13T15:18:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok so these will all be nodal DoFs.",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11242080",
                          "updatedAt": "2024-11-13T15:35:54Z",
                          "publishedAt": "2024-11-13T15:35:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "keassyguang"
                          },
                          "bodyText": "The upper right curve shows the evolution of this variable over time. There is a sudden increase when the time equal to 4s.",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11242168",
                          "updatedAt": "2024-11-13T15:41:50Z",
                          "publishedAt": "2024-11-13T15:41:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "where is the \"point used to plot\"? Is that a node? Or a Qp? or a point on a side?",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11242299",
                          "updatedAt": "2024-11-13T15:50:14Z",
                          "publishedAt": "2024-11-13T15:50:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "keassyguang"
                          },
                          "bodyText": "where is the \"point used to plot\"? Is that a node? Or a Qp? or a point on a side?\n\nIt is a point on the top surface of layer 1, and I think it is also a node. A point on the top side of layer 1.",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11242377",
                          "updatedAt": "2024-11-13T15:56:40Z",
                          "publishedAt": "2024-11-13T15:56:38Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@hugary1995 Is there an option to get the ICs to apply (when triggered by a subdomain change) on the new elements but not on the boundary nodes?\nOr maybe this is already the default behavior?",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11242439",
                          "updatedAt": "2024-11-13T16:02:39Z",
                          "publishedAt": "2024-11-13T16:02:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "That is the intended behavior, but it is not happening. That's exactly what I want to fix.",
                          "url": "https://github.com/idaholab/moose/discussions/29015#discussioncomment-11242476",
                          "updatedAt": "2024-11-13T16:05:37Z",
                          "publishedAt": "2024-11-13T16:05:36Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "I cannot run the heat transfer module",
          "author": {
            "login": "styyokuda"
          },
          "bodyText": "All,\nI cannot run the heat transfer module. Pease see the attached error message and attached the Makefile in which the heat transfer module is set to be \"yes.\" Please help.\nS. Thomas",
          "url": "https://github.com/idaholab/moose/discussions/29026",
          "updatedAt": "2024-11-14T00:19:01Z",
          "publishedAt": "2024-11-07T20:38:11Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nwhen adding a new module you need to make clobberall then recompile. Sometimes you also need to clean moose as well",
                  "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11182238",
                  "updatedAt": "2024-11-07T20:47:06Z",
                  "publishedAt": "2024-11-07T20:47:05Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "Thank you very much.\nI am using the Heat Transfer module included in MOOSE and I make clobberall before compile.\nPlease help.",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11183584",
                          "updatedAt": "2024-11-08T00:23:57Z",
                          "publishedAt": "2024-11-08T00:23:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Go in moose/modules and make clobberall there\nIf it s still not working, save all your work in both folders using git commit, then use git clean -xfD to clean them",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11183653",
                          "updatedAt": "2024-11-08T00:40:20Z",
                          "publishedAt": "2024-11-08T00:40:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "After \"make clobberall\" in moose/module, am I suppose to compile (make -j 10) in moose/module?\nPlease help.",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11184071",
                          "updatedAt": "2024-11-08T01:53:51Z",
                          "publishedAt": "2024-11-08T01:53:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "No go compile in your application.",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11184132",
                          "updatedAt": "2024-11-08T02:03:20Z",
                          "publishedAt": "2024-11-08T02:03:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "\"make clobberall\" in the moose/module directory did not help ... sorry.",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11184188",
                          "updatedAt": "2024-11-08T02:16:10Z",
                          "publishedAt": "2024-11-08T02:16:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "time to switch to git clean -Xfd in moose/ and in your_app/ folders",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11184245",
                          "updatedAt": "2024-11-08T02:27:00Z",
                          "publishedAt": "2024-11-08T02:26:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "so\ncd ~/project/moose\ngit add .\ngit commit -am \"Save everything\"\ngit clean -Xfd\ncd ../my_app\ngit add .\ngit commit -am \"Save everything\"\ngit clean -Xfd\n\nif you know what you want to save specifically, you can change the git add / git commit part",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11190426",
                          "updatedAt": "2024-11-08T15:29:05Z",
                          "publishedAt": "2024-11-08T15:29:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "I did all of these git runs but it is still not working. It is seemingly caused by other things.",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11192724",
                          "updatedAt": "2024-11-08T19:31:30Z",
                          "publishedAt": "2024-11-08T19:31:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok you should git clone your app your app again and change the Makefile to see if it works that way",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11193784",
                          "updatedAt": "2024-11-08T22:43:01Z",
                          "publishedAt": "2024-11-08T22:43:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "Thank you, GiudGiud!\nSo, I am going to do re-installation. I am going to move the current projects directory to a new name.\nAlso, do I have to delete any files before the re-installation?\nPlease help.",
                          "url": "https://github.com/idaholab/moose/discussions/29026#discussioncomment-11217093",
                          "updatedAt": "2024-11-11T17:08:58Z",
                          "publishedAt": "2024-11-11T17:08:57Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Film rupture, dissolution and repassivation",
          "author": {
            "login": "engrmessi"
          },
          "bodyText": "I modelled a diffusion controlled stress corrosion cracking for film rupture dissolution mechanism\n\nNow I want to add Repassivation to the model. i.e. I want to developed Film Rupture, Dissolution and Repassivation FRDR cycle. Please how do I modify the attached material block.\nThank you",
          "url": "https://github.com/idaholab/moose/discussions/29070",
          "updatedAt": "2024-11-13T22:31:34Z",
          "publishedAt": "2024-11-13T22:31:33Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": []
          }
        }
      },
      {
        "node": {
          "title": "PoroFullSatTimeDerivative is not a registered object",
          "author": {
            "login": "ihernandezimbert"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nI am trying to run the borehole_lowres.i file in in the combined modules under poro_mechanics, however I am getting an error that PoroFullSatTimeDerivative is not a registered object.\nI have both solid mechanics and richards loaded in my Makefile, so I am not sure what I am missing.\nALL_MODULES         := no\n\nCHEMICAL_REACTIONS  := no\nCONTACT             := no\nFLUID_PROPERTIES    := yes\nHEAT_TRANSFER       := yes\nMISC                := no\nNAVIER_STOKES       := no\nPHASE_FIELD         := yes\nRDG                 := no\nRICHARDS            := yes\nSOLID_MECHANICS     := yes\nSTOCHASTIC_TOOLS    := no\nXFEM                := no\nPOROUS_FLOW         := yes\n\nAny help is appreciated - thank you very much!",
          "url": "https://github.com/idaholab/moose/discussions/29067",
          "updatedAt": "2024-11-13T19:53:12Z",
          "publishedAt": "2024-11-13T16:43:25Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "hello\nIf you just added the new modules, you need to recompile before they are available.\nUnfortunately you often need to also deep clean the app and moose before the modules are built in properly",
                  "url": "https://github.com/idaholab/moose/discussions/29067#discussioncomment-11245598",
                  "updatedAt": "2024-11-13T19:53:13Z",
                  "publishedAt": "2024-11-13T19:53:11Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Gap Distance Calculation Issue.",
          "author": {
            "login": "lucuo"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHello, Moose developers. I am performing heat transfer and mechanical calculations for two 3D blocks, with coupled gap distance heat transfer calculation set on two surfaces. These two surfaces have a certain curvature, and the initial gap distance is equal (the two surfaces can be viewed as arcs in the xy-plane, stretched in the z-direction).\nThe initial gap distance is correct; however, when one block undergoes displacement in the z-direction, the gap distance calculation produces errors at certain locations, with the gap nearly exceeding the distance limit. The positions where this occurs are distributed in a ring-like pattern, perpendicular to the z-axis.\nI used NearestNodeDistanceAux to output the gap distance between the two surfaces, but this problem still exists.\nHere are my mesh Settings\n  patch_size = 150\n  patch_update_strategy = iteration\n  partitioner = centroid \n  centroid_partitioner_direction = z\n\nand ThermalContact\n  quadrature = true\n  gap_geometry_type = CYLINDER\n  cylinder_axis_point_1 = '0 0 0'\n  cylinder_axis_point_2 = '0 0 1'\n\nand Executioner\n  type = Transient\n  solve_type = 'PJFNK'\n  petsc_options_iname = '-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter'\n  petsc_options_value = '201    hypre   boomeramg    4'\n  line_search = 'none'\n  automatic_scaling = true\n  start_time = 0.0\n  end_time = 10\n  dtmax = 1\n\nand contact\n    primary = 1\n    secondary = 2\n    penalty = 1e8\n    formulation = PENALTY\n    model = frictionless\n\nIs there any mistake in my setup or something that needs improvement?",
          "url": "https://github.com/idaholab/moose/discussions/29059",
          "updatedAt": "2024-11-13T14:23:33Z",
          "publishedAt": "2024-11-12T16:43:45Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nDo you have a figure to show what is happening? I m having trouble conceptualizing it\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/29059#discussioncomment-11229827",
                  "updatedAt": "2024-11-12T17:32:16Z",
                  "publishedAt": "2024-11-12T17:32:15Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lucuo"
                          },
                          "bodyText": "I use NearestNodeDistanceAux to output the distance between the two surfaces, which is a cloud map of the distance between one surface (with paraview scaling 10:1 in the z direction).\nThere is no problem in the initial calculation, but once a surface is displaced in the z direction, the calculation becomes problematic\n\nAt the same time, when I use thermalcontact to calculate the heat transfer between the two surfaces, I also have problems because of the wrong gap distance.",
                          "url": "https://github.com/idaholab/moose/discussions/29059#discussioncomment-11239923",
                          "updatedAt": "2024-11-13T13:15:02Z",
                          "publishedAt": "2024-11-13T13:15:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "in the NearestNodeAux, did you set use_displaced_mesh = true ?\n\nAt the same time, when I use thermalcontact to calculate the heat transfer between the two surfaces, I also have problems because of the wrong gap distance\n\nIs this one computing its own distance?\nWhat syntax are you using? (block as well as parameters)",
                          "url": "https://github.com/idaholab/moose/discussions/29059#discussioncomment-11240032",
                          "updatedAt": "2024-11-13T14:07:01Z",
                          "publishedAt": "2024-11-13T13:24:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lucuo"
                          },
                          "bodyText": "NearestNodeDistanceAux::validParams()\n{\n  InputParameters params = AuxKernel::validParams();\n  params.addClassDescription(\n      \"Stores the distance between a block and boundary or between two boundaries.\");\n  params.addRequiredParam<BoundaryName>(\"paired_boundary\", \"The boundary to find the distance to.\");\n  params.set<bool>(\"use_displaced_mesh\") = true;\n  return params;\n}\n\nThe default setting for NearestNodeDistanceAux is use_displaced_mesh = true, which I used",
                          "url": "https://github.com/idaholab/moose/discussions/29059#discussioncomment-11240277",
                          "updatedAt": "2024-11-13T13:44:34Z",
                          "publishedAt": "2024-11-13T13:44:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lucuo"
                          },
                          "bodyText": "ThermalContactAction.C has params.set<std::vector<VariableName>>(\"gap_distance\") = {\"penetration\"}; I use gap_distance to calculate the gap heat transfer coefficient and update the heat transfer coefficient.",
                          "url": "https://github.com/idaholab/moose/discussions/29059#discussioncomment-11240367",
                          "updatedAt": "2024-11-13T13:52:59Z",
                          "publishedAt": "2024-11-13T13:52:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "params.set<std::vector>(\"gap_distance\") = {\"penetration\"};\n\nThis means we use the penetration auxvariable to compute the gap distance.\nYou should be able to output it the same way you output the nearest-node distance (is that one used in the calculation?)\nAre you running this in parallel?\nAny reason you are splitting the domain in Z using the centroid partitioner?",
                          "url": "https://github.com/idaholab/moose/discussions/29059#discussioncomment-11240926",
                          "updatedAt": "2024-11-13T14:23:34Z",
                          "publishedAt": "2024-11-13T14:23:33Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Create a new kernel with time derivative of the gradient of coupled variables, such as strain rate.",
          "author": {
            "login": "Yaode-Yin"
          },
          "bodyText": "Hello MOOSE expert,\nI'm try to couple solid mechanics and the heat conduction. And some coupled terms should be added in the governing equation of heat transfer.\nIn the new heat equation, I have new terms related to the strain rate. So I think I need a new kernel for this term. So how can I create a new kernel with time derivative of the gradient of coupled variables, such as strain rate or the rate of order parameter?",
          "url": "https://github.com/idaholab/moose/discussions/29029",
          "updatedAt": "2024-11-13T14:04:46Z",
          "publishedAt": "2024-11-08T03:17:17Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nHave you followed the tutorial ? There is an example on how to create a new kernel.\nThe derivative of the gradient of the kernel can be obtained using the Coupleable interface\nhttps://mooseframework.inl.gov/source/interfaces/Coupleable.html\nbut only for variables. An order parameter is a variable. The strain might be a material property?",
                  "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11190329",
                  "updatedAt": "2024-11-08T15:20:00Z",
                  "publishedAt": "2024-11-08T15:19:59Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Yaode-Yin"
                          },
                          "bodyText": "Hi, GiudGiud. Thanks for your reply. I have followed the tutorial of creating a Diffusion kernel. But I still cannot solve my problem.\nI'm try to solve a three-field coupled problem, and there are three nonlinear variables: displacements u =[ux uy uz], temperature T and order parameter c.\nIn the scenario, the displacements and order parameter has added additional terms in heat conduction equation. For the order parameter, it has added the following term in heat equation:  c0 * T * grad(c)* dgrad(c)dt , where c0 is a material property.  And the weak form of this term should be c0 * T * grad(c) * dgrad(c)dt * test_function.\nAnd in MOOSE kernel file, the residual should be _c0[_qp] * _phi[_qp] *_u[_qp] *_grad_v[_qp]*_grad_v_dot[_qp]*_test[_qp]. I'm not sure whether the expression is right or not.",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11190802",
                          "updatedAt": "2024-11-08T16:03:42Z",
                          "publishedAt": "2024-11-08T16:03:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "c0 * T * grad(c) * dgrad(c)dt * test_function.\n\nshould translate to\n_c0[_qp] *_u[_qp] *_grad_v[_qp]*_grad_v_dot[_qp]*_test[_qp]\n\nif:\n\nT is the variable so _u is actually T\ngrad_c has been coupled in using coupledGradient(\"c\") to set grad_v\nsame for dot\n\nI recommend you upload your code to a git repository so you can share links here rather than paste extracts",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11190882",
                          "updatedAt": "2024-11-08T16:09:20Z",
                          "publishedAt": "2024-11-08T16:09:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yaode-Yin"
                          },
                          "bodyText": "Thank you very much for your reply. My code has not finished yet. I'll upload it latter.\nI still have question on how to add a strain rate terms.   In my problem, the displacements also introduce additional term in heat equation, like:\n c1 * sigma : depsilondt\nwhere c1 is a material property, sigma is a second-order tensor, epsilon is the small deformation strain, depsilondt is its rate.\nI have no idea how to implement the term like this in MOOSE kernel system.",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11191096",
                          "updatedAt": "2024-11-08T16:31:34Z",
                          "publishedAt": "2024-11-08T16:31:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "c1 can be retrieved using getMaterialProperty, see any \"Mat\"Something kernel for an example\nsigma can be a RealTensorValue. Is it going to be a material property or a constant?\nepsilon, are you defining that one yourself or are you using the strain from the solid mechanics module?",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11191237",
                          "updatedAt": "2024-11-08T16:44:02Z",
                          "publishedAt": "2024-11-08T16:44:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yaode-Yin"
                          },
                          "bodyText": "I think sigma should be a material property, because it is calculated with all the three field variables. Epsilon is the small deformation strain from the solid mechanics module.",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11191441",
                          "updatedAt": "2024-11-08T17:02:39Z",
                          "publishedAt": "2024-11-08T17:02:38Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You can define tensors as material properties. So I think you can follow existing tensor material property examples to make it for now",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11191471",
                          "updatedAt": "2024-11-08T17:06:21Z",
                          "publishedAt": "2024-11-08T17:06:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yaode-Yin"
                          },
                          "bodyText": "So do you mean I can create a kernel like c1* c2* c3 * test_function, and treat sigma and depsilondt as material properties? If so, do you have any example material property containing strain rate?",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11191534",
                          "updatedAt": "2024-11-08T17:12:19Z",
                          "publishedAt": "2024-11-08T17:12:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I d look in the solid mechanics module for examples",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11191759",
                          "updatedAt": "2024-11-08T17:37:59Z",
                          "publishedAt": "2024-11-08T17:37:57Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yaode-Yin"
                          },
                          "bodyText": "Hi, GiudGiud. I'm very new to crate moose kernel and struggling to implement the CoupledGradientTimeDerivative. It should be in the MOOSE framework, and computes the time derivative of the gradient of a coupled variable. I tried to implement this kernel based on the existing kernel CoupledTimeDerivative, but failed.  My code can be seen from https://github.com/Yaode-Yin/MOOSE_10_11_2024",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11204530",
                          "updatedAt": "2024-11-10T14:48:23Z",
                          "publishedAt": "2024-11-10T14:46:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "How did it fail? Is it not compiling or are you getting an error at runtime?",
                          "url": "https://github.com/idaholab/moose/discussions/29029#discussioncomment-11205752",
                          "updatedAt": "2024-11-10T18:15:30Z",
                          "publishedAt": "2024-11-10T18:15:29Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "CONDA style MOOSE installation issue in HPC",
          "author": {
            "login": "mdh23rct"
          },
          "bodyText": "Dear all,\nI have installed Conda MOOSE Environment in our HPC cluster. However, when I run the slurm script, it gives the error \"error while loading shared libraries: libwaspcore.so.04: cannot open shared object file: No such file or directory\"\nI looked at the projects/moose/conda/wasp/ directory. I am not seeing any libwaspcore.so.04 file in the wasp folder. What I can do now?\nDuring cloning and making the moose folder I did not see any error, though.\nI would appreciate if you could manage time to reply.\nThanks.",
          "url": "https://github.com/idaholab/moose/discussions/28906",
          "updatedAt": "2024-11-13T04:00:26Z",
          "publishedAt": "2024-10-22T18:13:11Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "While working within an HPC enclave, it is best to use that clusters vetted compiler stack, rather than install ours via Conda.\nYou should instead be following these instructions: https://mooseframework.inl.gov/getting_started/installation/hpc_install_moose.html\nThe error you are receiving is likely a result of building with one set of compilers while attempting to use another (HPC modules verses our Conda packages).\nThe location you are describing moose/conda/wasp/ is the location containing the recipes necessary to build the Conda moose-wasp package used for redistribution on our https://conda.software.inl.gov/public channel. Basically, nothing you need concern yourself with.",
                  "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11020621",
                  "updatedAt": "2024-10-22T18:23:16Z",
                  "publishedAt": "2024-10-22T18:23:15Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "mdh23rct"
                          },
                          "bodyText": "@milljm I understand. But, when I run a standalone simulation using ./ex01-opt -i   ex01.i, the simulation runs!! The error appears only if using the slurm script. why?",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11020698",
                          "updatedAt": "2024-10-22T18:34:01Z",
                          "publishedAt": "2024-10-22T18:33:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Can you post your SLURM batch file?\nWhat we will have to do, is run several commands in this batch file to make a determination about the environment, something like:\n#!/bin/bash\n#SBATCH --time=1:00:00 # walltime\n#SBATCH --ntasks-per-node=1 # number of processor cores (i.e. tasks)\n#SBATCH --nodes=1 # number of nodes\n#SBATCH -J \"my_job_name\" # job name\n\nenv | sort                          # shows everything set\ncd /home/you/projects/moose/scripts\n./diagnostics.sh                    # will grant us a wide range of helpful information\nmodule list                         # perhaps some MPI modules are pre-loaded\n\ncd /path/to/ex01-opt\n./ex01-opt -i ex01.i\nWith this information we can see why or what, is conflicting (if anything).",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11021426",
                          "updatedAt": "2024-10-22T19:50:59Z",
                          "publishedAt": "2024-10-22T19:50:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mdh23rct"
                          },
                          "bodyText": "@milljm please have the slurm script:\n#!/bin/bash\n#SBATCH --job-name=Recrystallization_original\n#SBATCH --nodes=1\n#SBATCH --ntasks-per-node=128\n#SBATCH --cpus-per-task=1\n#SBATCH --time=0:5:0\n#SBATCH --account=e882\n#SBATCH --partition=standard\n#SBATCH --qos=standard\nexport OMP_NUM_THREADS=1\nexport SRUN_CPUS_PER_TASK=$SLURM_CPUS_PER_TASK\nsrun --distribution=block:block --hint=nomultithread /mnt/lustre/a2fs-work4/work/e882/e882/mdh23rct/projects/recryss/recryss-opt -i Recrystallization_original.i\ndate\nAnything wrong in the script?\nThanks.",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11021708",
                          "updatedAt": "2024-10-22T20:28:30Z",
                          "publishedAt": "2024-10-22T20:28:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mdh23rct"
                          },
                          "bodyText": "@milljm I ran the slurm script you have suggested. Please have the slurm output showing a lot of information with the same error\n\"./recryss-opt: error while loading shared libraries: libwaspcore.so.04: cannot open shared object file: No such file or directory\"\nslurm-output.txt\nPlease help. Thanks.",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11021965",
                          "updatedAt": "2024-10-22T21:02:48Z",
                          "publishedAt": "2024-10-22T21:02:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "can you report the output of ldd recryss-opt",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11022874",
                          "updatedAt": "2024-10-22T23:51:25Z",
                          "publishedAt": "2024-10-22T23:51:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I would be interested in seeing ldd recryss-opt as well.\nOne glaring concern of mine, is that recryss-opt was built using Conda compilers, yet Conda is no where to be found in your SLURM batch environment right before the binary is run.",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11029050",
                          "updatedAt": "2024-10-23T12:52:16Z",
                          "publishedAt": "2024-10-23T12:52:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "One glaring concern of mine, is that recryss-opt was built using Conda compilers, yet Conda is no where to be found in your SLURM batch environment right before the binary is run.\n\nyeah I agree.\nLet's conda activate moose right before the srun comand if you are going to be using a conda-build on this cluster (not usually recommended)",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11029103",
                          "updatedAt": "2024-10-23T12:55:30Z",
                          "publishedAt": "2024-10-23T12:55:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I don't see conda anywhere in the output. Not in the env | sort, and not in PATH... I am not so sure a conda activate will work in our case now that I think about it.\nStrangely, the only mentioning of Conda, is our public channel. Hmm... actually, I think that is being set by our diagnostic script.\n@mdh23rct, if you can re-run the ./diagnostic.sh script manually, and report those results again, that may prove helpful. By manually, I mean, not via a SLURM job submission.",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11029259",
                          "updatedAt": "2024-10-23T13:11:06Z",
                          "publishedAt": "2024-10-23T13:11:05Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "mdh23rct"
                  },
                  "bodyText": "@GiudGiud @milljm Hi both, finally, I have been able to build MOOSE in our cluster with some failed tests. Since the XDR output is not supported in our cluster, it has been removed from the libmesh.sh script. I am not familiar with other failed tests. I have attached the slurm output file here. Would you be kind have a look into it and let me know if those failed tests will affect my simulations using the phase-field module?\nslurm-output.txt\nThanks.",
                  "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11126295",
                  "updatedAt": "2024-11-01T21:53:10Z",
                  "publishedAt": "2024-11-01T21:53:09Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "so you have a bunch from missing XDR. This is our bad, we should not be running these tests with no XDR. I ll create a patch for MOOSE now.\nMissing XDR\noutputs/format.xdr_output \ufffd[90m................................................\ufffd[0m \ufffd[31m[FINISHED]\ufffd[0m \ufffd[31mFAILED (ERRMSG)\ufffd[0m [39.28s]\noutputs/xda_xdr.both_xda_and_xdr \ufffd[90m....................................................\ufffd[0m \ufffd[31mFAILED (ERRMSG)\ufffd[0m [6.636s]\noutputs/xda.group/xdr \ufffd[90m....................................................\ufffd[0m \ufffd[31m[FINISHED]\ufffd[0m \ufffd[31mFAILED (ERRMSG)\ufffd[0m [14.57s]\nmesh/checkpoint.test_2a_generate_split \ufffd[90m..............................................\ufffd[0m \ufffd[31mFAILED (ERRMSG)\ufffd[0m [3.614s]\nauxkernels/solution_aux.aux_nonlinear_solution/build \ufffd[90m................................\ufffd[0m \ufffd[31mFAILED (ERRMSG)\ufffd[0m [19.04s]\npostprocessors/num_elems.test_split \ufffd[90m....................................\ufffd[0m \ufffd[31m[min_cpus=4]\ufffd[0m \ufffd[31mFAILED (ERRMSG)\ufffd[0m [4.870s]\npostprocessors/num_nodes.test_split \ufffd[90m....................................\ufffd[0m \ufffd[31m[min_cpus=4]\ufffd[0m \ufffd[31mFAILED (ERRMSG)\ufffd[0m [1.372s]\n\nIncorrect Jacobian by so little it's just numerical precision\nkernels/vector_fe.jacobian \ufffd[90m..............................................\ufffd[0m \ufffd[31mFAILED (INCORRECT JACOBIAN)\ufffd[0m [5.714s]\nwith\n\ufffd[31mkernels/vector_fe.jacobian: \ufffd[0m  ||J - Jfd||_F/||J||_F = 1.10599e-07, ||J - Jfd||_F = 2.20048e-07\n\nYour cluster does not use mpirun and we want to catch people who are missing MPI alltogether on this test\nmisc/mpi_setup.basic_mpirun_works \ufffd[90m.........................................\ufffd[0m \ufffd[31mFAILED (TESTER EXCEPTION)\ufffd[0m [0.000s]\n\nThese tests are known to be brittle with numerical precision\ngeomsearch/3d_moving_penetration.pl_test4 \ufffd[90m..........................................\ufffd[0m \ufffd[33mFAILED (EXODIFF)\ufffd[0m [17.38s]\ngeomsearch/3d_moving_penetration.pl_test4q \ufffd[90m.........................................\ufffd[0m \ufffd[33mFAILED (EXODIFF)\ufffd[0m [6.783s]\ngeomsearch/3d_moving_penetration.pl_test4tt \ufffd[90m........................................\ufffd[0m \ufffd[33mFAILED (EXODIFF)\ufffd[0m [2.827s]\nmeshgenerators/xy_delaunay_generator.xydelaunay/area_func \ufffd[90m..........................\ufffd[0m \ufffd[33mFAILED (EXODIFF)\ufffd[0m [0.486s]\nmeshgenerators/xy_delaunay_generator.xydelaunay/auto_area_func \ufffd[90m.....................\ufffd[0m \ufffd[33mFAILED (CSVDIFF)\ufffd[0m [17.77s]\n\nThe penetration stuff is a little brittle (to test) because it makes decisions on which element to pair to which node based on the \"nearest\" one. That can be ill-defined if there are two.\nThe XY triangulation is using a downstream library and we have seen different triangulation be output based on floating point precision issues.\nI dont know but I suspect a \"nearest-point\" indetermination.\nvectorpostprocessors/nearest_point_integral.points_from_uo \ufffd[90m.........................\ufffd[0m \ufffd[33mFAILED (CSVDIFF)\ufffd[0m [25.73s]\n\nNot sure. If someone wants to investigate please do.\nkernels/vector_fe.coupled_electrostatics/tet14 \ufffd[90m.....................................\ufffd[0m \ufffd[33mFAILED (EXODIFF)\ufffd[0m [4.828s]",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11126390",
                          "updatedAt": "2024-11-01T22:14:08Z",
                          "publishedAt": "2024-11-01T22:14:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mdh23rct"
                          },
                          "bodyText": "@GiudGiud What is the solution for missing XDR now? Can we run moose without it?",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11207013",
                          "updatedAt": "2024-11-10T22:02:17Z",
                          "publishedAt": "2024-11-10T22:02:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Absolutely. There are very easy workarounds for using checkpoints without xdr",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11208796",
                          "updatedAt": "2024-11-10T23:26:00Z",
                          "publishedAt": "2024-11-10T23:25:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mdh23rct"
                          },
                          "bodyText": "@GiudGiud what do you mean by checkpoints? does it mean somesort of firewall logs?",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11208808",
                          "updatedAt": "2024-11-10T23:45:50Z",
                          "publishedAt": "2024-11-10T23:28:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Checkpoint is a type of output to save the current state of a run to be able to restart from it later",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11208933",
                          "updatedAt": "2024-11-11T00:08:48Z",
                          "publishedAt": "2024-11-11T00:08:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mdh23rct"
                          },
                          "bodyText": "@GiudGiud I have generated a MOOSE application in our HPC cluster. However, there is a strange problem appearing in the application folder.\n\nThe app-opt executable is inside the app folder after the app folder is generated using ./moose/scripts/stork.sh app.\nI change the modules to \"yes\" (PHASE_FIELD                 := yes) inside the makefile.\nNow give command: make clobberall, and the app-opt executable disappears permanently from the app folder.\n\nDo you know any reason why it is happening? I have not seen something like this before.\nThanks.",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11217965",
                          "updatedAt": "2024-11-11T18:52:58Z",
                          "publishedAt": "2024-11-11T18:52:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "When you make clobberall it cleans the repository. So it s normal that it deletes the executable",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11218094",
                          "updatedAt": "2024-11-11T19:09:33Z",
                          "publishedAt": "2024-11-11T19:09:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mdh23rct"
                          },
                          "bodyText": "@GiudGiud however, after that if I run the command make -j 6, the executable does not appear at all. Why? any reason?",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11218130",
                          "updatedAt": "2024-11-11T19:12:44Z",
                          "publishedAt": "2024-11-11T19:12:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "it should appear/ what does it say?",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11218246",
                          "updatedAt": "2024-11-11T19:27:20Z",
                          "publishedAt": "2024-11-11T19:27:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mdh23rct"
                          },
                          "bodyText": "@GiudGiud First, staying in the app directory /work/e882/e882/mdh23rct/projects/recryss/\nAfter make clobberall\nmake -j 6 shows me the error:\n***ERROR***\nWASP does not seem to be available.\nMake sure to either run scripts/update_and_rebuild_wasp.sh in your MOOSE directory,\nor set WASP_DIR to a valid WASP install\nmake: *** [/work/e882/e882/mdh23rct/projects/moose/framework/moose.mk:392: wasp_submodule_status] Error 1\nmake: *** Waiting for unfinished jobs....\nRebuilding symlinks in /work/e882/e882/mdh23rct/projects/moose/framework/build/header_symlinks\n**********************************************************************************\nFollowing that I run the script\n./update_and_rebuild_wasp.sh \nfrom the moose directory\n/work/e882/e882/mdh23rct/projects/moose/scripts\n\nNext, make -j 6 command from /work/e882/e882/mdh23rct/projects/recryss/   directory works but does not generate the executable.\nDo you have any guess why it is happening?\nI can ensue you the moose directory has been built properly using the scripts:\n./update_and_rebuild_petsc.sh CC=cc CXX=CC FC=ftn\n./update_and_rebuild_libmesh.sh CC=cc CXX=CC FC=ftn\n./update_and_rebuild_wasp.sh\n\nAny solution will be appreciated.\nThanks.",
                          "url": "https://github.com/idaholab/moose/discussions/28906#discussioncomment-11219046",
                          "updatedAt": "2024-11-11T21:31:09Z",
                          "publishedAt": "2024-11-11T21:23:33Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "spatially uniform distribution Grains",
          "author": {
            "login": "ashishdhole"
          },
          "bodyText": "Hello,\nIs there a way I can generate spatially uniform distribution grain structure. Voronoi type user object gives wide range of grain sizes and shapes.\nThank you",
          "url": "https://github.com/idaholab/moose/discussions/29061",
          "updatedAt": "2024-11-13T02:42:24Z",
          "publishedAt": "2024-11-13T02:42:23Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": []
          }
        }
      }
    ]
  }
}