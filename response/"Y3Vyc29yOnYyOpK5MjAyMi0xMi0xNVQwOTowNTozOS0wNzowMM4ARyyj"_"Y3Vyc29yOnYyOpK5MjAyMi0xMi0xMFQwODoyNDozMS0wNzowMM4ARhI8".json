{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMi0xMi0xMFQwODoyNDozMS0wNzowMM4ARhI8"
    },
    "edges": [
      {
        "node": {
          "title": "Convergence Issue: Nonlinear solve did not converge due to DIVERGED_FNORM_NAN iterations 0",
          "author": {
            "login": "batodon"
          },
          "bodyText": "Hello,\nI\u2019m getting the following nonlinear convergence error when running a PorousFlow steady-state simulation. Although I previously simulated a \u2018different\u2019 version of this model successfully.\nNonlinear solve did not converge due to DIVERGED_FNORM_NAN iterations 0\n Solve Did NOT Converge!\n\nAnd so, I tried simulating the same problem in a transient state, and I got this error:\n*** ERROR ***\nThe following error occurred in the object \"TimeStepper\", of type \"IterationAdaptiveDT\".\n\nSolve failed and timestep already at dtmin, cannot continue!\n\nI\u2019ve read previous discussions about this issue, but none seem to work. I\u2019m guessing the problem is with my Timestepper, specifically my tolerances (I may be wrong). Please, help. Here is my input file for the steady state. Thanks.",
          "url": "https://github.com/idaholab/moose/discussions/22965",
          "updatedAt": "2022-12-15T00:00:11Z",
          "publishedAt": "2022-12-14T22:46:39Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "batodon"
                  },
                  "bodyText": "Please ignore this ticket. I found the bug! Thanks.",
                  "url": "https://github.com/idaholab/moose/discussions/22965#discussioncomment-4404919",
                  "updatedAt": "2022-12-14T23:59:42Z",
                  "publishedAt": "2022-12-14T23:59:42Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Time itterations in transfer",
          "author": {
            "login": "philipJFpfahl"
          },
          "bodyText": "Hey,\nI have a master-app in which I do fluid dynamics with the INSFV module and a sub-app in which I calculate the particle concentration using FE.\nNow I transfer with MultiAppShapeEvaluationTransfer the concentration to my parent app and back. It seems like I can't get the timing to work. I need some transfer like this:\n\nSo I want the sub-app to run a full-time step. Then the master app should pull the concentration. Do advection with it and then finish the time step by pushing it to the sub-app. The sub-app should start a new time step with the newly pushed concentration.\nBut this transfer like this\n[Transfers]\n  [pull_C]\n    type = MultiAppShapeEvaluationTransfer\n    from_multi_app = Subapp\n    source_variable = C\n    variable = C\n    execute_on = TIMESTEP_INITIAL\n  []\n  [push_C]\n    type = MultiAppShapeEvaluationTransfer\n    fto_multi_app = Subapp\n    source_variable = C\n    variable = C\n    execute_on = TIMESTEP_END\n  []\n[]\n\nSeems not to work. At least the solution is non-physical.\nI do the advection with\n  [C_time]\n    type = FVTimeKernel\n    variable = C\n  []\n  [C_advection]\n    type = INSFVScalarFieldAdvection\n    variable = C\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n  []\n\nand I initialize C with\n[Variables]\n  [C]\n    type = INSFVScalarFieldVariable\n  []\n[]\n\nSome insights I have:\n-The solution converges most of the time if I \"just\" pull and push C to from to the sub-app, but does not give a physical answer.\n-It seems to work fine if I do only pull from the sub-app and execute_on = TIMESTEP_END.\n-The advection works fine on its own when I pull.\nI am happy about any ideas and all suggestions.\nAll the best,\nPhilip",
          "url": "https://github.com/idaholab/moose/discussions/22901",
          "updatedAt": "2022-12-14T17:03:58Z",
          "publishedAt": "2022-12-06T21:36:35Z",
          "category": {
            "name": "Q&A Modules: Navier-Stokes"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThis parameter seems mispelled\nfto_multi_app = Subapp\nalso this execute_on does not exist? It should be timestep_begin maybe?\n[Transfers]\n  [pull_C]\n    execute_on = TIMESTEP_INITIAL\n\nIn general, for multiphysics iterations you want to execute the transfers on the same execute_on as the multiapp. Here you should have both on timestep_end.\nAny other execution schedule is for custom schemes and advanced use.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4327206",
                  "updatedAt": "2022-12-06T21:41:00Z",
                  "publishedAt": "2022-12-06T21:40:59Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "philipJFpfahl"
                          },
                          "bodyText": "Hey,\nyes the comments are correct.\nit shoudhave been:\n[Transfers]\n  [pull_C]\n    execute_on = TIMESTEP_BEGIN\n\nand to_multi_app = Subapp.\nI don't understand. What does MOOSE do, when the push and pull commands are at the same time?\nIn what order are the apps acting on the variable?\nPhilip",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4327550",
                          "updatedAt": "2022-12-06T22:41:45Z",
                          "publishedAt": "2022-12-06T22:41:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You may turn on verbose_multiapps = true in the Problem to see what moose is doing\nIt goes:\ntransfer to multiapp\nrun multiapp\ntransfer from multiapp",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4327575",
                          "updatedAt": "2022-12-06T22:46:49Z",
                          "publishedAt": "2022-12-06T22:46:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "philipJFpfahl"
                          },
                          "bodyText": "Hey,\nI checked and you are completly right. There is an other issue with the transfer and the kernel we discussed in here. I will make a separate discussion about that.\nMeanwhile, thank you a lot!\nPhilip",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4344552",
                          "updatedAt": "2022-12-08T15:44:49Z",
                          "publishedAt": "2022-12-08T15:44:48Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "philipJFpfahl"
                  },
                  "bodyText": "Hey,\nI dont know if I should make a new discussion about this, but it still fits here.\nSo I want to do a fluid simulation with FiniteVolumes and advect a concentration within this simulation.\nIn a FiniteElement simulation, I want to scale the concentration over time. A minimal working example is shown below as master and sub.\nI can combine the two scripts into one FV simulation for this simple example. This is not possible for my purposes, since the meshes will be different sizes, but it shows, how the final solution should be. The script is also shown below.\nMy questions:\n-How do I tell moose that it should scale the concentration in one app and then advect it in the other?\nI think it should also be the same solution it both apps.\n-Am I using the right transfers or should I use different ones?\n-What is the correct execute_on?\nif I just use TIMESTEP_END the concentration becomes zero everywhere.\nhere is the code:\nmaster:\nrho = 2000\nmu = 50 \ncp = 3750\nk = 100\n\n[Mesh]\n  [gen]\n    type = GeneratedMeshGenerator\n    dim = 2\n    xmin = 0\n    xmax = 2.0\n    ymin = 0\n    ymax = 2.0\n    nx = 50\n    ny = 50\n  []\n  [pin]\n    type = ExtraNodesetGenerator\n    input = gen\n    new_boundary = 'pin'\n    nodes = '0'\n  []\n[]\n\nvelocity_interp_method = 'rc'\nadvected_interp_method = 'average'\n[GlobalParams]\n  rhie_chow_user_object = 'rc'\n[]\n\n[UserObjects]\n  [rc]\n    type = INSFVRhieChowInterpolator\n    u = u\n    v = v\n    pressure = pressure\n  []\n[]\n\n[Variables]\n  [u]\n    type = INSFVVelocityVariable\n  []\n  [v]\n    type = INSFVVelocityVariable\n  []\n  [pressure]\n    type = INSFVPressureVariable\n  []\n  [lambda]\n    family = SCALAR\n    order = FIRST\n  []\n  [C]\n    type = INSFVScalarFieldVariable\n  []\n[]\n\n\n[AuxVariables]\n  [U]\n    order = CONSTANT\n    family = MONOMIAL\n    fv = true\n  []\n[]\n\n[AuxKernels]\n  [mag]\n    type = VectorMagnitudeAux\n    variable = U\n    x = u\n    y = v\n  []\n[]\n\n[FVKernels]\n  [mass]\n    type = INSFVMassAdvection\n    variable = pressure\n    advected_interp_method = ${advected_interp_method}\n    velocity_interp_method = ${velocity_interp_method}\n    rho = ${rho}\n  []\n  [mean_zero_pressure]\n    type = FVIntegralValueConstraint\n    variable = pressure\n    lambda = lambda\n  []\n\n  [u_time]\n    type = INSFVMomentumTimeDerivative\n    variable = 'u'\n    rho = ${rho}\n    momentum_component = 'x'\n  []\n  [u_advection]\n    type = INSFVMomentumAdvection\n    variable = u\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n    rho = ${rho}\n    momentum_component = 'x'\n  []\n  [u_viscosity]\n    type = INSFVMomentumDiffusion\n    variable = u\n    mu = ${mu}\n    momentum_component = 'x'\n  []\n  [u_pressure]\n    type = INSFVMomentumPressure\n    variable = u\n    momentum_component = 'x'\n    pressure = pressure\n  []\n\n  [v_time]\n    type = INSFVMomentumTimeDerivative\n    variable = v\n    rho = ${rho}\n    momentum_component = 'y'\n  []\n  [v_advection]\n    type = INSFVMomentumAdvection\n    variable = v\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n    rho = ${rho}\n    momentum_component = 'y'\n  []\n  [v_viscosity]\n    type = INSFVMomentumDiffusion\n    variable = v\n    mu = ${mu}\n    momentum_component = 'y'\n  []\n  [v_pressure]\n    type = INSFVMomentumPressure\n    variable = v\n    momentum_component = 'y'\n    pressure = pressure\n  []\n  [C_time]\n    type = FVTimeKernel\n    variable = C\n  []\n  [C_advection]\n    type = INSFVScalarFieldAdvection\n    variable = C\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n  []\n[]\n\n[FVBCs]\n  [top_x]\n    type = INSFVNoSlipWallBC\n    variable = u\n    boundary = 'top'\n    function = 'lid_function'\n  []\n\n  [no_slip_x]\n    type = INSFVNoSlipWallBC\n    variable = u\n    boundary = 'left right bottom'\n    function = 0\n  []\n\n  [no_slip_y]\n    type = INSFVNoSlipWallBC\n    variable = v\n    boundary = 'left right top bottom'\n    function = 0\n  []\n[]\n\n[Materials]\n  [functor_constants]\n    type = ADGenericFunctorMaterial\n    prop_names = 'cp k'\n    prop_values = '${cp} ${k}'\n  []\n[]\n\n[Functions]\n  [lid_function]\n    type = ParsedFunction\n    value = '0.5'\n  []\n[]\n\n\n[Executioner]\n  type = Transient\n  solve_type = NEWTON\n  # Run for 100+ timesteps to reach steady state.\n\n  start_time = 0\n  dt = 0.1\n  end_time = 10\n\n  petsc_options_iname = '-pc_type -sub_pc_type -sub_pc_factor_shift_type -ksp_gmres_restart'\n  petsc_options_value = 'asm      lu           NONZERO                   200'\n  line_search = 'none'\n  nl_rel_tol = 1e-6\n  nl_max_its = 6\n  l_max_its = 200\n[]\n\n[Outputs]\n  exodus = true\n[]\n\n[MultiApps]\n  [Sub]\n    type = TransientMultiApp\n    input_files = 'sub.i'\n    execute_on = TIMESTEP_END\n  []\n[]\n\n[Transfers]\n   [pull_C_inital]\n    type = MultiAppShapeEvaluationTransfer\n    from_multi_app = Sub\n    source_variable = Concentration\n    variable = C\n    execute_on = INITIAL\n  [] \n  [pull_C]\n    type = MultiAppShapeEvaluationTransfer\n    from_multi_app = Sub\n    source_variable = Concentration\n    variable = C\n    execute_on = TIMESTEP_BEGIN\n  []\n  [push_C]\n    type = MultiAppProjectionTransfer\n    #type = MultiAppShapeEvaluationTransfer\n    to_multi_app = Sub\n    source_variable = C\n    variable = Concentration\n    execute_on = TIMESTEP_END\n  []\n[]\n\n\nsub:\n#set mesh\n[Mesh]\n  [gen]\n    type = GeneratedMeshGenerator\n    dim = 2\n    xmin = 0\n    xmax = 2\n    ymin = 0\n    ymax = 2\n    nx = 25\n    ny = 25\n  []\n[]\n\n[Variables]\n  [Concentration]\n  []\n[]\n\n\n[ICs]\n  [Initial_Power]\n    type = FunctionIC\n    variable = 'Concentration'\n    function =  C_func\n  []\n[]\n\n[Functions]\n  [C_func]\n    type =ParsedFunction    \n    value = 'exp(-((x-1)^2+(y-1)^2))'\n  []\n[]\n\n\n\n[Kernels]\n [C_time]\n    type = TimeDerivative\n    variable = Concentration\n []\n [C_force]\n    type = BodyForce\n    variable = Concentration\n    value = -0.1\n []\n[]\n\n\n[Executioner]\n  type = Transient\n  start_time = 0\n  dt = 0.1\n  end_time = 10\n  solve_type = 'PJFNK'\n[]\n\n[Outputs]\n  exodus = true\n print_nonlinear_converged_reason = false\n print_linear_converged_reason = false\n  [csv]\n    type = CSV\n    time_data = true\n  []\n[]\n\n\nSolution:\nrho = 2000\nmu = 50 \ncp = 3750\nk = 100\n\n[Mesh]\n  [gen]\n    type = GeneratedMeshGenerator\n    dim = 2\n    xmin = 0\n    xmax = 2.0\n    ymin = 0\n    ymax = 2.0\n    nx = 50\n    ny = 50\n  []\n  [pin]\n    type = ExtraNodesetGenerator\n    input = gen\n    new_boundary = 'pin'\n    nodes = '0'\n  []\n[]\n\nvelocity_interp_method = 'rc'\nadvected_interp_method = 'average'\n[GlobalParams]\n  rhie_chow_user_object = 'rc'\n[]\n\n[UserObjects]\n  [rc]\n    type = INSFVRhieChowInterpolator\n    u = u\n    v = v\n    pressure = pressure\n  []\n[]\n\n[Variables]\n  [u]\n    type = INSFVVelocityVariable\n  []\n  [v]\n    type = INSFVVelocityVariable\n  []\n  [pressure]\n    type = INSFVPressureVariable\n  []\n  [lambda]\n    family = SCALAR\n    order = FIRST\n  []\n  [C]\n    type = INSFVScalarFieldVariable\n  []\n[]\n\n[AuxVariables]\n  [U]\n    order = CONSTANT\n    family = MONOMIAL\n    fv = true\n  []\n[]\n\n[AuxKernels]\n  [mag]\n    type = VectorMagnitudeAux\n    variable = U\n    x = u\n    y = v\n  []\n[]\n\n[FVKernels]\n  [mass]\n    type = INSFVMassAdvection\n    variable = pressure\n    advected_interp_method = ${advected_interp_method}\n    velocity_interp_method = ${velocity_interp_method}\n    rho = ${rho}\n  []\n  [mean_zero_pressure]\n    type = FVIntegralValueConstraint\n    variable = pressure\n    lambda = lambda\n  []\n\n  [u_time]\n    type = INSFVMomentumTimeDerivative\n    variable = 'u'\n    rho = ${rho}\n    momentum_component = 'x'\n  []\n  [u_advection]\n    type = INSFVMomentumAdvection\n    variable = u\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n    rho = ${rho}\n    momentum_component = 'x'\n  []\n  [u_viscosity]\n    type = INSFVMomentumDiffusion\n    variable = u\n    mu = ${mu}\n    momentum_component = 'x'\n  []\n  [u_pressure]\n    type = INSFVMomentumPressure\n    variable = u\n    momentum_component = 'x'\n    pressure = pressure\n  []\n\n  [v_time]\n    type = INSFVMomentumTimeDerivative\n    variable = v\n    rho = ${rho}\n    momentum_component = 'y'\n  []\n  [v_advection]\n    type = INSFVMomentumAdvection\n    variable = v\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n    rho = ${rho}\n    momentum_component = 'y'\n  []\n  [v_viscosity]\n    type = INSFVMomentumDiffusion\n    variable = v\n    mu = ${mu}\n    momentum_component = 'y'\n  []\n  [v_pressure]\n    type = INSFVMomentumPressure\n    variable = v\n    momentum_component = 'y'\n    pressure = pressure\n  []\n\n  [C_time]\n    type = FVTimeKernel\n    variable = C\n  []\n  [C_advection]\n    type = INSFVScalarFieldAdvection\n    variable = C\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n  []\n  [C_force]\n    type = FVCoupledForce\n    variable = C\n    v = -0.1\n  []\n[]\n\n[FVBCs]\n  [top_x]\n    type = INSFVNoSlipWallBC\n    variable = u\n    boundary = 'top'\n    function = 'lid_function'\n  []\n\n  [no_slip_x]\n    type = INSFVNoSlipWallBC\n    variable = u\n    boundary = 'left right bottom'\n    function = 0\n  []\n\n  [no_slip_y]\n    type = INSFVNoSlipWallBC\n    variable = v\n    boundary = 'left right top bottom'\n    function = 0\n  []\n[]\n\n[Materials]\n  [functor_constants]\n    type = ADGenericFunctorMaterial\n    prop_names = 'cp k'\n    prop_values = '${cp} ${k}'\n  []\n[]\n\n[Functions]\n  [lid_function]\n    type = ParsedFunction\n    value = '0.5'\n  []\n[]\n\n\n[Executioner]\n  type = Transient\n  solve_type = NEWTON\n  # Run for 100+ timesteps to reach steady state.\n\n  start_time = 0\n  dt = 0.1\n  end_time = 10\n\n  petsc_options_iname = '-pc_type -sub_pc_type -sub_pc_factor_shift_type -ksp_gmres_restart'\n  petsc_options_value = 'asm      lu           NONZERO                   200'\n  line_search = 'none'\n  nl_rel_tol = 1e-6\n  nl_max_its = 6\n  l_max_its = 200\n[]\n\n[Outputs]\n  exodus = true\n[]\n\n[MultiApps]\n  [Sub]\n    type = TransientMultiApp\n    input_files = 'sub.i'\n    execute_on = INITIAL\n  []\n[]\n\n[Transfers]\n   [pull_C_inital]\n    type = MultiAppShapeEvaluationTransfer\n    from_multi_app = Sub\n    source_variable = Concentration\n    variable = C\n    execute_on = INITIAL\n  [] \n[]",
                  "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4379895",
                  "updatedAt": "2022-12-12T15:10:56Z",
                  "publishedAt": "2022-12-12T15:10:55Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nIt doesnt seem physical to just scale a concentration on every time step.\nWhy is concentration the solution of two distinct PDEs ? Can you not solve them together in a single app?\nAlso why timestep_begin for that send?\nIf you do that, you will lag the quantity in the sub app solve.\nThen since you are transferring the value back at the end of the time step, you will overwrite what you solved for C in the main app.\nSo with what you have now, you might as well not solve for C in the main app.\nMaybe change this:\n  [pull_C]\n    type = MultiAppShapeEvaluationTransfer\n    from_multi_app = Sub\n    source_variable = Concentration\n    variable = C\n    execute_on = TIMESTEP_BEGIN.  -> TIMESTEP_END\n  []\n\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4380587",
                  "updatedAt": "2022-12-12T16:23:49Z",
                  "publishedAt": "2022-12-12T16:23:49Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "philipJFpfahl"
                          },
                          "bodyText": "Hey,\nAgain thank you for the fast answer.\nWell, the sub is just a minimal example to explain the problem. I attend to use it in a more complex coupled system with coarser meshes and different time scales.\nif I change:\nexecute_on = TIMESTEP_BEGIN.  -> TIMESTEP_END\n\nI \"just\" get a scaling of C in both apps.\nPhilip",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4380879",
                          "updatedAt": "2022-12-12T16:45:24Z",
                          "publishedAt": "2022-12-12T16:45:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Isnt that what this is meant to do?\nSo I want to do a fluid simulation with FiniteVolumes and advect a concentration within this simulation.\nIn a FiniteElement simulation, I want to scale the concentration over time. A minimal working example is shown below as master and sub.",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4381012",
                          "updatedAt": "2022-12-12T16:57:46Z",
                          "publishedAt": "2022-12-12T16:57:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "philipJFpfahl"
                          },
                          "bodyText": "Yes, the sub-app should scale it and the main-app should advect it.  As of now, it just gets scaled.\nI think this is because it gets pulled and pushed at the same time.",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4381095",
                          "updatedAt": "2022-12-12T17:07:20Z",
                          "publishedAt": "2022-12-12T17:06:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "It s not at the same time. You saw the timing of the transfers, if you set both on timestep end, you should advect, transfer, \"scale\" then transfer back.\nThis transfer back replaces the current solution post-advection. The solution is then no longer the solution of an advection problem. It is the solution of the \"scaling\" problem.\nAnother thing to consider is that you have wild non-conservative projections happening when you go from finite volume to finite element and back as the shape functions are very different.",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4381119",
                          "updatedAt": "2022-12-12T17:12:49Z",
                          "publishedAt": "2022-12-12T17:09:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "philipJFpfahl"
                          },
                          "bodyText": "if I run it with these transfers:\n[MultiApps]\n  [Sub]\n    type = TransientMultiApp\n    input_files = 'sub.i'\n    execute_on = TIMESTEP_END\n  []\n[]\n\n[Transfers]\n   [pull_C_inital]\n    type = MultiAppShapeEvaluationTransfer\n    from_multi_app = Sub\n    source_variable = Concentration\n    variable = C\n    execute_on = INITIAL\n  [] \n  [pull_C]\n    type = MultiAppShapeEvaluationTransfer\n    from_multi_app = Sub\n    source_variable = Concentration\n    variable = C\n    execute_on = TIMESTEP_END\n  []\n  [push_C]\n    type = MultiAppProjectionTransfer\n    #type = MultiAppShapeEvaluationTransfer\n    to_multi_app = Sub\n    source_variable = C\n    variable = Concentration\n    execute_on = TIMESTEP_END\n  []\n[]\n\nIt does not seem to advect and both apps just\nIf I change\nTIMESTEP_END -> TIMESTEP_BEGIN\n\nin the output, it seems like the main app advects and does not scale, and the sub-app scales, but does not advect.",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4381281",
                          "updatedAt": "2022-12-12T17:28:09Z",
                          "publishedAt": "2022-12-12T17:28:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This is correct.\nI dont see why the main app would scale since it does not have kernels for that.\nSimilarly for the subapp.\nThe output of an app is the solution for the given equation. The solution of an advection problem will not look like it got scaled, even if the initial condition comes from the \"scaled\" solution",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4382582",
                          "updatedAt": "2022-12-12T19:54:40Z",
                          "publishedAt": "2022-12-12T19:54:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "philipJFpfahl"
                          },
                          "bodyText": "Well, the time steps should be independent of the history. So each time step starts with an initial condition and then develops the solution over time. So I thought, that it would be possible to start from an initial condition scale it in the sub-app, send it to the master-app and use that solution as an initial condition to advect it there, send this solution back to the sub-app and then use the advected solution as an initial condition for the next time step. That is \"tight coupling\" in my eyes.\nPlease correct me if I am wrong, I am just trying to learn!\nIf that is not possible, how do you do something like that?\nFor me, it is important to separate the two functionalities.",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4386882",
                          "updatedAt": "2022-12-13T07:34:21Z",
                          "publishedAt": "2022-12-13T07:34:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Well it only develops over a single time step in this setup. If you want to let it relax to steady state on each physics coupling iteration, a different setup will achieve that.\nThis is not typical tight coupling because you are solving for the same variable in both problems. Tight coupling is usually something like  \u00ab\u00a0solve one app for velocity and pressure, with a temperature dependent density, solve another app for temperature depending on the velocity field, iterate to convergence\u00a0\u00bb\nMaybe we should consider the approach you are taking in light of the actual physical problem you are solving. Would you mind describing it?",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4388165",
                          "updatedAt": "2022-12-13T10:19:49Z",
                          "publishedAt": "2022-12-13T10:19:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "philipJFpfahl"
                          },
                          "bodyText": "Hey\nMaybe we should consider the approach you are taking in light of the actual physical problem you are solving.\n\nI think that is a good idea.\nSo I try to solve the lid-driven cavity reactor problem using the PK solver developed for the SEALION project within MOOSE. Here is the paper. It focuses on a transient benchmark for MSR.\nI would like to compare the neutronics solver in this setup with other neutronics solvers. This should be within MOOSE. This is why I need a separation of the tasks.Relevant to my question is, that I do the fluid dynamics in one app and the neutronics calculation in another so that I can exchange the neutronics solver later. This is interesting for benchmarking the performance of the neutronics solver alone.\nTo the physics:\nThe concentration is in this case the concentration of the precursors. In a MSR they will be advected with the fuel and then emmit a newtron later on in the reactor at a different place. You see, they are tricky because they fit right in between the two solvers. They get advected depending on the CFD and scaled depending on the Neutronics. In the end I would like to be able to refine the number of time steps in the Neutronics app and make the mesh coarser compared to the CFD app. The chosen separation, therefore \"feels\" logical.\nPhilip",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4389085",
                          "updatedAt": "2022-12-13T12:17:16Z",
                          "publishedAt": "2022-12-13T12:17:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This input does something similar to what you want. You need to run it with NS module\nhttps://github.com/idaholab/virtual_test_bed/blob/devel/msr/msfr/steady/run_ns.i\nWe will upload in the near future the CNRS benchmarks, which are lid-driven cavities with precursors.\nIn this problem, there is no individual scaling equation. The precursor decay happens at the same time as the advection and must be included in the same equation",
                          "url": "https://github.com/idaholab/moose/discussions/22901#discussioncomment-4390332",
                          "updatedAt": "2022-12-13T13:49:29Z",
                          "publishedAt": "2022-12-13T13:49:29Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Saving a std::vector<Real> Material for postprocessing (excluding visualization)",
          "author": {
            "login": "mcacace"
          },
          "bodyText": "Dear all,\nI am wondering whether it would be possible to store a material that contains a varying in size (on run time) std::vector of Real entries for postprocessing. I see that for  RealVectorValue material the way would be to store its entries in an auxvariable (I guess for visualization) and then retrieved them via a vectorpostprocessor.\nSince I do not need to visualize my vectors (dimensions are usually greater than 3), I was thinking to directly sample all entries in a dedicated vectorpostprocessor, something along the line of ElementVariableVectorPostprocessor though working on material properties ( this would then require to extend the SampleBase class I guess).\nThe other option would be to store the list of entries into an auxvariable and then go via the ElementVariableVectorPostprocessor (though I see problems with visualization here).\nI would appreciate any feedback on my thoughts (like whether this would be doable at all).\nThanks in advance,\nmauro",
          "url": "https://github.com/idaholab/moose/discussions/22960",
          "updatedAt": "2023-01-03T22:36:36Z",
          "publishedAt": "2022-12-14T10:18:20Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nUnfortunately, as the docs for the MaterialVPP say, it hasnt been written for array material properties, only for Real-valued ones. This would not be very hard to do, and we would welcome the contribution to the framework.\nIf you don't want that, you can try this hacky way, I have not tried it but I think it would work:\nYou specify output = 'exodus' in the material block that defines this array material property, then looking at the exodus you can see that a number of auxiliary variables got added to the aux system.\nYou use the names of these auxiliary variables in an ElementValueSampler to output them to CSV\nhttps://mooseframework.inl.gov/source/vectorpostprocessors/ElementValueSampler.html\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22960#discussioncomment-4401317",
                  "updatedAt": "2022-12-14T15:17:45Z",
                  "publishedAt": "2022-12-14T15:17:44Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "mcacace"
                  },
                  "bodyText": "@GiudGiud thanks for your feedback. About your first point, would you suggest to augment the MaterialVectorPostprocessor class? Will browse through that and see how that can be done. Thanks again",
                  "url": "https://github.com/idaholab/moose/discussions/22960#discussioncomment-4401696",
                  "updatedAt": "2022-12-14T15:56:04Z",
                  "publishedAt": "2022-12-14T15:56:03Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I think this would make the most sense",
                          "url": "https://github.com/idaholab/moose/discussions/22960#discussioncomment-4401762",
                          "updatedAt": "2022-12-14T16:02:20Z",
                          "publishedAt": "2022-12-14T16:02:19Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "BC setting for 1D horizontal line",
          "author": {
            "login": "Joseph-0123"
          },
          "bodyText": "Dear all,\nI have a question: assuming there is a 1D horizontal line. Now I want to set BCs for the left and right boundaries of the system.  If I set two different pressures for each boundary.  I got a result for the pressure and darcy velocity. But I am wondering if the system is automatically set to open or close. If I do not set flux values (i.e., Neumann BC) at boundaries.\nThanks a lot.",
          "url": "https://github.com/idaholab/moose/discussions/22958",
          "updatedAt": "2023-02-04T07:18:28Z",
          "publishedAt": "2022-12-13T17:44:39Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Joseph-0123"
                  },
                  "bodyText": "@GiudGiud",
                  "url": "https://github.com/idaholab/moose/discussions/22958#discussioncomment-4392748",
                  "updatedAt": "2022-12-13T17:46:07Z",
                  "publishedAt": "2022-12-13T17:46:07Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Is this for finite volume or finite element?\nIn finite volume, you ll need to use the NSFV-specific (outlet) boundary condition on pressure, and it will make the system open on both sides with pressure BCs\nNote that we have not worked on inlet+outlet pressure BCs. We ve only done velocity/mass flow inlet + pressure outlet.",
                          "url": "https://github.com/idaholab/moose/discussions/22958#discussioncomment-4392977",
                          "updatedAt": "2022-12-13T18:14:14Z",
                          "publishedAt": "2022-12-13T18:14:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Joseph-0123"
                          },
                          "bodyText": "We use our finite element application. It's strange that we get open boundaries when we only set pressures for boundary conditions.",
                          "url": "https://github.com/idaholab/moose/discussions/22958#discussioncomment-4393022",
                          "updatedAt": "2022-12-13T18:20:14Z",
                          "publishedAt": "2022-12-13T18:20:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Which set of kernels are you using? INS? INSAD? THM's?",
                          "url": "https://github.com/idaholab/moose/discussions/22958#discussioncomment-4393037",
                          "updatedAt": "2022-12-13T18:22:40Z",
                          "publishedAt": "2022-12-13T18:22:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Joseph-0123"
                          },
                          "bodyText": "Which set of kernels are you using? INS? INSAD? THM's?\n\nWe use the  (HydraulicKernelH and HydraulicTimeKernelH) in our application .\nOur kernels are similar to the porous-flow modules.",
                          "url": "https://github.com/idaholab/moose/discussions/22958#discussioncomment-4393127",
                          "updatedAt": "2022-12-13T18:33:11Z",
                          "publishedAt": "2022-12-13T18:33:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@WilkAndy or @cpgr will know about porous flow.\nA set pressure in fluid flow is generally not a 0 flux condition for mass/momentum",
                          "url": "https://github.com/idaholab/moose/discussions/22958#discussioncomment-4393158",
                          "updatedAt": "2022-12-13T18:37:13Z",
                          "publishedAt": "2022-12-13T18:36:42Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "friedmud"
                  },
                  "bodyText": "In a 1D system you need to specify at least one Dirichlet condition to create a unique solution.\nGenerally - for most finite-element formulations - not setting a boundary condition is the same thing as setting a no-flux boundary condition.  The reason why is that when you do the integration by parts to generate a weak form you end up with a flux term on the boundary.  Leaving it out of the simulation is the same thing as setting that term to zero.",
                  "url": "https://github.com/idaholab/moose/discussions/22958#discussioncomment-4392980",
                  "updatedAt": "2022-12-13T18:14:43Z",
                  "publishedAt": "2022-12-13T18:14:43Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Joseph-0123"
                          },
                          "bodyText": "In a 1D system you need to specify at least one Dirichlet condition to create a unique solution.\nGenerally - for most finite-element formulations - not setting a boundary condition is the same thing as setting a no-flux boundary condition. The reason why is that when you do the integration by parts to generate a weak form you end up with a flux term on the boundary. Leaving it out of the simulation is the same thing as setting that term to zero.\n\nThank you. Yes, I set two pressure values for my 1D model boundaries, one for each. However, I did not set flux boundary conditions.\nAfter computation, I got the results with influx and outflux at boundaries which are not set by me. Based on your words, If we donot set the flux boundaries, the system should have boundary with no flux, meaning that is a closed system, right?",
                          "url": "https://github.com/idaholab/moose/discussions/22958#discussioncomment-4393055",
                          "updatedAt": "2022-12-13T18:24:49Z",
                          "publishedAt": "2022-12-13T18:24:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "friedmud"
                          },
                          "bodyText": "Ah - since you set a Dirichlet BC for pressure... that means you can have flux through that boundary.  Think of it this way: you're choosing to constrain the value instead of the gradient... so you will get the specified value but the gradient (which gives you flux) will be whatever it needs to be to satisfy the PDE (i.e. not zero).",
                          "url": "https://github.com/idaholab/moose/discussions/22958#discussioncomment-4393187",
                          "updatedAt": "2022-12-13T18:43:23Z",
                          "publishedAt": "2022-12-13T18:43:22Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "PostProcessor \"ElementAverageMaterialProperty\" applied to \"ADParsedMaterial\"?",
          "author": {
            "login": "EdSheltonUKAEA"
          },
          "bodyText": "I would like to use the postprocessor \"ElementAverageMaterialProperty\".  But I am using AD kernels, boundary conditions, material properties, etc. including \"ADParsedMaterial\" to define the parameters I want to track in the PP.\nWhen I try to run an input file including the \"ElementAverageMaterialProperty\" PP, I get this error message.\n*** ERROR ***\nThe requested regular material property Focc_tr_def1 is declared as an AD property. Either retrieve it as an AD property with getADMaterialProperty or declare it as a regular property with declareProperty\n\nWhat changes do I need to make to my input files, and in which blocks, to do either or both of these suggested fixes?\nOr is there an equivalent PP which will work directly with the type \"ADParsedMaterial\"?\nMany thanks!",
          "url": "https://github.com/idaholab/moose/discussions/22955",
          "updatedAt": "2023-01-03T23:52:41Z",
          "publishedAt": "2022-12-13T14:02:01Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "maxnezdyur"
                  },
                  "bodyText": "Try ADElementAverageMaterialProperty.",
                  "url": "https://github.com/idaholab/moose/discussions/22955#discussioncomment-4390525",
                  "updatedAt": "2022-12-13T14:05:17Z",
                  "publishedAt": "2022-12-13T14:05:17Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "EdSheltonUKAEA"
                          },
                          "bodyText": "Thanks!  I thought there must be something like this, but couldn't see it in the list here:\nhttps://mooseframework.inl.gov/source/index.html\nThis has worked!",
                          "url": "https://github.com/idaholab/moose/discussions/22955#discussioncomment-4390650",
                          "updatedAt": "2022-12-13T14:18:18Z",
                          "publishedAt": "2022-12-13T14:18:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Sorry we don\u2019t double up the documentation entries for the AD versions.",
                          "url": "https://github.com/idaholab/moose/discussions/22955#discussioncomment-4391137",
                          "updatedAt": "2022-12-13T15:08:12Z",
                          "publishedAt": "2022-12-13T15:08:10Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Sampler1DReal to get displaced qp values, bug?",
          "author": {
            "login": "jessecarterMOOSE"
          },
          "bodyText": "I've got a two-element thermal expansion problem with a temperature gradient along x. I want to use the Sampler1DReal VPP to get the temperature, which is stored in an AuxVariable, at the displaced quadrature points. I'm doing this using an intermediate ParsedMaterial that is just the value of the temperature AuxVariable, since the VPP only accepts materials.\nThe temperature values are as expected for the VPP, but when I set use_displaced_mesh=true in the VPP, the temperature values are wrong (though the coordinates are as expected). Seems like the temperature values for the first element are just repeats of those the second element? Am I using the VPP incorrectly? (It says 1D in the name after all)\nInput file (sorry its so long)\n[Mesh]\n  type = GeneratedMesh\n  dim = 2\n  nx = 2\n  ny = 1\n[]\n\n[GlobalParams]\n  displacements = 'disp_x disp_y'\n[]\n\n[AuxVariables]\n  [./temp]\n    order = first\n    family = lagrange\n  [../]\n[]\n\n[Functions]\n  [./temperature_load]\n    type = ParsedFunction\n    value = t*(500.0)+300.0+100*x\n  [../]\n[]\n\n[Modules]\n  [./TensorMechanics]\n    [./Master]\n      [./all]\n        strain = finite\n        incremental = true\n        add_variables = true\n        eigenstrain_names = eigenstrain\n      [../]\n    [../]\n  [../]\n[]\n\n[AuxKernels]\n  [./tempfuncaux]\n    type = FunctionAux\n    variable = temp\n    function = temperature_load\n  [../]\n[]\n\n[BCs]\n  [./x_bot]\n    type = DirichletBC\n    variable = disp_x\n    boundary = left\n    value = 0.0\n  [../]\n  [./y_bot]\n    type = DirichletBC\n    variable = disp_y\n    boundary = bottom\n    value = 0.0\n  [../]\n[]\n\n[Materials]\n  [./elasticity_tensor]\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 2.1e5\n    poissons_ratio = 0.3\n  [../]\n  [./small_stress]\n    type = ComputeFiniteStrainElasticStress\n  [../]\n  [./thermal_expansion_strain]\n    type = ComputeThermalExpansionEigenstrain\n    stress_free_temperature = 298\n    thermal_expansion_coeff = 1.3e-5\n    temperature = temp\n    eigenstrain_name = eigenstrain\n  [../]\n  [mat]\n    type = ParsedMaterial\n    function = temp\n    args = temp\n    f_name = temperature_material\n  []\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = 'PJFNK'\n\n  l_max_its = 50\n  nl_max_its = 50\n  nl_rel_tol = 1e-12\n  nl_abs_tol = 1e-10\n  l_tol = 1e-9\n\n  dt = 0.0125\n  num_steps = 1\n[]\n\n[Outputs]\n  exodus = true\n  csv = true\n[]\n\n[Postprocessors]\n  [./avg_temperature]\n    type = AverageNodalVariableValue\n    variable = temp\n  [../]\n  [./max_temperature]\n    type = NodalExtremeValue\n    variable = temp\n    value_type = max\n  []\n[]\n\n[VectorPostprocessors]\n  [sampler1dreal]\n    type = Sampler1DReal\n    block = 0\n    property = temperature_material\n    sort_by = x\n  []\n  [sampler1dreal_disp]\n    type = Sampler1DReal\n    block = 0\n    property = temperature_material\n    sort_by = x\n    use_displaced_mesh = true\n  []\n[]\n\n\nVPP output:\n\n\n\nid\ntemperature_material\nx\ny\nz\n\n\n\n\n0.10566243270259\n316.81624327026\n0.10566243270259\n0.21132486540519\n0\n\n\n0.10566243270259\n316.81624327026\n0.10566243270259\n0.78867513459481\n0\n\n\n0.39433756729741\n345.68375672974\n0.39433756729741\n0.21132486540519\n0\n\n\n0.39433756729741\n345.68375672974\n0.39433756729741\n0.78867513459481\n0\n\n\n0.60566243270259\n366.81624327026\n0.60566243270259\n0.21132486540519\n0\n\n\n0.60566243270259\n366.81624327026\n0.60566243270259\n0.78867513459481\n0\n\n\n0.89433756729741\n395.68375672974\n0.89433756729741\n0.21132486540519\n0\n\n\n0.89433756729741\n395.68375672974\n0.89433756729741\n0.78867513459481\n0\n\n\n\nDisplaced VPP output:\n\n\n\nid\ntemperature_material\nx\ny\nz\n\n\n\n\n0.1056958406132\n366.81624327026\n0.1056958406132\n0.78914481344896\n0\n\n\n0.10573288589375\n366.81624327026\n0.10573288589375\n0.21145071547486\n0\n\n\n0.39446224731715\n395.68375672974\n0.39446224731715\n0.78935207603834\n0\n\n\n0.39460050218634\n395.68375672974\n0.39460050218634\n0.2115062513183\n0\n\n\n0.60597117492747\n366.81624327026\n0.60597117492747\n0.78952409424419\n0\n\n\n0.60615762034783\n366.81624327026\n0.60615762034783\n0.21155234345764\n0\n\n\n0.89505790470932\n395.68375672974\n0.89505790470932\n0.78978679413302\n0\n\n\n0.89527479957529\n395.68375672974\n0.89527479957529\n0.21162273368071\n0",
          "url": "https://github.com/idaholab/moose/discussions/22935",
          "updatedAt": "2023-01-03T23:56:46Z",
          "publishedAt": "2022-12-09T19:51:47Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThe Sampler1DReal was written for 1D thermal hydraulics, which does not use displaced meshes afaik.\nThe code is not considering the displaced mesh or problem\nThe q_points are correct because use_displaced_mesh makes sure of that.\nAdapting it to use displaced mesh and problem would not be too difficult if you want to give it a try\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22935#discussioncomment-4357194",
                  "updatedAt": "2022-12-09T21:39:30Z",
                  "publishedAt": "2022-12-09T21:39:14Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "jessecarterMOOSE"
                          },
                          "bodyText": "You have much more confidence in my ability than I do. Can I get a hint? I think this could be a useful capability.",
                          "url": "https://github.com/idaholab/moose/discussions/22935#discussioncomment-4357898",
                          "updatedAt": "2022-12-09T22:41:51Z",
                          "publishedAt": "2022-12-09T22:41:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "anywhere where it says problem you use getDisplacedProblem() from the FEProblem instead\nhttps://mooseframework.inl.gov/docs/doxygen/moose/classFEProblemBase.html#a6bdd4ae4d1d41245e59c8bccf35e3f94\nand if you get the mesh from the displaced problem it ll be the displaced mesh",
                          "url": "https://github.com/idaholab/moose/discussions/22935#discussioncomment-4357923",
                          "updatedAt": "2022-12-09T22:46:58Z",
                          "publishedAt": "2022-12-09T22:46:58Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "friedmud"
                  },
                  "bodyText": "The \"displaced\" option for PPs/VPPs works somewhat counter-intuitively:\n\n\nWith displaced_mesh = true the mesh will move across the stationary PP/VPP. (Think Lagrangian motion of a mesh moving across/through something\n\n\nWhen it's false the PP stays in the elements you put it in in the beginning (because they are not moving).  So it will effectively \"move\" with the material (because even though the displaced mesh is moving - the PP/VPP will always sample the same positions)\n\n\nJust keep in mind that it's the mesh that is displaced - not the PP/VPP",
                  "url": "https://github.com/idaholab/moose/discussions/22935#discussioncomment-4358095",
                  "updatedAt": "2022-12-09T23:12:03Z",
                  "publishedAt": "2022-12-09T23:12:02Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "jessecarterMOOSE"
                          },
                          "bodyText": "Interesting. Didn't realize that. So if you're sampling a point in space, and the mesh displaces to the right, the coordinates returned by the VPP will shift to the left because the point stayed still but the mesh moved?",
                          "url": "https://github.com/idaholab/moose/discussions/22935#discussioncomment-4359314",
                          "updatedAt": "2022-12-10T01:27:55Z",
                          "publishedAt": "2022-12-10T01:27:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "friedmud"
                          },
                          "bodyText": "Exactly.\nWell - the effect is like that.  But the sampling point stays still while the mesh moves across it.\n(Just being extra clear incase others find this and read along)",
                          "url": "https://github.com/idaholab/moose/discussions/22935#discussioncomment-4361299",
                          "updatedAt": "2022-12-10T06:25:58Z",
                          "publishedAt": "2022-12-10T06:25:58Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "jessecarterMOOSE"
                  },
                  "bodyText": "What's the difference between _fe_problem and _subproblem?",
                  "url": "https://github.com/idaholab/moose/discussions/22935#discussioncomment-4359310",
                  "updatedAt": "2022-12-10T01:25:26Z",
                  "publishedAt": "2022-12-10T01:25:26Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Subproblem is an intermediate class between Problem and FEProblemBase\nI think the idea was to split routines between several levels of inheritance, as these classes are huge\nIt s also to hold some routines that may be shared between multiple types of problems.\nFor your case, they point to \"same object\" but with different class types. You get more routines available on the _subproblem\n@lindsayad or @friedmud in case I m wrong",
                          "url": "https://github.com/idaholab/moose/discussions/22935#discussioncomment-4373461",
                          "updatedAt": "2022-12-11T21:28:56Z",
                          "publishedAt": "2022-12-11T21:28:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "If use_displaced_mesh = true, then _subproblem points to the displaced problem, not the finite element problem (_fe_problem). _subproblem exists because objects will either be on the undisplaced subproblem (the finite element problem) or the displaced subproblem",
                          "url": "https://github.com/idaholab/moose/discussions/22935#discussioncomment-4383889",
                          "updatedAt": "2022-12-12T21:54:21Z",
                          "publishedAt": "2022-12-12T21:54:21Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Structural analysis in moose",
          "author": {
            "login": "naajein"
          },
          "bodyText": "Hello All, I am new to MOOSE. I wanted to set up a simple structural analysis problem (deflection of a structure under pressure). I need some help in setting up the run. Highly appreciate if someone can help me start with MOOSE.\nI would like to know if MOOSE is the right opensource code for structural analysis involving non linearities (material, geometry, contacts)? or do you suggest some other opensource codes\nNaajein",
          "url": "https://github.com/idaholab/moose/discussions/22694",
          "updatedAt": "2023-01-03T23:20:33Z",
          "publishedAt": "2022-11-14T20:47:56Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou may want to check out our learning resources for MOOSE\nhttps://mooseframework.inl.gov/getting_started/examples_and_tutorials/index.html\nthen please check out the documentation and tutorials from the tensor mechanics module\nhttps://mooseframework.inl.gov/modules/tensor_mechanics/index.html\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4140596",
                  "updatedAt": "2022-11-14T20:54:17Z",
                  "publishedAt": "2022-11-14T20:54:17Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "naajein"
                          },
                          "bodyText": "thank you for your response.  I would like to know if MOOSE is the right opensource code for structural analysis involving non linearities (material, geometry, contacts)? or do you suggest some other opensource codes",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4140625",
                          "updatedAt": "2022-11-14T20:58:12Z",
                          "publishedAt": "2022-11-14T20:58:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@hugary1995",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4140644",
                          "updatedAt": "2022-11-14T21:00:25Z",
                          "publishedAt": "2022-11-14T21:00:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@cbolisetti",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4140646",
                          "updatedAt": "2022-11-14T21:00:32Z",
                          "publishedAt": "2022-11-14T21:00:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Yes, MOOSE handles geometric and material nonlinearities. MOOSE is also capable of contact (kinematic, penalty, mortar), both frictional and frictionless. The resources @GiudGiud posted above are a good starting point.",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4140775",
                          "updatedAt": "2022-11-14T21:21:22Z",
                          "publishedAt": "2022-11-14T21:21:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "naajein"
                          },
                          "bodyText": "thank you. I will go through the resource and connect if further questions.",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4140838",
                          "updatedAt": "2022-11-14T21:30:07Z",
                          "publishedAt": "2022-11-14T21:30:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "naajein"
                          },
                          "bodyText": "while trying to install moose in windows 10, I get the following warning. Is it okay to go ahead and install in windows 10?\n**Using MOOSE on Windows 10 is experimental and not fully supported.\nPeacock does not work correctly (artifacts during rendering: surface normals are flipped).\nDifferent flavors of Linux are available.\n\nBe sure to choose an OS in which we support. While MOOSE will ultimately work on just about every flavor of Linux, this document assumes you have chosen Ubuntu 20.04.**",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4164249",
                          "updatedAt": "2022-11-17T06:44:54Z",
                          "publishedAt": "2022-11-17T06:44:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You may install on WSL on windows 10. You may NOT install on windows 10 directly, we do not support it\nYou can view output files to paraview installed either on windows or on WSL, so peacock (our GUI) is not really needed",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4179220",
                          "updatedAt": "2022-11-18T21:14:21Z",
                          "publishedAt": "2022-11-18T17:31:45Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "naajein"
                  },
                  "bodyText": "Hello Guillaume\n\nI was able to install MOOSE successfully.\n\nI read that the mesh file should be in exodus format. How do I create an\nexodus file. I am not sure how I open the peacock with the current set up.\nCan you please help me\n\nRegards\nNaajein\n\u2026\nOn Fri, Nov 18, 2022 at 6:31 PM Guillaume Giudicelli < ***@***.***> wrote:\n You may install on WSL on windows 10. You may NOT install on windows 10\n directly, we do not support it\n\n You can move output files to paraview on windows or on WSL, so peacock\n (our GUI) is not really needed\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22694 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A4F6SDTIIUK2T5AUKQWU7ELWI64QXANCNFSM6AAAAAASAHEDFE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>\n\n\n-- \nN@@j!..:)",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4238009",
                  "updatedAt": "2022-11-25T15:02:56Z",
                  "publishedAt": "2022-11-25T15:02:55Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Peacock is in moose/python/peacock. You can run that to start peacock.\nYou may generate exodus file using Cubit, using the MOOSE meshgenerators, or converting from another format.\nExodus is not the only mesh format supported. see this page: https://mooseframework.inl.gov/source/meshgenerators/FileMeshGenerator.html",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4239465",
                          "updatedAt": "2022-11-25T19:30:53Z",
                          "publishedAt": "2022-11-25T19:30:53Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "naajein"
                  },
                  "bodyText": "Hello\n\nI tried installing peacock, but I am getting this error.\n\n[image: image.png]\n\nAny idea how this can be resolved.\n\u2026\nOn Fri, Nov 25, 2022 at 8:31 PM Guillaume Giudicelli < ***@***.***> wrote:\n Peacock is in moose/python/peacock. You can run that to start peacock.\n\n You may generate exodus file using Cubit, using the MOOSE meshgenerators,\n or converting from another format.\n Exodus is not the only mesh format supported. see this page:\n https://mooseframework.inl.gov/source/meshgenerators/FileMeshGenerator.html\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22694 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A4F6SDTLXPWSE72OSPOEKTDWKEHXRANCNFSM6AAAAAASAHEDFE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>\n\n\n-- \nN@@j!..:)",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4239630",
                  "updatedAt": "2022-11-25T20:09:26Z",
                  "publishedAt": "2022-11-25T20:09:26Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nThe image did not upload. We would rather you copy paste text if it s just text btw",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4240296",
                          "updatedAt": "2022-11-25T23:09:23Z",
                          "publishedAt": "2022-11-25T23:09:22Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "naajein"
                  },
                  "bodyText": "Can you also explain a bit about Cubit. I have created a .fem\nfile(optistruct format). How do I convert this to a file read by MOOSE?\n\u2026\nOn Fri, Nov 25, 2022 at 8:31 PM Guillaume Giudicelli < ***@***.***> wrote:\n Peacock is in moose/python/peacock. You can run that to start peacock.\n\n You may generate exodus file using Cubit, using the MOOSE meshgenerators,\n or converting from another format.\n Exodus is not the only mesh format supported. see this page:\n https://mooseframework.inl.gov/source/meshgenerators/FileMeshGenerator.html\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22694 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A4F6SDTLXPWSE72OSPOEKTDWKEHXRANCNFSM6AAAAAASAHEDFE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>\n\n\n-- \nN@@j!..:)",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4239669",
                  "updatedAt": "2022-11-25T20:24:27Z",
                  "publishedAt": "2022-11-25T20:24:27Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I am not familiar with .fem. Can you convert it with Python's meshio by any chance? This is one of the most versatile converter out there",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4240293",
                          "updatedAt": "2022-11-25T23:09:00Z",
                          "publishedAt": "2022-11-25T23:09:00Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "naajein"
                  },
                  "bodyText": "Hello\n\nPlease find the error text below\n\n```pre\nCONDA_PREFIX_1=/home/naajein/mambaforge3\n    CONDA_PROMPT_MODIFIER=(moose)\n         CONDA_PYTHON_EXE=/home/naajein/mambaforge3/bin/python\n               CONDA_ROOT=/home/naajein/mambaforge3\n              CONDA_SHLVL=2\n    CONDA_TOOLCHAIN_BUILD=x86_64-conda-linux-gnu\n     CONDA_TOOLCHAIN_HOST=x86_64-conda-linux-gnu\n           CURL_CA_BUNDLE=<not set>\n           C_INCLUDE_PATH=/home/naajein/mambaforge3/envs/moose/include\n\n PATH=/home/naajein/projects/moose/python/peacock:pwd:/home/naajein/mambafor\n\nge3/envs/moose/bin:/home/naajein/mambaforge3/condabin:/usr/local/sbin:\n\n/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/gam\n\nes:/usr/lib/wsl/lib:/mnt/c/SIMULIA/Commands:/mnt/c/Program\n                          Files/Common\nFiles/Oracle/Java/javapath:/mnt/c/Windows/system32:/mnt/c\n\n/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsP\n\nowerShell/v1.0:/mnt/c/Windows/System32/OpenSSH:/mnt/c/Program\n                          Files/dotnet:/mnt/c/Program\nFiles/MATLAB/R2022a/bin:/mnt/c/Users/naaje\n                          /AppData/Local/Microsoft/WindowsApps:/snap/bin\n       REQUESTS_CA_BUNDLE=<not set>\n            SSL_CERT_FILE=<not set>\n\n     active environment : moose\n    active env location : /home/naajein/mambaforge3/envs/moose\n            shell level : 2\n       user config file : /home/naajein/.condarc\n populated config files : /home/naajein/mambaforge3/.condarc\n                          /home/naajein/.condarc\n          conda version : 22.9.0\n    conda-build version : not installed\n         python version : 3.10.6.final.0\n       virtual packages : __linux=5.10.16.3=0\n                          __glibc=2.31=0\n                          __unix=0=0\n                          __archspec=1=x86_64\n       base environment : /home/naajein/mambaforge3  (writable)\n      conda av data dir : /home/naajein/mambaforge3/etc/conda\n  conda av metadata url : None\n           channel URLs : https://conda.software.inl.gov/public/linux-64\n                          https://conda.software.inl.gov/public/noarch\n                          https://conda.anaconda.org/conda-forge/linux-64\n                          https://conda.anaconda.org/conda-forge/noarch\n          package cache : /home/naajein/mambaforge3/pkgs\n                          /home/naajein/.conda/pkgs\n       envs directories : /home/naajein/mambaforge3/envs\n                          /home/naajein/.conda/envs\n               platform : linux-64\n             user-agent : conda/22.9.0 requests/2.28.1 CPython/3.10.6\nLinux/5.10.16.3-microsoft-standard-WSL2 ubuntu/20.04.5 glibc/2.31\n                UID:GID : 1000:1000\n             netrc file : None\n           offline mode : False\n\nAn unexpected error has occurred. Conda has prepared the above report.\n```\n\nThanks\nNaajein\n\u2026\nOn Sat, Nov 26, 2022 at 12:09 AM Guillaume Giudicelli < ***@***.***> wrote:\n Hello\n The image did not upload. We would rather you copy paste text if it s just\n text btw\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22694 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A4F6SDT6SHTVRWJML53EOWLWKFBK3ANCNFSM6AAAAAASAHEDFE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>\n\n\n-- \nN@@j!..:)",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4246773",
                  "updatedAt": "2022-12-12T13:33:56Z",
                  "publishedAt": "2022-11-27T14:01:20Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "this looks like the conda environment is borked.\nI would wipe it, start from the base environment and recreate the moose and peacock environments with the desired packaged",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4246984",
                          "updatedAt": "2022-11-27T14:58:34Z",
                          "publishedAt": "2022-11-27T14:58:33Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "naajein"
                  },
                  "bodyText": "So I should uninstall conda, then recreate moose and peacock?. by desired\npackage you mean I select the required setting in makefile?\n\nThanks\nNaajein\n\u2026\nOn Sun, Nov 27, 2022 at 3:58 PM Guillaume Giudicelli < ***@***.***> wrote:\n this looks like the conda environment is borked.\n I would wipe it, start from the base environment and recreate the moose\n and peacock environments with the desired packaged\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22694 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A4F6SDXEUZGGPGOZJLLQHPDWKNZKHANCNFSM6AAAAAASAHEDFE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>\n\n\n-- \nN@@j!..:)",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4247719",
                  "updatedAt": "2022-11-27T17:55:02Z",
                  "publishedAt": "2022-11-27T17:55:01Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Not in the makefile, in the installation pages for moose and peacock.\nfor example for moose:\nhttps://mooseframework.inl.gov/getting_started/installation/conda.html",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4247727",
                          "updatedAt": "2022-11-27T17:57:16Z",
                          "publishedAt": "2022-11-27T17:57:16Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "naajein"
                  },
                  "bodyText": "ok thanks, will give it a try\n\nNaajein\n\u2026\nOn Sun, Nov 27, 2022 at 6:57 PM Guillaume Giudicelli < ***@***.***> wrote:\n Not in the makefile, in the installation pages for moose and peacock.\n for example for moose:\n https://mooseframework.inl.gov/getting_started/installation/conda.html\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22694 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A4F6SDUWJICSBJBVSTL7NXDWKOOIPANCNFSM6AAAAAASAHEDFE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>\n\n\n-- \nN@@j!..:)",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4248009",
                  "updatedAt": "2022-11-27T19:08:17Z",
                  "publishedAt": "2022-11-27T19:08:16Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "naajein"
                  },
                  "bodyText": "Hello\n\nWhile installing the MOOSE, I am getting the following status\n\nRan 3375 tests in 778.6 seconds. Average test time 0.7 seconds, maximum\ntest time 42.6 seconds.\n3348 passed, 83 skipped, 0 pending, 27 FAILED\n\nDo these failed messages have any impact in running moose or\ninstalling peacock?\n\npartitioners/petsc_partitioner.parmetis_presplit_mesh\n........................................ [min_cpus=2] OK\nfvkernels/mms/harmonic_interpolation.average/tris\n............................................. FAILED (CRASH)\nfvkernels/mms/skewness-correction/adv-diff-react.average\n...................................... FAILED (CRASH)\nfvkernels/mms/skewness-correction/diffusion.average\n........................................... FAILED (CRASH)\nmortar/convergence-studies/fv-gap-conductance.fv/first_order\n.................................. FAILED (CRASH)\nfvkernels/mms/skewness-correction/two_term_extrapol.skewcorrected\n............................. FAILED (CRASH)\nfvkernels/mms/advective-outflow.outflow\n....................................................... FAILED (CRASH)\nfvkernels/mms/harmonic_interpolation.average/quads\n............................................ FAILED (CRASH)\nfvkernels/mms/skewness-correction/adv-diff-react.skewcorrected\n................................ FAILED (CRASH)\nsamplers/distribute.scale/plot\n................................................................ FAILED\n(CRASH)\nfvkernels/mms/skewness-correction/diffusion.skewcorrected\n..................................... FAILED (CRASH)\nmortar/convergence-studies/fv-gap-conductance.fv/second_order\n................................. FAILED (CRASH)\nfvkernels/mms/advective-outflow.extrapolate\n................................................... FAILED (CRASH)\nfvkernels/mms/harmonic_interpolation.harmonic/tris\n............................................ FAILED (CRASH)\nfvkernels/mms/skewness-correction/adv-diff-react.skewcorrected-advection\n...................... FAILED (CRASH)\nfvkernels/mms/advective-outflow.UpwindLimiter\n................................................. FAILED (CRASH)\nfviks/one-var-diffusion.first_order_convergence/with-ik\n....................................... FAILED (CRASH)\nfvkernels/mms/harmonic_interpolation.harmonic/quads\n........................................... FAILED (CRASH)\nfvkernels/mms/mass-mom-mat-advection-diffusion.mms\n............................... [min_cpus=2] FAILED (CRASH)\nfvkernels/mms/advective-outflow.CentralDifferenceLimiter\n...................................... FAILED (CRASH)\nfviks/one-var-diffusion.first_order_convergence/without-ik\n.................................... FAILED (CRASH)\nfvkernels/mms/advective-outflow.VanLeerLimiter\n................................................ FAILED (CRASH)\nfviks/one-var-diffusion.harmonic\n.............................................................. FAILED\n(CRASH)\nfvkernels/mms/advective-outflow.MinModLimiter\n................................................. FAILED (CRASH)\nfvkernels/mms/advective-outflow.SOULimiter\n.................................................... FAILED (CRASH)\nfvkernels/mms/advective-outflow.kt/KTLimitedCD\n................................................ FAILED (CRASH)\nfvkernels/mms/advective-outflow.kt/KTLimitedUpwind\n............................................ FAILED (CRASH)\nfvkernels/mms/advective-outflow.kt/KTLimitedVanLeer\n........................................... FAILED (CRASH)\n--------------------------------------------------------------------------------------------------------------\nRan 3375 tests in 778.6 seconds. Average test time 0.7 seconds, maximum\ntest time 42.6 seconds.\n3348 passed, 83 skipped, 0 pending, 27 FAILED\n\nThanks\nNaajein\n\nOn Sun, Nov 27, 2022 at 8:08 PM naajein cherat ***@***.***>\nwrote:\n\u2026\n ok thanks, will give it a try\n\n Naajein\n\n On Sun, Nov 27, 2022 at 6:57 PM Guillaume Giudicelli <\n ***@***.***> wrote:\n\n> Not in the makefile, in the installation pages for moose and peacock.\n> for example for moose:\n> https://mooseframework.inl.gov/getting_started/installation/conda.html\n>\n> \u2014\n> Reply to this email directly, view it on GitHub\n> <#22694 (reply in thread)>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/A4F6SDUWJICSBJBVSTL7NXDWKOOIPANCNFSM6AAAAAASAHEDFE>\n> .\n> You are receiving this because you authored the thread.Message ID:\n> ***@***.***>\n>\n\n\n --\n N@@j!..:)\n\n\n-- \nN@@j!..:)",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4293069",
                  "updatedAt": "2022-12-02T14:43:29Z",
                  "publishedAt": "2022-12-02T14:43:28Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "These tests are being run in parallel (wrapped by a python script)\nThis points to an issue with mpi.\nDid you remember to activate the moose environment?\nAre you on a mac computer?\nGuillaume",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4293122",
                          "updatedAt": "2022-12-02T14:48:15Z",
                          "publishedAt": "2022-12-02T14:48:15Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "naajein"
                  },
                  "bodyText": "I have a windows 10 laptop. I activated moose.\n\u2026\nOn Fri, Dec 2, 2022, 3:48 PM Guillaume Giudicelli ***@***.***> wrote:\n These tests are being run in parallel (wrapped by a python script)\n\n This points to an issue with mpi.\n Did you remember to activate the moose environment?\n Are you on a mac computer?\n\n Guillaume\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22694 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A4F6SDWD4YGAXHEGZ3XIFJLWLID3VANCNFSM6AAAAAASAHEDFE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4293156",
                  "updatedAt": "2022-12-02T14:53:46Z",
                  "publishedAt": "2022-12-02T14:53:46Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "can you paste the log of the failed tests here please\n./run_tests --failed-tests will get it faster",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4293163",
                          "updatedAt": "2022-12-02T14:54:53Z",
                          "publishedAt": "2022-12-02T14:54:53Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "naajein"
                  },
                  "bodyText": "Hello\n\nPlease find the attached log of the failed tests..\n\nFinal Test Results:\n--------------------------------------------------------------------------------------------------------------\nsamplers/distribute.scale/execute\n............................................................ [re-running] OK\nfvkernels/mms/advective-outflow.outflow .............................\n[previous results: CRASH] FAILED (CRASH)\nfviks/one-var-diffusion.first_order_convergence/with-ik .............\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/harmonic_interpolation.average/tris ...................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/skewness-correction/adv-diff-react.average ............\n[previous results: CRASH] FAILED (CRASH)\nmortar/convergence-studies/fv-gap-conductance.fv/first_order ........\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/mass-mom-mat-advection-diffusion.mms\n[OVERSIZED,min_cpus=2,previous results: ...] FAILED (CRASH)\nfvkernels/mms/skewness-correction/diffusion.average .................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/skewness-correction/two_term_extrapol.skewcorrected ...\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/advective-outflow.extrapolate .........................\n[previous results: CRASH] FAILED (CRASH)\nfviks/one-var-diffusion.first_order_convergence/without-ik ..........\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/harmonic_interpolation.average/quads ..................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/skewness-correction/adv-diff-react.skewcorrected ......\n[previous results: CRASH] FAILED (CRASH)\nmortar/convergence-studies/fv-gap-conductance.fv/second_order .......\n[previous results: CRASH] FAILED (CRASH)\nsamplers/distribute.scale/plot ......................................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/skewness-correction/diffusion.skewcorrected ...........\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/advective-outflow.UpwindLimiter .......................\n[previous results: CRASH] FAILED (CRASH)\nfviks/one-var-diffusion.harmonic ....................................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/harmonic_interpolation.harmonic/tris ..................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/skewness-correction/adv-diff-react.skewcorrected-advection\n[previous results:...] FAILED (CRASH)\nfvkernels/mms/advective-outflow.CentralDifferenceLimiter ............\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/harmonic_interpolation.harmonic/quads .................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/advective-outflow.VanLeerLimiter ......................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/advective-outflow.MinModLimiter .......................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/advective-outflow.SOULimiter ..........................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/advective-outflow.kt/KTLimitedCD ......................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/advective-outflow.kt/KTLimitedUpwind ..................\n[previous results: CRASH] FAILED (CRASH)\nfvkernels/mms/advective-outflow.kt/KTLimitedVanLeer .................\n[previous results: CRASH] FAILED (CRASH)\n--------------------------------------------------------------------------------------------------------------\nRan 28 tests in 68.1 seconds. Average test time 2.3 seconds, maximum test\ntime 4.9 seconds.\n1 passed, 0 skipped, 0 pending, 27 FAILED\n\u2026\nOn Fri, Dec 2, 2022 at 3:55 PM Guillaume Giudicelli < ***@***.***> wrote:\n can you paste the log of the failed tests here please\n ./run_tests --failed-tests will get it faster\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22694 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A4F6SDUSUUTIUPQ2HVQQJJ3WLIEURANCNFSM6AAAAAASAHEDFE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>\n\n\n-- \nN@@j!..:)",
                  "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4302618",
                  "updatedAt": "2022-12-04T10:00:33Z",
                  "publishedAt": "2022-12-04T10:00:32Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "We need the entire log. This is just the summary",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4303358",
                          "updatedAt": "2022-12-04T13:48:16Z",
                          "publishedAt": "2022-12-04T13:48:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "xajezade"
                          },
                          "bodyText": "Hi there,\nI had the same problem! I reinstalled ubuntu under wsl 2 again and it resolved my problems. Make sure that you install ubuntu 22.04.1 and not ubuntu. When launching VcXsrv, I did not toggle off native opengl.",
                          "url": "https://github.com/idaholab/moose/discussions/22694#discussioncomment-4338632",
                          "updatedAt": "2022-12-08T01:15:28Z",
                          "publishedAt": "2022-12-08T01:15:27Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "how to set material \"binding\" with variable?",
          "author": {
            "login": "wangzhaohao"
          },
          "bodyText": "hello, i want to set a PDE like this $\\bigtriangledown (v_{p} \\times P) = \\frac{\\partial P}{\\partial t} $, in this, $v_{p}$ is a Function about location. and the week form is\n$&lt;\\varphi v_{p} P,\\vec{n}&gt; - (\\bigtriangledown \\varphi v_{p}P)-(\\varphi, \\frac{\\partial P}{\\partial t} )=0$ ,\nbut when i see the result\uff0c the moose solve as\n$&lt;\\varphi v_{p} P,\\vec{n}&gt; - v_{p}(\\bigtriangledown \\varphi P)-(\\varphi, \\frac{\\partial P}{\\partial t} )=0$ .\nmy project is on my github. https://github.com/wangzhaohao/restruction/blob/main/src/kernels/ConservativePorosity.C\nis there somthing i can do like comsol, in comsol, d(u+x, x) = ux+1, and pd(u+x, x) = 1. what can i do to tell moose $v_{p}$ is use inside. Do you have any suggestion? thanks for your reply.\nZhaohao Wang",
          "url": "https://github.com/idaholab/moose/discussions/22869",
          "updatedAt": "2022-12-11T04:12:30Z",
          "publishedAt": "2022-12-05T12:21:00Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nSo v_p is a MOOSE Function, it is a pre-determined potentially spatially-dependent and potentially time-dependent profile that you do not have to solve for?\nOr do you mean you want v_p to be a nonlinear variable that the solver should solve for, same as pressure?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4314291",
                  "updatedAt": "2022-12-05T15:15:02Z",
                  "publishedAt": "2022-12-05T15:15:01Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "v_p is a known function. i dont need to  solve",
                          "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4314322",
                          "updatedAt": "2022-12-05T15:19:07Z",
                          "publishedAt": "2022-12-05T15:19:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "and you want it to be inside the gradient?\nI dont think we have an easy option to parse the gradient of that quantity for you, but you may write it explicitly in the kernel using the classic dab_dx = da_dx + db_dx",
                          "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4314400",
                          "updatedAt": "2022-12-05T15:26:33Z",
                          "publishedAt": "2022-12-05T15:26:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "you mean is i take two part. and i see in heat conduction module the conductivity is set outside. there is we ignore divergence? why we dont need conside that.",
                          "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4317981",
                          "updatedAt": "2022-12-05T23:22:16Z",
                          "publishedAt": "2022-12-05T23:22:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "If it s constant spatially we do not need to consider it.\n@WilkAndy might know",
                          "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4318807",
                          "updatedAt": "2022-12-06T02:11:09Z",
                          "publishedAt": "2022-12-06T02:11:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "leezw37"
                          },
                          "bodyText": "Hello, GiudGiud. What if i want v_p to be a nonlinear variable that the solver should solve for, same as pressure? I just break it  into two parts right now. Is there any magic way to simplify the process.",
                          "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4319144",
                          "updatedAt": "2022-12-06T03:14:54Z",
                          "publishedAt": "2022-12-06T03:14:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "I'm not exactly sure what is being asked here.  Is P a scalar variable, and v_p another scalar variable?  Is P a vector variable and v_p a vector-value function (is there a cross-product between v_p and P?)?   Or something else?   What is the difference between the two weak forms that you have written above?   And what does this mean: \"d(u+x, x) = ux+1, and pd(u+x, x) = 1\" ?    Sorry for my confusion - I can't help you without understand the question.",
                          "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4320475",
                          "updatedAt": "2022-12-06T07:44:26Z",
                          "publishedAt": "2022-12-06T07:44:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "I'm not exactly sure what is being asked here.  Is P a scalar variable, and v_p another scalar variable?  Is P a vector variable and v_p a vector-value function (is there a cross-product between v_p and P?)?   Or something else?   What is the difference between the two weak forms that you have written above?   And what does this mean: \"d(u+x, x) = ux+1, and pd(u+x, x) = 1\" ?    Sorry for my confusion - I can't help you without understand the question.\n\non my question v_p is a function which is konwn about location, and p is a variable. they are all about x. v_p is not product by P. the different about two week form is whether v_p is a function. if is a function, i think the div is acting on v_p and P. if is not a function, div is not acting on v_p only on P.\nmy confusion point is how to set to let div acting   on v_p and P.",
                          "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4320597",
                          "updatedAt": "2022-12-06T08:03:41Z",
                          "publishedAt": "2022-12-06T08:03:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "I'm not exactly sure what is being asked here.  Is P a scalar variable, and v_p another scalar variable?  Is P a vector variable and v_p a vector-value function (is there a cross-product between v_p and P?)?   Or something else?   What is the difference between the two weak forms that you have written above?   And what does this mean: \"d(u+x, x) = ux+1, and pd(u+x, x) = 1\" ?    Sorry for my confusion - I can't help you without understand the question.\n\non my question v_p is a function which is konwn about location, and p is a variable. they are all about x. v_p is not product by P. the different about two week form is whether v_p is a function. if is a function, i think the div is acting on v_p and P. if is not a function, div is not acting on v_p only on P. my confusion point is how to set to let div acting on v_p and P.\n\nI'm beginning to understand.\nProbably you're trying to solve the advection equation (the green equation in https://en.wikipedia.org/wiki/Advection ).   If that is true, then the weak form is encoded in the https://mooseframework.inl.gov/source/kernels/TimeDerivative.html and https://mooseframework.inl.gov/source/kernels/ConservativeAdvection.html Kernels (along with any BCs that are appropriate for you).   You don't need to code any C++ to solve the advection equation using MOOSE: just use those two in-built Kernels.\nIf you've trying to solve du/dt + v.grad(u) = 0, where u is your Variable and v is a known vector field, then first note that this is not the advection equation.  I suggest writing this as du/dt + div(vu) - u div(v) = 0.  Then the first two terms are the advection equation, and are encoded as described in the last paragraph, while the final term can be described using https://mooseframework.inl.gov/source/kernels/CoefReaction.html (but div(v) has to be a constant) or https://mooseframework.inl.gov/source/kernels/MatReaction.html (you'd have to create a Material version of your Function)",
                          "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4320860",
                          "updatedAt": "2022-12-06T08:46:40Z",
                          "publishedAt": "2022-12-06T08:46:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "Thanks\uff0ci got it",
                          "url": "https://github.com/idaholab/moose/discussions/22869#discussioncomment-4369893",
                          "updatedAt": "2022-12-11T04:12:30Z",
                          "publishedAt": "2022-12-11T04:12:29Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Point source on symmetric axis (RZ coord)",
          "author": {
            "login": "lyyc199586"
          },
          "bodyText": "Hi all,\nI want to model a simple point acoustic source at the symmetric axis. Surely, I can make it in 3D with the point source in the middle but it would be much more efficient to move to an axial symmetric model with a point source at the z-axis. Unfortunately, whenever I try to place a point source at the z-axis the resulting acoustic waves are strange and incorrect. Is there an easy way around this?\nThanks!",
          "url": "https://github.com/idaholab/moose/discussions/20087",
          "updatedAt": "2022-12-10T23:26:12Z",
          "publishedAt": "2022-01-20T04:14:02Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@somu15\nCould you please post a figure of the problem @lyyc199586  ?",
                  "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2002779",
                  "updatedAt": "2022-06-26T08:26:00Z",
                  "publishedAt": "2022-01-20T04:26:55Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lyyc199586"
                          },
                          "bodyText": "sure,\nin RZ coord:\n\nI put a point source on the left side, which is the y-axis, and the acoustic wave becomes very noisy\nThe same setting in 2D planer gives:",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2002786",
                          "updatedAt": "2022-06-26T08:26:00Z",
                          "publishedAt": "2022-01-20T04:30:21Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "somu15"
                  },
                  "bodyText": "HI @lyyc199586 Would it be possible to share your Moose input files for these two problems? Thanks.",
                  "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2002790",
                  "updatedAt": "2022-06-26T08:26:03Z",
                  "publishedAt": "2022-01-20T04:32:17Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "lyyc199586"
                  },
                  "bodyText": "This is my input file, to change to a standard coord system, just comment [Problem] block.\n[Mesh]\n  type = GeneratedMesh\n  dim = 2\n  xmin = 0\n  xmax = 3\n  ymin = 1\n  ymax = 4\n  nx = 100\n  ny = 100\n[]\n\n[Problem]\n  coord_type = RZ\n[]\n\n[Variables]\n  [./p]\n  [../]\n[]\n\n[AuxVariables]\n  [./vel_p]\n  [../]\n  [./accel_p]\n  [../]\n  [./accel_x]\n  [../]\n  [./accel_y]\n  [../]\n[]\n\n[Kernels]\n  [./inertia_p]\n    type = InertialForce\n    variable = 'p'\n  [../]\n  [./diff_p]\n    type = ADMatDiffusion\n    variable = 'p'\n    diffusivity = 'Diff'\n  [../]\n[]\n\n[DiracKernels]\n  [point_source]\n    type = FunctionDiracSource\n    variable = p\n    function = switch_off\n    point = '0.0 1.75 0.0'\n  []\n[]\n\n[Functions]\n  [./switch_off]\n    type = ParsedFunction\n    value = 'if(t < 0.1, 5e-4, 0)'\n  [../]\n[]\n\n[Materials]\n  [./density]\n    type = GenericConstantMaterial\n    prop_names = 'density'\n    prop_values = '444.44'\n  [../]\n  [./diff]\n    type = ADGenericConstantMaterial\n    prop_names = 'Diff'\n    prop_values = '1000'\n  [../]\n[]\n\n[BCs]\n  [axial]\n    type = DiffusionFluxBC\n    variable = p\n    boundary = left\n  []\n[]\n\n\n[Postprocessors]\n  [./p_1]\n    type = PointValue\n    variable = p\n    # point = '0.5 1.01 0.0'\n    point = '0 1.75 0'\n  [../]\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = 'NEWTON'\n  petsc_options_iname = '-pc_type -ksp_grmres_restart -sub_ksp_type -sub_pc_type -pc_asm_overlap'\n  petsc_options_value = 'asm      31                  preonly       lu           1'\n  nl_rel_tol = 1e-6\n  nl_abs_tol = 1e-8\n  # automatic_scaling = true\n  end_time = 2.1\n  dt = 1.5e-3\n  # end_time = 1\n  # dt = 1e-3\n  [TimeIntegrator]\n    type = NewmarkBeta\n  []\n[]\n\n[Outputs]\n  [./csv]\n    type = CSV\n    delimiter = ','\n    file_base = 'pressure_hist'\n  [../]\n  [./exodus]\n    type = Exodus\n    interval = 100\n    file_base = fluid\n  [../]\n[]",
                  "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2002954",
                  "updatedAt": "2022-06-26T08:26:03Z",
                  "publishedAt": "2022-01-20T04:56:00Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "@lyyc199586  If you do not put the point source in the center (although for RZ, the point source will become a circular point source), does that solution look reasonable?  It looks like a numerical stability issue, and I am trying to think whether that could be due to the point source at the symmetric plane.\n@somu15 might have some better suggestions for you to try.",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008428",
                          "updatedAt": "2022-06-26T09:29:00Z",
                          "publishedAt": "2022-01-20T17:18:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lyyc199586"
                          },
                          "bodyText": "If the point source is off-axis (in RZ), then it looks fine",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008533",
                          "updatedAt": "2022-06-26T09:29:00Z",
                          "publishedAt": "2022-01-20T17:38:07Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "lynnmunday"
                  },
                  "bodyText": "I think its numerical error.  I changed nx to 1000 and made the timestep 1.5e-4 and the pressure output looks good.... I don't know if its right but it doesn't checkerboard",
                  "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008470",
                  "updatedAt": "2022-06-26T09:29:01Z",
                  "publishedAt": "2022-01-20T17:26:08Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lyyc199586"
                          },
                          "bodyText": "In real simulations a much finer mesh is used, but this problem still exist",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008510",
                          "updatedAt": "2022-06-26T09:29:37Z",
                          "publishedAt": "2022-01-20T17:33:42Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "There are two main issues here:\n\nThe dirac source isn't well defined along the symmetry axis when the coordinate system is rz. In cartesian coordinates the dirac kernel works in the following way: consider the integral \\int_\\Omega w s \\delta(x-x0) dV, where \\Omega is the entire domain, w is the test function, s is your point source, and \\delta is the dirac delta function with the spike at x0. The integrand gets sifted out and you get w(x0) s(x0) JxW in the assembly process. The issue comes up when you do the coordinate transformation for rz, where the integral becomes \\int_\\Omega w s \\delta(x-x0) 2 \\pi r dV. Now, when this gets sifted out, it becomes zero because r = 0 along the symmetry axis. To get around this, you either need to use a crazily refined mesh (which can get rid of the noisy waves, but you are still relying on numerical integration error), or change the point source to a well defined volumetric source defined around the neighborhood of that point.\nThe ADMatDiffusion doesn't account for rz coordinates. The correct residual should be the following one. You can just use the ADCoefMatDiffusion we have in raccoon.\n\nI tested this using the following input file, it works fine without further refinement:\n[Mesh]\n  type = GeneratedMesh\n  dim = 2\n  xmin = 0\n  xmax = 3\n  ymin = 1\n  ymax = 4\n  nx = 100\n  ny = 100\n[]\n\n[Problem]\n  coord_type = RZ\n[]\n\n[Variables]\n  [p]\n  []\n[]\n\n[Kernels]\n  [inertia_p]\n    type = InertialForce\n    variable = p\n  []\n  [diff_p]\n    type = ADCoefMatDiffusion\n    variable = p\n    prop_names = 'D'\n  []\n  [source_p]\n    type = ADCoefMatSource\n    variable = p\n    prop_names = 's'\n    coefficient = -1\n  []\n[]\n\n[Functions]\n  [s_func]\n    type = ParsedFunction\n    value = 'r:=sqrt(x^2+(y-1.75)^2); if(t<0.1,if(r<0.25,5e-4,0),0)'\n  []\n[]\n\n[Materials]\n  [density]\n    type = GenericConstantMaterial\n    prop_names = 'density'\n    prop_values = '444.44'\n  []\n  [diff]\n    type = ADGenericConstantMaterial\n    prop_names = 'D'\n    prop_values = '1000'\n  []\n  [source]\n    type = ADGenericFunctionMaterial\n    prop_names = 's'\n    prop_values = 's_func'\n  []\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = NEWTON\n  petsc_options_iname = '-pc_type'\n  petsc_options_value = 'lu'\n  nl_rel_tol = 1e-6\n  nl_abs_tol = 1e-8\n  end_time = 2.1\n  dt = 1.5e-3\n  [TimeIntegrator]\n    type = NewmarkBeta\n  []\n[]\n\n[Outputs]\n  exodus = true\n  print_linear_residuals = false\n[]",
                  "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008508",
                  "updatedAt": "2022-06-26T09:29:38Z",
                  "publishedAt": "2022-01-20T17:33:21Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lyyc199586"
                          },
                          "bodyText": "Yes, actually ADCoefMatDiffusion is being used in real simulations, but this problem still exists.",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008525",
                          "updatedAt": "2022-06-26T09:32:27Z",
                          "publishedAt": "2022-01-20T17:37:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "The additional term accounting for the lapacian in cylindrical coordinates won't remove the checkerboarding. The volumetric source will.",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008535",
                          "updatedAt": "2022-06-26T09:32:27Z",
                          "publishedAt": "2022-01-20T17:38:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lyyc199586"
                          },
                          "bodyText": "Ok, I will try to use a volumetric source",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008540",
                          "updatedAt": "2022-06-26T09:32:27Z",
                          "publishedAt": "2022-01-20T17:39:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Yeah, just make sure the source spans over a few elements. So you might need a little bit of local refinement around that point.",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008543",
                          "updatedAt": "2022-07-18T15:30:38Z",
                          "publishedAt": "2022-01-20T17:41:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lyyc199586"
                          },
                          "bodyText": "Then I just need to change this block to match the original dirac source, right?\n[Functions]\n  [s_func]\n    type = ParsedFunction\n    value = 'r:=sqrt(x^2+(y-1.75)^2); if(t<0.1,if(r<0.25,5e-4,0),0)'\n  []\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008546",
                          "updatedAt": "2022-07-18T15:30:38Z",
                          "publishedAt": "2022-01-20T17:42:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Right, you might need to do some calculations to make the total power input the same as before.",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008549",
                          "updatedAt": "2022-07-18T15:30:38Z",
                          "publishedAt": "2022-01-20T17:42:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "@hugary1995 Initially I thought about the change of lapacian operator in cylindrical coordinate, but we have never add that extra term for any diffusion kernels, including heat conduction. I sorted of convinced my self by looking at the weak form where only gradient term appears and the gradient term remains the same. After you brought this up, I think you are correct and we should start with governing equation and derive the weak form from there. Does that mean all our thermal calculation for RZ is not correct?",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008594",
                          "updatedAt": "2022-07-18T15:30:38Z",
                          "publishedAt": "2022-01-20T17:51:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "I don't know. I really hope someone proves me wrong on that.",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008617",
                          "updatedAt": "2022-07-18T15:30:42Z",
                          "publishedAt": "2022-01-20T17:54:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "@hugary1995 For your first point, I agree that the scalar factor r will zero out some contributions from the centerline nodes. However, we still get some nonzero value at two other nodes. Regardless of the accuracy issue, I am curious to know why that would trigger the oscillation in the solution.",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008631",
                          "updatedAt": "2022-07-18T15:30:43Z",
                          "publishedAt": "2022-01-20T17:57:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "I don't know. I really hope someone proves me wrong on that.\n\n@hugary1995  Take a look at https://math.stackexchange.com/questions/2832540/weak-form-of-poisson-equation-in-3d-cylindrical-space-heat-conduction\nI think no extra term is needed for RZ in diffusion kernel.",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2008985",
                          "updatedAt": "2022-07-18T15:30:44Z",
                          "publishedAt": "2022-01-20T18:44:55Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "lyyc199586"
                  },
                  "bodyText": "So @hugary1995's method is the best alternative so far, but putting a dirac source on the Z-axis is still problematic. I'm just curious is there any way to implement dirac source in RZ",
                  "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-2036893",
                  "updatedAt": "2022-07-18T15:30:19Z",
                  "publishedAt": "2022-01-24T18:58:28Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "Shuvro129"
                  },
                  "bodyText": "Hi, I may have a similar problem at hand. Can you help me?",
                  "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-4368688",
                  "updatedAt": "2022-12-10T22:02:13Z",
                  "publishedAt": "2022-12-10T22:02:12Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "What is your problem?\nAs @hugary1995 mentioned, the point source is not multiplied by the coordinate transformation factor. This means even with RZ, the point source is treated as a \"point\", not a \"ring\".",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-4368986",
                          "updatedAt": "2022-12-10T22:30:26Z",
                          "publishedAt": "2022-12-10T22:30:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Shuvro129"
                          },
                          "bodyText": "\u2212\ud835\udc0a (\ud835\udf4f^\ud835\udfd0 \ud835\udc7c)/(\ud835\udf4f\ud835\udc99^\ud835\udfd0 )+\ud835\udc74 (\ud835\udf4f^\ud835\udfd0 \ud835\udc7c)/(\ud835\udf4f\ud835\udc95^\ud835\udfd0 )= \ud835\udf39(\ud835\udc99,\ud835\udc95), I want to solve this problem in infinite 1D domain. That is the left boundary and also the right boundary is infinite. And the Dirac force is implemented on the mid-point. I am confused about how will input the boundary condition.\nIf you have any ideas tell me.",
                          "url": "https://github.com/idaholab/moose/discussions/20087#discussioncomment-4369156",
                          "updatedAt": "2022-12-10T23:26:13Z",
                          "publishedAt": "2022-12-10T23:26:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Best practices for solving Phase-Field equations for a multiphase system",
          "author": {
            "login": "vermaprk"
          },
          "bodyText": "I have few questions regarding the use of phase field module available in moose:\n\nFor solving multiphase problems (eta1, eta2,.....etan) which set of kernels and material property are most efficient?\nThe summation of etas equal to 1 should be explicitly be constrained or it should come implicitly from solving respective eta PDEs?\nCan I use ACGrGrMulti instead of AllenCahn kernel for the bulk term in allen cahn equation for solving a multiphase grand potential problem with ACSwitching kernel instead of DerivativeMultiPhaseMaterial material property required earlier by AllenCahn?\n\nThanks",
          "url": "https://github.com/idaholab/moose/discussions/22780",
          "updatedAt": "2022-12-13T06:54:33Z",
          "publishedAt": "2022-11-23T05:01:48Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@dschwen @amjokisaari",
                  "url": "https://github.com/idaholab/moose/discussions/22780#discussioncomment-4215336",
                  "updatedAt": "2022-11-23T11:22:38Z",
                  "publishedAt": "2022-11-23T11:22:38Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "friedmud"
                          },
                          "bodyText": "Pinging @dschwen again...",
                          "url": "https://github.com/idaholab/moose/discussions/22780#discussioncomment-4361642",
                          "updatedAt": "2022-12-10T07:23:05Z",
                          "publishedAt": "2022-12-10T07:23:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "friedmud"
                          },
                          "bodyText": "And maybe @laagesen too",
                          "url": "https://github.com/idaholab/moose/discussions/22780#discussioncomment-4361645",
                          "updatedAt": "2022-12-10T07:23:36Z",
                          "publishedAt": "2022-12-10T07:23:35Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "dschwen"
                  },
                  "bodyText": "I would recommend either the KKS or the Grand Potential formulation. Both are explained in the manual and have examples in the test suite and docs. Side note, we really should write an action to set up both models!! We also have a sub lattice KKS model that we developed and published a year ago, for compound formalism free energies with multiple sublattices.\nWe have a Lagrange multiplier based enforcement. It is not the sum of etas that needs to be one, but the sum of the resulting switching functions, as those determine the phase fractions!\nThe acgrgr stuff is for poly crystal models with a hard coded polynomial free energy. It depends on what you need to model. We also have combined formulations with poly crystal and multi phase support.",
                  "url": "https://github.com/idaholab/moose/discussions/22780#discussioncomment-4365494",
                  "updatedAt": "2022-12-10T15:24:32Z",
                  "publishedAt": "2022-12-10T15:24:31Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}