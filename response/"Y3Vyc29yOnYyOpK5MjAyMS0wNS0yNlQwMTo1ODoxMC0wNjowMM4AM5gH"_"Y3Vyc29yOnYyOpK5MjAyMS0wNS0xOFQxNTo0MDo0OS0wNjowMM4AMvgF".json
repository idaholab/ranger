{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMS0wNS0xOFQxNTo0MDo0OS0wNjowMM4AMvgF"
    },
    "edges": [
      {
        "node": {
          "title": "How to get the point at which the variable equals to a given value",
          "author": {
            "login": "xuxiaobei1995"
          },
          "bodyText": "Hi all,\nIn my code I want to get the position of the point at which the variable equals to a given value. Take a 1-D case for example:\n\nThe task is to get the point xm at which the variable equals to the given value m. Does any one know the way to implement this using a MooseObject (such as the Postprocessor)?  Any suggestion is appreciated.\nXiaobei",
          "url": "https://github.com/idaholab/moose/discussions/17924",
          "updatedAt": "2025-01-27T17:47:19Z",
          "publishedAt": "2021-05-25T16:04:29Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "dschwen"
                  },
                  "bodyText": "Take a look at FindValueOnLine",
                  "url": "https://github.com/idaholab/moose/discussions/17924#discussioncomment-781999",
                  "updatedAt": "2025-01-27T17:47:18Z",
                  "publishedAt": "2021-05-25T16:09:26Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "xuxiaobei1995"
                          },
                          "bodyText": "Thank you Daniel! This is just what I need.",
                          "url": "https://github.com/idaholab/moose/discussions/17924#discussioncomment-782101",
                          "updatedAt": "2025-01-27T17:47:19Z",
                          "publishedAt": "2021-05-25T16:30:18Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "StochasticTools - saving solution for each sample",
          "author": {
            "login": "kopanicakova"
          },
          "bodyText": "Hello,\nI am following parameter study example:\nhttps://mooseframework.inl.gov/modules/stochastic_tools/examples/parameter_study.html\nIn my sub app, I added following blocks:\n[VectorPostprocessors]\n[./save_var]\ntype = NodalValueSampler\nvariable = T\nsort_by = id\n[../]\n[]\n[Outputs]\nfile_base = diffusion\nexodus = true\ncsv = true\nexecute_on = 'final'\n[]\nBasically, I would like to save solution of each sample to csv/exodus file.\nHowever, both exodus and csv files are overwritten for each sample.\nIs there any easy way to enable saving solution for each sample?\nAlternatively, is there a way to change name of file_base from master app?\nmany thanks,\nAlena",
          "url": "https://github.com/idaholab/moose/discussions/17895",
          "updatedAt": "2022-07-07T20:11:58Z",
          "publishedAt": "2021-05-20T15:00:59Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "aeslaughter"
                  },
                  "bodyText": "How many samples are you running? If you are not running a lot then you can set the mode = normal in the MultiApps block.\nAnother option is to transfer the data back from sub-application to the main.\nhttps://github.com/idaholab/moose/blob/next/modules/stochastic_tools/test/tests/transfers/sampler_reporter/main.i\nThe [Transfers] and [Reporters] blocks are what you need. The \"from_reporters\" will need to be set to the value of the VPP vector that you want to save: from_reporter = save_var/{something}, the \"something\" will be the name that is showing up the CSV output now.\nYou will also need to enable JSON output, as such you will get your results in a JSON files instead of CSV files.",
                  "url": "https://github.com/idaholab/moose/discussions/17895#discussioncomment-779616",
                  "updatedAt": "2022-07-07T20:11:58Z",
                  "publishedAt": "2021-05-25T07:04:09Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Simulating the consolidation (compaction) after drainage",
          "author": {
            "login": "Traiwit"
          },
          "bodyText": "Hi guys\nI want to simulate the consolidation (compaction) of the porous soil after the single-phase water is drained out from the system, i'd like to see how much will the geometry shrink (disp_z) with time.\nI know that porous flow module can be coupled with tensor-mechanics for this kind of simulation (PorousFlowBasicTHM).\nIs there any example of the drainage simulation that I can learn from?\nThanks for your help.\nKind regards,\nTraiwit",
          "url": "https://github.com/idaholab/moose/discussions/17913",
          "updatedAt": "2022-11-11T02:10:12Z",
          "publishedAt": "2021-05-24T06:06:40Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "Yes, have a look at\nhttps://mooseframework.inl.gov/modules/porous_flow/tests/poro_elasticity/poro_elasticity_tests.html\nI strongly suggest that you use one of the PorousFlowActions, either https://mooseframework.inl.gov/source/actions/PorousFlowBasicTHM.html or https://mooseframework.inl.gov/source/actions/PorousFlowFullySaturated.html , depending on your problem, as they will simplify your input file and you won't have to think about user-unfriendly things like numerical stabilization.  The reason most of the \"poroelasticity tests\" don't use the Actions is\n\nfor exact comparison to analytic solutions very specific Kernels and Materials have to be used - hence the long, boring discussion of these in the poroelastic doco, above (the Mandel problem, which is probably very similar to what you want has 4 versions, sigh, with only the last one using the Action)\ni wanted to illustrate how different choices can slightly impact the results\n\nBut when you're just building a \"real\" model (not comparison with analytic solutions) then an Action will be much easier.",
                  "url": "https://github.com/idaholab/moose/discussions/17913#discussioncomment-778507",
                  "updatedAt": "2022-11-11T02:10:15Z",
                  "publishedAt": "2021-05-24T21:22:54Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Thanks @WilkAndy !,\nI will start learning the Mandel example (FullSatVol).\nAs I see, the example drains the fluid out by squeezing, I just need to figuere out the way to move the fluid out from the system by gravity only.\nKind regards,\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/17913#discussioncomment-779275",
                          "updatedAt": "2022-11-14T04:07:48Z",
                          "publishedAt": "2021-05-25T04:23:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "yep, just apply appropriate BCs (eg, zero porepressure, or hydraulic-head gradient)",
                          "url": "https://github.com/idaholab/moose/discussions/17913#discussioncomment-779283",
                          "updatedAt": "2022-11-14T04:07:48Z",
                          "publishedAt": "2021-05-25T04:27:23Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Help with autocomplete-moose",
          "author": {
            "login": "marinasessim"
          },
          "bodyText": "Hello,\nThis is related to the autocomplete-moose atom package. First, I do not think there is an issue with the package, it just does not work for my application. It works properly inside the moose directory, for instance, within the phase-field module. But it does not work for input files in my moose-based app.\nI am wondering if there is anything I could have done to a makefile or something that would prevent autocomplete-moose from working. It does not return any errors, it just does not autocomplete. The last version that worked for me was v0.23.3. I got away using that one until now, but I just performed some updates and unfortunately, that version no longer works (neither does the newest one). I am just trying to get some advice from the community because I do not know what else to try.\nCurrent macOS BigSur 11.3.1; CommandLine Tools for Xcode 12.4; Atom v1.56.0.\nMy application runs normally otherwise. I have tried generating a syntax.txt, pointing the opt directory, everything that I could think of.\nI appreciate any help! Thanks!",
          "url": "https://github.com/idaholab/moose/discussions/17778",
          "updatedAt": "2022-06-23T15:15:43Z",
          "publishedAt": "2021-05-08T21:36:15Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "aeslaughter"
                  },
                  "bodyText": "@dschwen Can you help?",
                  "url": "https://github.com/idaholab/moose/discussions/17778#discussioncomment-729553",
                  "updatedAt": "2022-06-23T15:15:56Z",
                  "publishedAt": "2021-05-12T14:40:47Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "Before @dschwen gets to this, can you try yourApp-opt --json and tell us the output? Meanwhile, you should create an issue at https://github.com/dschwen/autocomplete-moose.",
                  "url": "https://github.com/idaholab/moose/discussions/17778#discussioncomment-733727",
                  "updatedAt": "2022-06-23T15:16:11Z",
                  "publishedAt": "2021-05-13T13:07:47Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "marinasessim"
                          },
                          "bodyText": "Hello, thanks for your attention. I am attaching the --json output.\nsyntax.txt",
                          "url": "https://github.com/idaholab/moose/discussions/17778#discussioncomment-738781",
                          "updatedAt": "2022-06-23T15:16:07Z",
                          "publishedAt": "2021-05-14T14:40:49Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "marinasessim"
                  },
                  "bodyText": "Hello, just sharing the resolution to this problem. The input file was in the old format. The file was updated to the moose hit format using the moose-hit-format package, and now autocomplete-moose works well. Thanks!!",
                  "url": "https://github.com/idaholab/moose/discussions/17778#discussioncomment-769969",
                  "updatedAt": "2022-06-23T15:16:15Z",
                  "publishedAt": "2021-05-21T20:05:44Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "3D interpolation for unordered points - performance",
          "author": {
            "login": "mcacace"
          },
          "bodyText": "Dear all,\nI am facing some performance issues while trying to implement a function to interpolate a scalar value from 3D unordered sampling points to set up an initial condition for a primary variable. The basic structure is simple.\nI am reading upon the constructor call of the function the sampling points and store their values in vectors (I found they are faster than unordered maps). Based on that I do perform the interpolation at the call of the value() function.  This is where my pain starts. Given that I have no topological ordering in the sample and target data, I have to rely on a global interpolation - currently this is done as a global search weighted by the distance of the sampling points to the targeted one restricted over a searching sphere of a given radius and provides (really!) terrible scalability. This comes with no surprise (looping through global search is anything but clever), but the performance is way lower than I could foresee. As an example, running it over 2 millions of dofs and for a similar size of the sampling points, the initialization phase runs for more than 3 hours on a cluster. I have been looking at the framework but it does seem that all interpolation routines available are either based on  2D cases, or required some degree of ordering for the sampling points (though I might be wrong here).\nBefore trying to port a 3D NN interpolation algorithm I have been using in an external application to the framework (which would require extensive coding), I was wondering if anyone could point me to a possible (easier and faster) solution.\nAs always, any help is highly appreciated.\nThanks, Mauro",
          "url": "https://github.com/idaholab/moose/discussions/17878",
          "updatedAt": "2022-08-09T15:44:50Z",
          "publishedAt": "2021-05-18T22:25:41Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "ABallisat"
                  },
                  "bodyText": "Take a look at a k-d tree for some very fast nearest neighbour lookup. I have been using the SciPy implementation to do high dimensional interpolation with millions of points using inverse distance weighted interpolation in Python and it is very quick to do on a standard laptop. You can probably dig into the source code of that as an example of how to implement it.",
                  "url": "https://github.com/idaholab/moose/discussions/17878#discussioncomment-758153",
                  "updatedAt": "2022-08-09T15:46:58Z",
                  "publishedAt": "2021-05-19T12:42:50Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "mcacace"
                          },
                          "bodyText": "@ABallisat, thanks for the hint. I see that there is some implementation of kd-tree and neighbour search in libmesh. Will give it a try and see whether it could help. Again, thanks",
                          "url": "https://github.com/idaholab/moose/discussions/17878#discussioncomment-760785",
                          "updatedAt": "2022-08-09T15:47:00Z",
                          "publishedAt": "2021-05-19T22:11:47Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "lynnmunday"
                  },
                  "bodyText": "Could you try something like what @hugary1995 suggested in this discussion: #17806 (comment)\nwe're going to try to use this method to do something similar to what you're doing.  If you had your point value data in csv format, you could read it in with a csv value postprocessor and then interpolate it to the nodes with the reaction kernel.\nI would be really interested in finding out if this would work for you because we've only tried this with small problems.  If this is really slow we'll need to find ways to speed it up.",
                  "url": "https://github.com/idaholab/moose/discussions/17878#discussioncomment-760744",
                  "updatedAt": "2022-08-09T15:47:01Z",
                  "publishedAt": "2021-05-19T21:52:18Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "mcacace"
                          },
                          "bodyText": "@lynnmunday, not sure I did understand all from the discussion you posted (lost myself in trying to relate an IC action to a Dirac Kernel action, and how to organize the reading and passing of information from a post processor that reads an external file to initialize a variable - late hours here in Berlin), but will give it some more thoughts in the next days. Thanks for your help",
                          "url": "https://github.com/idaholab/moose/discussions/17878#discussioncomment-760804",
                          "updatedAt": "2022-08-09T15:47:01Z",
                          "publishedAt": "2021-05-19T22:18:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lynnmunday"
                          },
                          "bodyText": "You're right, the dirac kernel would not work for IC's.  I got that all wrong.",
                          "url": "https://github.com/idaholab/moose/discussions/17878#discussioncomment-760876",
                          "updatedAt": "2022-08-09T15:47:01Z",
                          "publishedAt": "2021-05-19T22:50:06Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "mcacace"
                  },
                  "bodyText": "Dear all,\nI would like to thanks again for your hints. I implemented an interpolation based on a kdtree neighbour search and for what I tested so far it works nice - 2 millions points runs over few seconds on my laptop. I will do some more tests (by increasing the sampling points dimensions) to see whether all works fine (not sure if there is a limit size for initializing the kdtree), but I would now consider this post as closed.",
                  "url": "https://github.com/idaholab/moose/discussions/17878#discussioncomment-768424",
                  "updatedAt": "2022-08-09T15:47:01Z",
                  "publishedAt": "2021-05-21T14:06:26Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ABallisat"
                          },
                          "bodyText": "glad it worked, could you report back on your findings so we know if it does scale or not and what the limits are please. Thanks in advance!",
                          "url": "https://github.com/idaholab/moose/discussions/17878#discussioncomment-768471",
                          "updatedAt": "2022-08-09T15:47:01Z",
                          "publishedAt": "2021-05-21T14:13:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mcacace"
                          },
                          "bodyText": "Just checked on a real case examples. sampling points size is something more than 2 millions points, and target points size almost the same. It runs within few second. Attached a picture of the final results - the (close not to be seen points are the sampling points on top of the interpolated values. This said, I do think that the kd-tree has no memory limits for realistic applications...",
                          "url": "https://github.com/idaholab/moose/discussions/17878#discussioncomment-768585",
                          "updatedAt": "2022-08-09T15:47:01Z",
                          "publishedAt": "2021-05-21T14:30:57Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "CAD model import",
          "author": {
            "login": "Bayarbadrakh"
          },
          "bodyText": "Did anyone tried to import the mesh generated from the CAD software (Solidworks etc.) to MOOSE? Could share your experience on that?",
          "url": "https://github.com/idaholab/moose/discussions/17884",
          "updatedAt": "2022-06-18T18:50:14Z",
          "publishedAt": "2021-05-19T20:25:22Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "permcody"
                  },
                  "bodyText": "I know we've had a few on the team import from Solidworks in the past. Maybe one or two will chime in. I've imported into Cubit myself and worked from CAD. What's nice about starting with CAD is that as you mesh you don't lose the underlying geometry (so if you change the resolution of your mesh, you'll continue to better capture curvature from your original CAD geometry.\nThe one issue that many run into is that you may need to de-feature your CAD so that you can more easily mesh it. Very detailed geometry can be problematic for meshers. Cubit is one of the best packages available if you have access to it. I personally have no experience with other packages.",
                  "url": "https://github.com/idaholab/moose/discussions/17884#discussioncomment-763631",
                  "updatedAt": "2022-06-18T18:50:14Z",
                  "publishedAt": "2021-05-20T14:24:40Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": "+1 for Cubit - https://www.coreform.com/ - if you're doing academic things its free too. Nothing else I've tried really compares in terms of fixing and meshing. If your CAD is complex, you may want to consider ANSYS SpaceClaim which is literally unparalleled in its defeaturing and CAD repair. If you can get your geometry into a BREP form, then GMSH can pretty reliably produce meshes. However, if you've got complex CAD, then Cubit would be my go to too.",
                          "url": "https://github.com/idaholab/moose/discussions/17884#discussioncomment-766813",
                          "updatedAt": "2022-08-29T23:40:03Z",
                          "publishedAt": "2021-05-21T06:41:46Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "[Linear solver stopped? or Unfinised]",
          "author": {
            "login": "coskrrb2002"
          },
          "bodyText": "Dear moose users,\nI am currently trying to simulate my numerical model and find a reason for unfinished calculations.\nMy problem is like the below picture.\nIn a certain time step, it seems like linear residual calculation does not end.\nIt just stuck in there like the below. (Timestep 2200...)\nI am trying to figure the reason for over two weeks but I can't find any clue.\nSo, if you had a similar problem or solution please let me know.\nBest regards,\nQ",
          "url": "https://github.com/idaholab/moose/discussions/17883",
          "updatedAt": "2023-06-13T10:00:55Z",
          "publishedAt": "2021-05-19T15:27:40Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nAt 10^-17 your solve is very much converged for that timestep. You should set nl_rel_tol and nl_abs_tol so that the code does not try to converge that further. Numerical floating point precision is not that far.\nCould you please print the linear solve history, see SolutionHistory.\nThe default is max 10,000 linear iterations, which can take a while if convergence is not reached.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17883#discussioncomment-760379",
                  "updatedAt": "2023-06-13T10:01:04Z",
                  "publishedAt": "2021-05-19T20:09:33Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "coskrrb2002"
                          },
                          "bodyText": "Dear GiudGiud,\nThank you for your comment.\nThis morning, I finally found the error and fixed it!\nThe error was originated from my material kernel which takes a lot of time to calculate...\nBut your comment will be helped me a lot!\nSincerely,\nQ",
                          "url": "https://github.com/idaholab/moose/discussions/17883#discussioncomment-761317",
                          "updatedAt": "2023-06-13T10:01:10Z",
                          "publishedAt": "2021-05-20T03:22:58Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "DGEMM error when turning on adaptivity",
          "author": {
            "login": "souzanha"
          },
          "bodyText": "Hi!\nI have a code that converges and runs quite well using the phase-field module. However, when I turn on adaptivity I get an error at the 3rd timestep that I'm not sure how to deal with:\n** On entry to DGEMM parameter number  8 had an illegal value\nConda and moose is updated.\nThis is my block:\n  type = Transient\n  scheme = 'BDF2'\n\n  solve_type = 'NEWTON'\n\n  petsc_options_iname = '-pc_type -sub_pc_type'\n  petsc_options_value = 'asm       ilu'\n\n  l_tol = 1.0e-4\n  nl_rel_tol = 1.0e-10\n  nl_abs_tol = 1.0e-10\n\n  dt = 1e-3\n  end_time = 1\n\n  [./Adaptivity]\n   interval = 2\n   refine_fraction = 0.2\n   coarsen_fraction = 0.3\n   max_h_level = 4\n  [../]\n\n[]\n\nAny suggestions would be helpful!\nThanks,\nSouzan",
          "url": "https://github.com/idaholab/moose/discussions/17432",
          "updatedAt": "2022-10-24T16:31:04Z",
          "publishedAt": "2021-03-26T10:33:23Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "souzanha"
                  },
                  "bodyText": "So when setting  refine_fraction = 1.0 the simulation is able to run.\nBut it refines the whole mesh in the system, and does not coarsen the areas of low error.\nThis of course makes everything unnecessary slow. Any ideas for why I get this type of error and how to go around it?",
                  "url": "https://github.com/idaholab/moose/discussions/17432#discussioncomment-590769",
                  "updatedAt": "2022-10-24T16:31:04Z",
                  "publishedAt": "2021-04-09T16:52:34Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "AngeloCass"
                          },
                          "bodyText": "Did you ever figure out a solution to this issue? I appear to be having the same problem in my simulations. When I disable adaptivity, the problem goes away. I am hoping to not have to do that, so if you figured out a way to resolve the error and keep adaptivity, please let me know! Thanks!",
                          "url": "https://github.com/idaholab/moose/discussions/17432#discussioncomment-668817",
                          "updatedAt": "2022-10-24T16:31:04Z",
                          "publishedAt": "2021-04-28T11:29:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "permcody"
                          },
                          "bodyText": "Very interesting, can either one of you push up a PR with a test case for us to take a look at?",
                          "url": "https://github.com/idaholab/moose/discussions/17432#discussioncomment-670205",
                          "updatedAt": "2022-10-24T16:31:04Z",
                          "publishedAt": "2021-04-28T14:14:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "souzanha"
                          },
                          "bodyText": "I have not been able to solve the issue sadly. It does not matter how fine the initial mesh, I always get this error. So what I do now is to disable adaptivity completely, which is quite inefficient.\nI have used adaptivity with the Allen Cahn equation before, when I use an order parameter and the adaptivity runs well with no problems. The interface mesh gets finer, and the inner phases get coarser which is exactly as expected.\nAt the moment, I'm only using Cahn-Hilliard. The concentration variable is the one that changes in the system. I will try to create a simplified and stripped down version of my Cahn-Hilliard model and post it here.\nHere it is!\nhttps://github.com/souzanha/cahn_hilliard_test",
                          "url": "https://github.com/idaholab/moose/discussions/17432#discussioncomment-671158",
                          "updatedAt": "2022-10-24T16:31:04Z",
                          "publishedAt": "2021-04-28T17:11:56Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "souzanha"
                  },
                  "bodyText": "This seems now to be solved!",
                  "url": "https://github.com/idaholab/moose/discussions/17432#discussioncomment-758526",
                  "updatedAt": "2022-10-24T16:31:05Z",
                  "publishedAt": "2021-05-19T14:00:38Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "AngeloCass"
                          },
                          "bodyText": "I just saw some discussion posts saying it has been solved as well!",
                          "url": "https://github.com/idaholab/moose/discussions/17432#discussioncomment-759123",
                          "updatedAt": "2022-10-24T16:31:08Z",
                          "publishedAt": "2021-05-19T15:37:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Error after convergence of first transient step",
          "author": {
            "login": "AngeloCass"
          },
          "bodyText": "Hi,\nI am currently working with a graduate student who is using MOOSE to build and run some model simulations. He is currently unavailable to answer questions about an error that I am getting, and I have a limited knowledge on the framework. The error occurs once the first transient step converges and the second step begins.\nThe error message (last 2 lines) with some surrounding terminal output is as follows:\n    120 Nonlinear |R| = 1.029252e-06\n          0 Linear |R| = 1.029252e-06\n          1 Linear |R| = 3.706443e-09\n          2 Linear |R| = 1.795191e-11\n          3 Linear |R| = 4.848944e-14\n      Linear solve converged due to CONVERGED_RTOL iterations 3\n    121 Nonlinear |R| = 8.804651e-08\n    Nonlinear solve converged due to CONVERGED_FNORM_ABS iterations 121\n     Solve Converged!\n    \n    Time Step 2, time = 0.2, dt = 0.1\n     0 Nonlinear |R| = 3.808426e-02\n     ** On entry to DGEMM parameter number  8 had an illegal value\n     ** On entry to DGEMM parameter number  8 had an illegal value\n\nIf anyone knows why this may be happening, it would be a great help to me.\nThanks!",
          "url": "https://github.com/idaholab/moose/discussions/17686",
          "updatedAt": "2021-05-19T15:35:38Z",
          "publishedAt": "2021-04-27T12:30:52Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "aeslaughter"
                  },
                  "bodyText": "@fdkong Can you help with this? My googling indicates that it might be coming from BLAS.",
                  "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-664797",
                  "updatedAt": "2021-04-27T14:55:02Z",
                  "publishedAt": "2021-04-27T14:54:45Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "AngeloCass"
                          },
                          "bodyText": "I did some further testing and it appears that this issue is related to adaptivity. When disabling adaptivity in the input file, the simulation runs completely. Since it is desired to use the adaptivity function, I am hoping to solve this issue without completely disabling adaptivity.",
                          "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-668805",
                          "updatedAt": "2021-04-28T11:26:38Z",
                          "publishedAt": "2021-04-28T11:26:38Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "fdkong"
                  },
                  "bodyText": "It might be related to a direct solver you are using. Are you using super_dist? What does the executioner block look like?",
                  "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-670763",
                  "updatedAt": "2021-04-28T15:49:03Z",
                  "publishedAt": "2021-04-28T15:48:48Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "AngeloCass"
                          },
                          "bodyText": "Here's the executioner block.\nExecutionerBlock.txt",
                          "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-689706",
                          "updatedAt": "2021-05-03T17:58:04Z",
                          "publishedAt": "2021-05-03T17:58:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "fdkong"
                          },
                          "bodyText": "It looks normal to me.",
                          "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-690018",
                          "updatedAt": "2021-05-03T19:20:57Z",
                          "publishedAt": "2021-05-03T19:20:57Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "fdkong"
                  },
                  "bodyText": "@hugary1995 @lindsayad\nHere is a similar case. Did you guys dig into the global AD indexing things?",
                  "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-690017",
                  "updatedAt": "2021-05-03T19:20:57Z",
                  "publishedAt": "2021-05-03T19:20:39Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "No @hugary1995 suggested he might be able to make a MOOSE input at which point I could dig into it",
                          "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-690822",
                          "updatedAt": "2021-05-03T23:59:17Z",
                          "publishedAt": "2021-05-03T23:59:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "I just need an input file I can run to reproduce",
                          "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-690824",
                          "updatedAt": "2021-05-03T23:59:36Z",
                          "publishedAt": "2021-05-03T23:59:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Sorry I got distracted by other stuff. I am working on this right now.",
                          "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-700801",
                          "updatedAt": "2021-05-05T18:40:32Z",
                          "publishedAt": "2021-05-05T18:40:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "I created the issue #17755\n@AngeloCass See the issue above. I have a hunch that your error was due to the same issue. If you could also simplify your input file with MOOSE-only objects and create an issue, it might help @lindsayad fixing the bug.",
                          "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-701144",
                          "updatedAt": "2021-05-05T19:46:55Z",
                          "publishedAt": "2021-05-05T19:46:55Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "@lindsayad has fixed the issue. If you grab the newest version of moose, your issue should be fixed.",
                  "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-733757",
                  "updatedAt": "2021-05-13T13:16:27Z",
                  "publishedAt": "2021-05-13T13:16:07Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "AngeloCass"
                          },
                          "bodyText": "Thank you very much! I'll pull down the newest version.",
                          "url": "https://github.com/idaholab/moose/discussions/17686#discussioncomment-759115",
                          "updatedAt": "2021-05-19T15:35:13Z",
                          "publishedAt": "2021-05-19T15:35:13Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to take temperature into consideration in ComputeCrystalPlasticityStress and study the effect of temperature on stress-strain curve",
          "author": {
            "login": "xchengood"
          },
          "bodyText": "Hi Moose experts/users,\nI am looking through the materials module and hope to use ComputeCrystalPlasticityStress class to calculate the response of a FCC crystalline solid. The example file given by Moose is https://mooseframework.inl.gov/source/materials/crystal_plasticity/CrystalPlasticityKalidindiUpdate.html.\nWith the help of some moose experts or users, I succeed in obtaining the stress-strain curve. But this result is for room temperature. The questions are below.\n(1) How to take temperature as a factor and study the effect of temperature on the stress-strain curve.\n(2) I am confused about what material is used in the example file (https://github.com/PengWei97/monkey/blob/main/problem/poly_cp/prop_grain_read_cp_03.i) and how to define my own material property.\n(3) how to obtain an input file with a set of Euler angles like this one https://github.com/idaholab/moose/files/6316215/input_file.txt.\nThe example files above are provided by @PengWei97. Would you or others like to share any good experiences/tips with me? Thanks for your help in advance.",
          "url": "https://github.com/idaholab/moose/discussions/17691",
          "updatedAt": "2022-06-06T12:17:40Z",
          "publishedAt": "2021-04-27T15:32:29Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "dewenyushu"
                  },
                  "bodyText": "Hi @xchengood\nTo answer part your questions:\n(1) I am recently working on crystal plasticity code development which involves adding temperature effects. I will be working on a PR in the next week or so and will share with you the link here when the PR is up.\n(2) The example input that you are sharing is using the FiniteStrainUObasedCP base class. So the material state variables are actually defined and calculated in the UserObjects block. From there, it looks like you are using the Kalidindi model, which is documented in the documentation page that you are referencing. For some detailed descriptions of the constitutive law of the material and default values, I would recommend you to look into the individual user object's documentation page. Also, maybe it is helpful to go through the following paper as well:\nSurya R Kalidindi, Curt A Bronkhorst, and Lallit Anand. Crystallographic texture evolution in bulk deformation processing of fcc metals. Journal of the Mechanics and Physics of Solids, 40(3):537\u2013569, 1992.\nOne thing I want you to be aware of is that we are migrating the FiniteStrainUObasedCP base class to ComputeMultipleCrystalPlasticityStress (see #17405), which should be on the devel branch soon. The Kalidindi model is also transformed with the new design, which only includes one material class and should make more sense for you to understand the material model.\n(3) The Euler angles seems to be generated as random numbers ranging between 0 and 360, I guess?  The number of rows depends on the read type, i.e., number of elements, blocks, or grains, see https://mooseframework.inl.gov/source/userobjects/ElementPropertyReadFile.html\nHope this is helpful!\n@jiangwen84 @sapitts please feel free to add if I miss something",
                  "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-665572",
                  "updatedAt": "2022-06-16T19:27:12Z",
                  "publishedAt": "2021-04-27T17:24:16Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "xchengood"
                          },
                          "bodyText": "Hi @dewenyushu. Thank you for your information indeed. I would like to ask you how is your working on crystal plasticity code development adding temperature effects. Hope you can finish it soon. In addition, could you please take time to look through and try to run this input file?\nhttps://github.com/ngrilli/c_pfor_am/blob/main/test/tests/TempDepCRSS/TempDepCRSS.i\nI am not able to get an output file with csv format. what is outlier variable residual norms in terminal below\n\nI have no idea where goes wrong and how to improve it. Thank you.",
                          "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-705220",
                          "updatedAt": "2022-06-16T19:27:20Z",
                          "publishedAt": "2021-05-06T16:19:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "dewenyushu"
                          },
                          "bodyText": "Hi @xchengood ,\nGood to know that you've made some progress on your CP simulation. To answer your questions:\n\n\nAn initial implementation for adding temperature effects is close to be merged, see #17735\n\n\nTo output a csv file. You will need to define the desired output variables in the\n\n\n[Postprocessors]\n\n[]\n\nblock. There are many Postprocessor and Vectorpostprocessor types you can choose from, based on the variables that you would like to output. See all the types on the source documentation page here",
                          "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-706066",
                          "updatedAt": "2022-06-16T19:27:18Z",
                          "publishedAt": "2021-05-06T19:25:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "xchengood"
                          },
                          "bodyText": "Hi @dewenyushu. I am appreciative of your information. Could you tell me which is the specific input file that you add temperature effect in the #17735.  In addition, could you share good experiences or tips for creating and developing a custom application?  Although I repeatedly look through the example and tutorial as well as the development section, I still have no idea how to create my application, like which syntax I should use, which object class I should utilize. For .c and .h file, what programming rules should I take when writing them? I know c++ is the basis but it looks more complicated.",
                          "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-729778",
                          "updatedAt": "2022-06-16T19:27:34Z",
                          "publishedAt": "2021-05-12T15:30:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "dewenyushu"
                          },
                          "bodyText": "@xchengood\n\nIn #17735, I have a test input where I added an AuxVariable to mimic a linearly increasing temperature, please see:\n\nmodules/tensor_mechanics/test/tests/crystal_plasticity/stress_update_material_based/thermal_eigenstrain_test.i\nIf you would like to solve a thermomechanical problem with crystal plasticity, simply declare a temperature variable and add the heat conduction kernels for the temperature variable in your input. You may refer to some existing inputs, such as:\n/Users/yushd/projects/moose/modules/combined/test/tests/power_law_creep/power_law_creep.i\n\nI remember MOOSE's training session provides sufficient info about creating an application (see https://mooseframework.inl.gov/). Would you mind being more specific about what kind of application you are creating? what specific difficulties that you are seeing so far?",
                          "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-731118",
                          "updatedAt": "2022-09-12T17:11:42Z",
                          "publishedAt": "2021-05-12T21:19:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "xchengood"
                          },
                          "bodyText": "Hi @dewenyushu. Thank you for giving me good instructions.\n\n\nI am not clear about what is the right way to take your input file that you mentioned in 1 in last reply for my use. I just copy this input file to my moose corresponding folder or download your whole files. For the second way, I try to use 'make -j4' to compile it after it goes into tensor_mechanics, I got the following error.\n\n\n\nwhat is 'fth_xx', 'fth_yy' and 'fth_zz' in your input file?\n\n\nThank you for your help again.",
                          "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-753797",
                          "updatedAt": "2022-09-12T17:11:44Z",
                          "publishedAt": "2021-05-18T16:10:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "dewenyushu"
                          },
                          "bodyText": "Hi @xchengood\n\nFrom the error message you posted above, the error from libmesh does not seem to be related to the crystal plasticity codes that we are working on. You may need to update your repo by conda update --all and try again\n\nNevertheless, copying/downloading the files from the PR does not sound ideal - especially after my recent change of the code to account for multiple thermal eigenstrains.\n\n\nIf you are not in a hurry, the easiest for you would be to wait for the PR to be merged, then you can just update your local MOOSE repo based on the next or devel branch.\n\n\nIf you are comfortable with git, the other approach is to pull my https://github.com/dewenyushu/moose/tree/add_thermal_eigenstrain_for_CP branch from my github repo. I am sure there are many ways to do so. Need a bit search and exercise on the git commands.\n\n\n\nThe 'fth_xx', 'fth_yy' and 'fth_zz' are the components in the thermal deformation gradient tensors.",
                          "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-755314",
                          "updatedAt": "2022-09-12T17:11:45Z",
                          "publishedAt": "2021-05-18T21:40:49Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "ngrilli"
                  },
                  "bodyText": "Dear @xchengood\nTo add the effect of temperature, you will need to write your own child material class and add temperature as a coupled variable.\nYou can find an example in my repository:\nhttps://github.com/ngrilli/c_pfor_am/blob/main/src/materials/FiniteStrainCrystalPlasticityThermal.C\nThis material model includes the thermal eigenstrain to model thermal expansion,\ntemperature dependence of the critical resolved shear stress,\ntemperature dependence of the thermal expansion coefficient.\nThis other material:\nhttps://github.com/ngrilli/c_pfor_am/blob/main/src/materials/ComputeElasticityTensorCPGrain.C\nis for the temperature dependence of the elasticity tensor.\nThe equations of the crystal plasticity model in MOOSE are reported in section 2.1 of:\nhttps://www.sciencedirect.com/science/article/abs/pii/S0927025618305883\nThe meaning of the parameters in the input file:\nhttps://github.com/ngrilli/c_pfor_am/blob/main/test/tests/TempDepCRSS/TempDepCRSS.i\nit is, for instance:\nflowprops = '1 12 0.001 0.1' # slip rate equations parameters \nhprops = '1.0 541.5 136.0 200.0 2.5' # hardening properties\ngprops = '1 12 136.0' # initial values of slip system resistances (start_slip_sys, end_slip_sys, value)\n\n0.001 is \\dot{\\gamma}0 (equation 4)\n0.1 is m (equation 4)\n541.5 is h{s_i s_j} (equation 6)\n136.0 is g_{s_j} at time 0 (equation 6)\n200.0 is g_{sat} (equation 6)\n2.5 is a (equation 6)\nTrust this helps.\nBest Regards,\nNicol\u00f2 Grilli",
                  "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-666178",
                  "updatedAt": "2022-06-16T19:27:41Z",
                  "publishedAt": "2021-04-27T19:29:31Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "xchengood"
                          },
                          "bodyText": "Dear @ngrilli\n\n\nTo add the effect of temperature, you will need to write your own child material class and add temperature as a coupled variable.\nYou can find an example in my repository:\nhttps://github.com/ngrilli/c_pfor_am/blob/main/src/materials/FiniteStrainCrystalPlasticityThermal.C\nThis material model includes the thermal eigenstrain to model thermal expansion,\ntemperature dependence of the critical resolved shear stress,\ntemperature dependence of the thermal expansion coefficient.\nThis other material:\nhttps://github.com/ngrilli/c_pfor_am/blob/main/src/materials/ComputeElasticityTensorCPGrain.C\nis for the temperature dependence of the elasticity tensor.\nThe equations of the crystal plasticity model in MOOSE are reported in section 2.1 of:\nhttps://www.sciencedirect.com/science/article/abs/pii/S0927025618305883\nThe meaning of the parameters in the input file:\nhttps://github.com/ngrilli/c_pfor_am/blob/main/test/tests/TempDepCRSS/TempDepCRSS.i\nit is, for instance:\nflowprops = '1 12 0.001 0.1' # slip rate equations parameters \nhprops = '1.0 541.5 136.0 200.0 2.5' # hardening properties\ngprops = '1 12 136.0' # initial values of slip system resistances (start_slip_sys, end_slip_sys, value)\n\n0.001 is \\dot{\\gamma}0 (equation 4) 0.1 is m (equation 4) 541.5 is h{s_i s_j} (equation 6)\n136.0 is g_{s_j} at time 0 (equation 6)\n200.0 is g_{sat} (equation 6)\n2.5 is a (equation 6)\n\nFirst, thanks for your help indeed. I try to understand all your provided. But there is still some confusion in my head. Based on this input file,\n\n\ncould you explain more about this one in [Functions] block? I guess this is to set compression force, right? Usually, for uniaxial tension or compression test, the rate of compression/tension like 0.1mm/min is set. So what is the meaning of '0.1*t'?\n\n\n\nIn [AuxVariables] or [AuxKernels] block, what is meaning of [./fp_xx], [./fp_yy], [./fp_zz] and [./crysrot11]?\n\n\nIn [UserObjects] block, the file you used is called  'euler_ang_test.inp'. How can I get one file like this for my own materials?\n\n\nYou did great work in that published paper. I saw the material you studied is \u03b2-HMX, right? How do you define the properties of this material in the input file? Usually, I just know we can define one material by something like Young's modulus and Poisson's ratio. I do not see any places regarding these aspects in your input file.\n\n\nAgain, I appreciate your help.\n\nTrust this helps.\nBest Regards,\nNicol\u00f2 Grilli",
                          "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-675598",
                          "updatedAt": "2022-06-16T19:29:50Z",
                          "publishedAt": "2021-04-29T15:52:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "xchengood"
                          },
                          "bodyText": "Hi @ngrilli, the information you provided is much helpful for me to study the effect of temperature on uniaxial tension/compression. But I have some confusion about some points. Could you look at my questions in the last reply and help me figure them out? Thank you.",
                          "url": "https://github.com/idaholab/moose/discussions/17691#discussioncomment-698981",
                          "updatedAt": "2022-06-16T19:30:23Z",
                          "publishedAt": "2021-05-05T14:14:13Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}