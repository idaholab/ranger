{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMS0wMy0xN1QwOToxNzowNC0wNjowMM4AAT7r"
    },
    "edges": [
      {
        "node": {
          "title": "AD Neumann BC for a vector variable",
          "author": {
            "login": "ABallisat"
          },
          "bodyText": "Hello all,\nI have a need to set a Neumann BC for a vector variable, specifically setting a component of the gradient of a component of a vector to be a value (probably zero), for example something along the lines of\npartial v_x / partial y = 0\n\nfor vector v with components x and y (and naturally extend to 3D). I am using AD so would prefer it to be within that system. I have been looking at the ADIntegratedBC.C as a basis for this but cannot figure out how to get it to work with vector variables. Could someone point me in the right direction?\nI have looked at VectorNeumannBC.C but cannot figure out how it iterates over a vector variable, my understanding in this area is lacking. My guess is that the\nfor (_i = 0; _i < _test.size(); _i++)\nline iterates over the components as _test.size() returns the number of components of the vector, is this understanding correct? If so, then i could be passed through to work out what component you are on.\nThanks for the help!\nAlex",
          "url": "https://github.com/idaholab/moose/discussions/17018",
          "updatedAt": "2023-04-07T16:49:01Z",
          "publishedAt": "2021-02-16T16:09:57Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hi Alex\nVectorNeumannBC are definitely a good start to create an AD version of that BC.\n_i will indeed be the component the BC is currently considering.\nYou may want to look at ADVectorDirichletBC as well btw.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17018#discussioncomment-495143",
                  "updatedAt": "2023-03-02T13:40:01Z",
                  "publishedAt": "2021-03-17T18:36:39Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Grain Growth - grain_growth_2D_random.i",
          "author": {
            "login": "EtienneSwerim"
          },
          "bodyText": "Hi,\nCould I get a little help with the appended example file: grain_growth_2D_random.i?\nAs I understand from the Grain Growth Model section of the Moose Manual, order parameters and kernels are automatically created by the Action system called GrainGrowthAction. I even found the files GrainGrowthAction.h and GrainGrowthAction.C and read them.\nWhat I do not understand is:\n\n\nWhere, in the grain_growth_2D_random.i, are the GrainGrowthAction files called? The name GrainGrowthAction is not present in the file! I guess these files are called implicitly but how?\n\n\nWhen it comes to variables, only the name PolycrystalVariables is defined but neither a type nor an action, see below.\n\n\n[Variables]\n  # Variable block, where all variables in the simulation are declared\n  [./PolycrystalVariables]\n    # Custom action that created all of the grain variables and sets their initial condition\n  [../]\n[]\n\nI noticed that Moose crashes if the name PolycrystalVariables is changed and I noticed that there is a folder called PolycrystalVariables\n(moose/module/phase_field/doc/content/syntax/Variables/PolycrystalVariables)\nThis folder contains a single file called index.md which contain the following single line:\n!template load file=stubs/moose_system.md.template name=PolycrystalVariables syntax=/Variables/PolycrystalVariables\na) Is this index.md file called by the variable name PolycrystalVariables in the grain_growth_2D_random.i file?\nb) What does this index.md file do? I noticed there were a lot of theses files in the moose folder for example one below PolycrystalKernel and one below PolycrystalRandomIC and I do not understand what these two do either.\nVery grateful for help!\nBest Regards\nEtienne\ngrain_growth_2D_random.txt",
          "url": "https://github.com/idaholab/moose/discussions/16966",
          "updatedAt": "2022-08-22T16:39:44Z",
          "publishedAt": "2021-02-11T20:54:37Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "SudiptaBiswas"
                  },
                  "bodyText": "The input file you are referring to doesn't use GrainGrowthAction. Instead, it separately uses the PolycrystalVariableAction and PolycrystalkernelAction.  Variables/PolycrystalVariables calls for the action that sets up the variables based on variable_base_name and op_num. You can find out how the actions are registered in the PhaseFieldApp.C file.\n*.md files are the documentation files. You will find more documentation on this on the mooseframework website.",
                  "url": "https://github.com/idaholab/moose/discussions/16966#discussioncomment-361168",
                  "updatedAt": "2022-08-22T16:39:44Z",
                  "publishedAt": "2021-02-11T22:48:45Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "EtienneSwerim"
                          },
                          "bodyText": "Hi Sudipta,\nThanks a lot for your answer!\nVery useful to know about the PhaseFieldApp.C file.\nAs I understand from your answer, when the input file contains:\n[Variables]\n[./PolycrystalVariables]\n[../]\n[]\nMoose calls the files: PolycrystalVariablesAction.h and PolycrystalVariablesAction.C.\nAnd good to know that all the .md files are for documentation and not calculation.\nAgain, thanks a lot! I am new to Moose so help is greatly appreciated.\nBest Regards\nEtienne",
                          "url": "https://github.com/idaholab/moose/discussions/16966#discussioncomment-362733",
                          "updatedAt": "2022-08-22T16:39:44Z",
                          "publishedAt": "2021-02-12T13:37:31Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "MPI had an error",
          "author": {
            "login": "Leni-Yeo"
          },
          "bodyText": "Good afternoon,\nI am trying to do a simulation for polycrystal grain growth. I saw the example that applies the polycrystalvariables and polycrystalkernel actions. I modified the polycrystalkernel action to include the following kernels: ADAllenCahn, ADTimeDerivative, and ADACInterfaceKobayashi2 for a basic simulation. The problem is that I get a \"MPI had an error\" when running the simulation. I cannot find the exact problem. I assumed it is in the action kernel but still could not solve it.  Please help.\nI attached my input file and the kernel action I am using to set up the kernels.\n##################### I COPIED THE ERROR BELOW ##########################\nGeneric Warning: In ../Parallel/MPI/vtkMPICommunicator.cxx, line 69\nMPI had an error\nInvalid communicator, error stack:\nMPI_Comm_test_inter(112): MPI_Comm_test_inter(comm=0xf2e8f3e0, flag=0x7ffcce88cfc0) failed\nMPI_Comm_test_inter(70).: Invalid communicator\napplication called MPI_Abort(MPI_COMM_WORLD, 612613) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=612613\n:\nsystem msg for write_line failure : Bad file descriptor\nPrimary job  terminated normally, but 1 process returned\na non-zero exit code. Per user-direction, the job has been aborted.\nGeneric Warning: In ../Parallel/MPI/vtkMPICommunicator.cxx, line 69\nMPI had an error\nInvalid communicator, error stack:\nMPI_Comm_test_inter(112): MPI_Comm_test_inter(comm=0x4ce493e0, flag=0x7ffd8f4d8be0) failed\nMPI_Comm_test_inter(70).: Invalid communicator\napplication called MPI_Abort(MPI_COMM_WORLD, 612613) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=612613\n:\nsystem msg for write_line failure : Bad file descriptor\nAssertion failed in file src/mpi/comm/comm_test_inter.c at line 77: ((comm)&(0x03ffffff)) < MPIR_COMM_N_BUILTIN\n/home/user/miniconda3/envs/moose/lib/libmpi.so.12(+0x1c7d93) [0x7fa949f80d93]\n/home/user/miniconda3/envs/moose/lib/libmpi.so.12(MPL_backtrace_show+0x18) [0x7fa949f80e73]\n/home/user/miniconda3/envs/moose/lib/libmpi.so.12(+0x15bb94) [0x7fa949f14b94]\n/home/user/miniconda3/envs/moose/lib/libmpi.so.12(MPI_Comm_test_inter+0x2f0) [0x7fa949e27840]\n/lib/x86_64-linux-gnu/libmpi_cxx.so.40(_ZN3MPI9IntracommC1EP19ompi_communicator_t+0x8b) [0x7fa9443623db]\n/lib/x86_64-linux-gnu/libmpi_cxx.so.40(+0x1125a) [0x7fa94435e25a]\n/lib64/ld-linux-x86-64.so.2(+0x11b8a) [0x7fa94e9abb8a]\n/lib64/ld-linux-x86-64.so.2(+0x11c91) [0x7fa94e9abc91]\n/lib/x86_64-linux-gnu/libc.so.6(_dl_catch_exception+0xe5) [0x7fa94abed915]\n/lib64/ld-linux-x86-64.so.2(+0x160bf) [0x7fa94e9b00bf]\n/lib/x86_64-linux-gnu/libc.so.6(_dl_catch_exception+0x88) [0x7fa94abed8b8]\n/lib64/ld-linux-x86-64.so.2(+0x155fa) [0x7fa94e9af5fa]\n/lib/x86_64-linux-gnu/libdl.so.2(+0x134c) [0x7fa94717734c]\n/lib/x86_64-linux-gnu/libc.so.6(_dl_catch_exception+0x88) [0x7fa94abed8b8]\n/lib/\ninternal ABORT - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1\n:\nsystem msg for write_line failure : Bad file descriptor\nGeneric Warning: In ../Parallel/MPI/vtkMPICommunicator.cxx, line 69\nMPI had an error\nInvalid communicator, error stack:\nMPI_Comm_test_inter(112): MPI_Comm_test_inter(comm=0xa292c3e0, flag=0x7ffe75b7b580) failed\nMPI_Comm_test_inter(70).: Invalid communicator\napplication called MPI_Abort(MPI_COMM_WORLD, 537483525) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=537483525\n:\nsystem msg for write_line failure : Bad file descriptor\nGeneric Warning: In ../Parallel/MPI/vtkMPICommunicator.cxx, line 69\nMPI had an error\nInvalid communicator, error stack:\nMPI_Comm_test_inter(112): MPI_Comm_test_inter(comm=0x62a903e0, flag=0x7ffcd7088450) failed\nMPI_Comm_test_inter(70).: Invalid communicator\nfiles.zip",
          "url": "https://github.com/idaholab/moose/discussions/17109",
          "updatedAt": "2022-07-04T07:26:24Z",
          "publishedAt": "2021-02-23T20:07:44Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hi\nDo you have a working version without this new action?\nI dont see the new kernels or the new action in the input file you provided.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17109#discussioncomment-491225",
                  "updatedAt": "2022-07-04T07:26:26Z",
                  "publishedAt": "2021-03-16T22:34:52Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Leni-Yeo"
                          },
                          "bodyText": "Hi\nThank you for answering back.\nThe problem was fortunately solved. We had set up a wrong kernel apparently which messed up the IC and boundary conditions.\nTo answer your question, it was a modified version of the \"grain_growth_2D_voronoi_newadapt.i\" file, with the first kernel replaced by the \"ACInterfaceKobayashi1\".",
                          "url": "https://github.com/idaholab/moose/discussions/17109#discussioncomment-494536",
                          "updatedAt": "2022-07-04T07:26:26Z",
                          "publishedAt": "2021-03-17T16:32:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Great! Thanks for letting us know.",
                          "url": "https://github.com/idaholab/moose/discussions/17109#discussioncomment-494554",
                          "updatedAt": "2022-07-04T07:26:26Z",
                          "publishedAt": "2021-03-17T16:36:58Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to restart a simulation with a new layer of mesh added?",
          "author": {
            "login": "YYang-farm"
          },
          "bodyText": "Dear MOOSE team as well as users:\nI am recently considering a multilayer phase-field simulation in moose. After the simulation of one layer, I want to add a new layer of mesh, then restart the simulation (and I hope the new mesh will be with the same domain label as the old one, meaning no interface between meshes). Could anybody share with me the possible method to achieve this in moose or any alternatives?\nI really appreciate any help you can provide.\nBy the way, I have also tried using SolutionUserObject to map the result of the old layer to a larger mesh (containing two layers) as the IC, which never succeeded since SolutionUserObject kept returning \"Failed to access the data\" for the points located out of the old mesh.",
          "url": "https://github.com/idaholab/moose/discussions/16971",
          "updatedAt": "2022-07-15T18:45:40Z",
          "publishedAt": "2021-02-11T21:44:33Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nHas this been solved?\nIf not,\nMaybe have the entire mesh in the initial calculation and block restrict the variables / kernels, and load the initial solution only in the relevant blocks.\nAnother option would be to use (maybe modify) the control system to activate kernels in more and more blocks as the simulation progresses.\nSolutionUserObject and checkpoint restart will struggle with having different meshes. The meshes must be the same in the two simulations\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/16971#discussioncomment-494495",
                  "updatedAt": "2022-07-15T18:45:40Z",
                  "publishedAt": "2021-03-17T16:21:06Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Generalized Maxwell Model - convergence issues and negative Jacobians",
          "author": {
            "login": "s-dunnim"
          },
          "bodyText": "Hi,\nI'm trying to model a compression moulding process, using a GeneralizedMaxwellModel. I'm using a generated mesh for the charge to be moulded, and another pre-made mesh for the inside edge of the mould (see picture). The bottom of the mould (-y) is modelled by a 0 displacement BC, and the top of the mould (+y), which moves downwards to compress the charge, is modelled with a variable disp BC. There is a 0 disp BC along the left face of the charge (-x), to stop it from separating from the inside of the mould (this would be due to friction from the top and bottom of the mould in real life), although the corner is free, allowing it to fill the rounded corner of the mould. The charge has been halved (in the xy plane), and a 0 disp BC applied to the front face (+z), using symmetry to reduce the calculation required. Frictionless contact is enforced between the inner mould surface and the outer charge surfaces.\n\nUnfortunately, the model fails about halfway through, producing multiple negative Jacobian errors and failing to converge. I've tried adaptive time stepping, mesh adaptivity, different contact formulations, turning off contact completely, and different sizes of geometry, none of which fixed the problem (although different configurations did result in the failure occurring at different times).\nDoes anyone know what the problem could be, and what I can do to fix it? Ideally I'd like to get the charge squashing out to fill the mould shape. I've attached the input file, as well as the mould mesh and the .csv used for the mould top height.\nThanks\nCompressionMoulding.i.txt\nMouldMesh.ucd.txt\nMouldTopDisp.csv.txt",
          "url": "https://github.com/idaholab/moose/discussions/17092",
          "updatedAt": "2022-06-27T08:30:59Z",
          "publishedAt": "2021-02-22T16:34:58Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hi\nDid you check the mesh for bad displaced/inverted elements before the solver fails?\n@aeslaughter who can I tag to help with this?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17092#discussioncomment-494291",
                  "updatedAt": "2022-06-27T08:31:01Z",
                  "publishedAt": "2021-03-17T15:31:29Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "s-dunnim"
                          },
                          "bodyText": "Hi there, thanks for the reply. Some of the elements were pretty highly deformed and displaced - in the end I came to the conclusion the strain and deformation levels were perhaps more than TensorMechanics is really made for, and I'm investigating other methods to model this in MOOSE instead.",
                          "url": "https://github.com/idaholab/moose/discussions/17092#discussioncomment-494321",
                          "updatedAt": "2022-10-13T18:13:01Z",
                          "publishedAt": "2021-03-17T15:39:34Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Ok thanks a lot for letting us know.",
                          "url": "https://github.com/idaholab/moose/discussions/17092#discussioncomment-494411",
                          "updatedAt": "2022-10-13T18:13:01Z",
                          "publishedAt": "2021-03-17T16:00:21Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Ways to reduce the calculation time",
          "author": {
            "login": "LiuPengPeter"
          },
          "bodyText": "Hello,\nIn my model, the time_scale is 1.0E+9 (from s to ns). The length dt=1000. So 1.0E+6 of steps have to be used to get the result of  200s. So huge!\nWhat's more, the situation won't be better if I change the time_scale and dt. (Larger dt will be adapted to around 1000 finally.)\nIs there any other methods recommended  to reduce the calculation time? Will scaling factor help?\nThank you a lot!\nMy execution is in the following:\n[Executioner]\n  type = Transient\n  scheme = bdf2\n  solve_type = 'PJFNK'\n  #########PETSC_OPTIONS###################very_important###################\n  petsc_options_iname = '-pc_type -sub_pc_type   -sub_pc_factor_shift_type'\n  petsc_options_value = 'asm       ilu            nonzero'\n  l_max_its = 50\n  l_tol = 1e-4\n  nl_max_its = 20\n  nl_rel_tol = 1e-10\n  nl_abs_tol = 1e-10\n  end_time = 2.00E+11\n[./TimeStepper]\n    type = IterationAdaptiveDT\n    dt = 1.00E+03\n    cutback_factor = 0.8\n    growth_factor = 2.0 \n    optimal_iterations = 7\n [../]\n[]\n[Preconditioning]\n  active = 'full'\n  [./full]\n    type = SMP\n    full = true\n  [../]\n  [./mydebug]\n    type = FDP\n    full = true\n  [../]\n[]",
          "url": "https://github.com/idaholab/moose/discussions/16483",
          "updatedAt": "2022-08-26T14:25:24Z",
          "publishedAt": "2020-12-14T11:51:17Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "aeslaughter"
                  },
                  "bodyText": "@fdkong Can you help here?",
                  "url": "https://github.com/idaholab/moose/discussions/16483#discussioncomment-205366",
                  "updatedAt": "2022-08-26T14:25:28Z",
                  "publishedAt": "2020-12-14T16:03:55Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "fdkong"
                  },
                  "bodyText": "It is often problem dependent.\n\n\nRun the code in parallel may be able to make the code faster\n\n\nIf the Jacobian matrix is accurate, use solve_typ=newton could speedup a bit\n\n\nIf the number of linear iterations is not small, could increase the fill-in levels -sub_pc_factor_levels 2",
                  "url": "https://github.com/idaholab/moose/discussions/16483#discussioncomment-205567",
                  "updatedAt": "2022-08-26T14:25:29Z",
                  "publishedAt": "2020-12-14T16:56:26Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "LiuPengPeter"
                          },
                          "bodyText": "It runs very quickly, about 5 seconds for one time step.\nI set the end_time =  1.0E+9, (200 s), but after one day only get the result of 1.0E+7. So maybe 100 days are needed...\nThe unit of time is ns (10E-9 s) and the simulation won't converge well if I change it. Why is it so small?\nThank you for your help!\nTime Step 20412, time = 3.48711e+07, dt = 2063.65\n0 Nonlinear |R| = 1.301949e-08\n|residual|_2 of individual variables:\nw:    1.30195e-08\nc:    4.55567e-14\neta1: 9.17821e-19\neta2: 7.08598e-20\neta3: 2.41848e-15\nc1:   5.31692e-13\nc2:   5.29201e-13\nc3:   3.56361e-14\n0 Linear |R| = 1.301949e-08\n1 Linear |R| = 1.301949e-08\n2 Linear |R| = 1.301947e-08\n3 Linear |R| = 1.301946e-08\n4 Linear |R| = 1.301945e-08\n5 Linear |R| = 1.301943e-08\n6 Linear |R| = 1.301939e-08\n7 Linear |R| = 1.301930e-08\n8 Linear |R| = 1.301916e-08\n9 Linear |R| = 1.301889e-08\n10 Linear |R| = 1.301845e-08\n11 Linear |R| = 1.301758e-08\n12 Linear |R| = 1.301579e-08\n13 Linear |R| = 1.301191e-08\n14 Linear |R| = 1.300521e-08\n15 Linear |R| = 1.299228e-08\n16 Linear |R| = 1.297684e-08\n17 Linear |R| = 1.294398e-08\n18 Linear |R| = 1.290817e-08\n19 Linear |R| = 1.283983e-08\n20 Linear |R| = 1.274005e-08\n21 Linear |R| = 1.255210e-08\n22 Linear |R| = 1.225769e-08\n23 Linear |R| = 1.176580e-08\n24 Linear |R| = 1.112838e-08\n25 Linear |R| = 1.033345e-08\n26 Linear |R| = 9.153863e-09\n27 Linear |R| = 8.003364e-09\n28 Linear |R| = 6.622598e-09\n29 Linear |R| = 5.597964e-09\n30 Linear |R| = 8.052611e-09\n31 Linear |R| = 8.052609e-09\n32 Linear |R| = 8.052323e-09\n33 Linear |R| = 8.052207e-09\n34 Linear |R| = 8.052110e-09\n35 Linear |R| = 8.051696e-09\n36 Linear |R| = 8.051194e-09\n37 Linear |R| = 8.049746e-09\n38 Linear |R| = 8.047512e-09\n39 Linear |R| = 8.043057e-09\n40 Linear |R| = 8.036283e-09\n41 Linear |R| = 8.022776e-09\n42 Linear |R| = 7.995286e-09\n43 Linear |R| = 7.937876e-09\n44 Linear |R| = 7.842004e-09\n45 Linear |R| = 7.663963e-09\n46 Linear |R| = 7.471331e-09\n47 Linear |R| = 7.100422e-09\n48 Linear |R| = 6.752856e-09\n49 Linear |R| = 6.194370e-09\n50 Linear |R| = 5.573689e-09\nLinear solve did not converge due to DIVERGED_ITS iterations 50\n1 Nonlinear |R| = 9.034513e-09\n|residual|_2 of individual variables:\nw:    8.13015e-10\nc:    1.20437e-09\neta1: 3.7189e-15\neta2: 6.26328e-18\neta3: 3.23551e-12\nc1:   5.46881e-09\nc2:   5.46157e-09\nc3:   4.44682e-09\n0 Linear |R| = 9.034513e-09\n1 Linear |R| = 9.034496e-09\n2 Linear |R| = 9.033128e-09\n3 Linear |R| = 9.032453e-09\n4 Linear |R| = 9.031768e-09\n5 Linear |R| = 9.030367e-09\n6 Linear |R| = 9.027351e-09\n7 Linear |R| = 9.020515e-09\n8 Linear |R| = 9.010147e-09\n9 Linear |R| = 8.988535e-09\n10 Linear |R| = 8.955818e-09\n11 Linear |R| = 8.893175e-09\n12 Linear |R| = 8.763566e-09\n13 Linear |R| = 8.504297e-09\n14 Linear |R| = 8.103937e-09\n15 Linear |R| = 7.454319e-09\n16 Linear |R| = 6.839006e-09\n17 Linear |R| = 5.880821e-09\n18 Linear |R| = 5.170450e-09\n19 Linear |R| = 4.222539e-09\n20 Linear |R| = 3.376157e-09\n21 Linear |R| = 2.587485e-09\n22 Linear |R| = 1.984959e-09\n23 Linear |R| = 1.508259e-09\n24 Linear |R| = 1.178323e-09\n25 Linear |R| = 9.336882e-10\n26 Linear |R| = 7.058346e-10\n27 Linear |R| = 5.551710e-10\n28 Linear |R| = 4.198611e-10\n29 Linear |R| = 3.374034e-10\n30 Linear |R| = 5.871209e-09\n31 Linear |R| = 5.847506e-09\n32 Linear |R| = 2.595568e-09\n33 Linear |R| = 2.313918e-09\n34 Linear |R| = 2.085521e-09\n35 Linear |R| = 1.767244e-09\n36 Linear |R| = 1.421870e-09\n37 Linear |R| = 1.051410e-09\n38 Linear |R| = 8.035187e-10\n39 Linear |R| = 5.871254e-10\n40 Linear |R| = 4.542527e-10\n41 Linear |R| = 3.245219e-10\n42 Linear |R| = 2.340989e-10\n43 Linear |R| = 1.600106e-10\n44 Linear |R| = 1.141013e-10\n45 Linear |R| = 8.264118e-11\n46 Linear |R| = 6.363237e-11\n47 Linear |R| = 4.606866e-11\n48 Linear |R| = 3.695673e-11\n49 Linear |R| = 3.015359e-11\n50 Linear |R| = 2.427008e-11\nLinear solve did not converge due to DIVERGED_ITS iterations 50\n2 Nonlinear |R| = 4.032112e-10\n|residual|_2 of individual variables:\nw:    3.84205e-12\nc:    2.47542e-11\neta1: 1.08331e-13\neta2: 6.64417e-17\neta3: 1.3091e-12\nc1:   2.84151e-10\nc2:   2.84007e-10\nc3:   2.34102e-11\n0 Linear |R| = 4.032112e-10\n1 Linear |R| = 9.910058e-11\n2 Linear |R| = 2.129399e-11\n3 Linear |R| = 1.666190e-11\n4 Linear |R| = 1.177270e-11\n5 Linear |R| = 8.907619e-12\n6 Linear |R| = 6.862658e-12\n7 Linear |R| = 4.720409e-12\n8 Linear |R| = 3.422265e-12\n9 Linear |R| = 2.714312e-12\n10 Linear |R| = 2.103812e-12\n11 Linear |R| = 1.671415e-12\n12 Linear |R| = 1.394507e-12\n13 Linear |R| = 1.047202e-12\n14 Linear |R| = 8.452052e-13\n15 Linear |R| = 6.944958e-13\n16 Linear |R| = 5.150750e-13\n17 Linear |R| = 4.053526e-13\n18 Linear |R| = 3.429931e-13\n19 Linear |R| = 2.808270e-13\n20 Linear |R| = 2.169458e-13\n21 Linear |R| = 1.632714e-13\n22 Linear |R| = 1.290776e-13\n23 Linear |R| = 9.948311e-14\n24 Linear |R| = 7.628235e-14\n25 Linear |R| = 5.842547e-14\n26 Linear |R| = 4.751091e-14\n27 Linear |R| = 3.907655e-14\nLinear solve converged due to CONVERGED_RTOL iterations 27\n3 Nonlinear |R| = 7.619928e-13\n|residual|_2 of individual variables:\nw:    4.22469e-15\nc:    4.47435e-14\neta1: 1.57013e-16\neta2: 8.84063e-20\neta3: 2.382e-15\nc1:   5.3707e-13\nc2:   5.37337e-13\nc3:   3.78424e-14\nNonlinear solve converged due to CONVERGED_FNORM_ABS iterations 3\nSolve Converged!",
                          "url": "https://github.com/idaholab/moose/discussions/16483#discussioncomment-207647",
                          "updatedAt": "2022-08-26T14:25:33Z",
                          "publishedAt": "2020-12-15T07:42:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aeslaughter"
                          },
                          "bodyText": "Could the problem have reached a steady state?",
                          "url": "https://github.com/idaholab/moose/discussions/16483#discussioncomment-210194",
                          "updatedAt": "2022-08-26T14:26:40Z",
                          "publishedAt": "2020-12-15T15:49:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "fdkong"
                          },
                          "bodyText": "What are the initial residuals  for the first several steps?\nYou could  use \"steady_state_detection=true\" to Executioner block, if the steady state is reached, no nonlinear solver will be involved",
                          "url": "https://github.com/idaholab/moose/discussions/16483#discussioncomment-210843",
                          "updatedAt": "2022-08-26T14:26:40Z",
                          "publishedAt": "2020-12-15T18:47:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "LiuPengPeter"
                          },
                          "bodyText": "The initial residuals for the first several steps are:\nSteady-State Relative Differential Norm:\n0.000996499\n1.3265e-05\n1.33776e-06\n1.02387e-06\n6.08638e-07\n5.03052e-07",
                          "url": "https://github.com/idaholab/moose/discussions/16483#discussioncomment-212067",
                          "updatedAt": "2022-09-28T08:35:50Z",
                          "publishedAt": "2020-12-16T00:27:38Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "LiuPengPeter"
                  },
                  "bodyText": "Do I need normalization to improve the converge?",
                  "url": "https://github.com/idaholab/moose/discussions/16483#discussioncomment-207715",
                  "updatedAt": "2022-08-26T14:26:40Z",
                  "publishedAt": "2020-12-15T08:17:45Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You could use scaling. Either manually scale the variables with a scaling = xx in the variable blocks or turn on automatic_scaling = true in the Executioner block",
                          "url": "https://github.com/idaholab/moose/discussions/16483#discussioncomment-494379",
                          "updatedAt": "2022-08-26T14:26:40Z",
                          "publishedAt": "2021-03-17T15:51:46Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Installing PETSC with MPICH 3.3 and GCC9",
          "author": {
            "login": "jinca"
          },
          "bodyText": "Hello, these are the modules I am using:\n\nslurm                 3) turbovnc/2.0.1        5) singularity/current   7) cmake/latest          9) gcc/9\ndot                   4) vgl/2.5.1/64          6) rhel7/global          8) python/3.8\n\nThen I got this error:\n[ir-inca1@login-e-10 moose]$ cd petsc/\n[ir-inca1@login-e-10 petsc]$ make PETSC_DIR=/home/ir-inca1/projects/moose/scripts/../petsc PETSC_ARCH=arch-moose check\nRunning check examples to verify correct installation\nUsing PETSC_DIR=/home/ir-inca1/projects/moose/scripts/../petsc and PETSC_ARCH=arch-moose\nPossible error running C/C++ src/snes/tutorials/ex19 with 1 MPI process\nSee http://www.mcs.anl.gov/petsc/documentation/faq.html\nsrun: error: Unable to allocate resources: Invalid account or account/partition combination specified\nPossible error running C/C++ src/snes/tutorials/ex19 with 2 MPI processes\nSee http://www.mcs.anl.gov/petsc/documentation/faq.html\nsrun: error: Unable to allocate resources: Invalid account or account/partition combination specified\n1,5c1\n< lid velocity = 0.0016, prandtl # = 1., grashof # = 1.\n<   0 SNES Function norm 0.0406612\n<   1 SNES Function norm 4.12227e-06\n<   2 SNES Function norm 6.098e-11\n< Number of SNES iterations = 2\n\nsrun: error: Unable to allocate resources: Invalid account or account/partition combination specified\n/home/ir-inca1/projects/moose/petsc/src/snes/tutorials\nPossible problem with ex19 running with hypre, diffs above\n=========================================\n1,9c1\n< lid velocity = 0.0625, prandtl # = 1., grashof # = 1.\n<   0 SNES Function norm 0.239155\n<     0 KSP Residual norm 0.235858\n<     1 KSP Residual norm < 1.e-11\n<   1 SNES Function norm 6.81968e-05\n<     0 KSP Residual norm 2.30906e-05\n<     1 KSP Residual norm < 1.e-11\n<   2 SNES Function norm < 1.e-11\n< Number of SNES iterations = 2\n\n\n\nsrun: error: Unable to allocate resources: Invalid account or account/partition combination specified\n/home/ir-inca1/projects/moose/petsc/src/snes/tutorials\nPossible problem with ex19 running with mumps, diffs above\n=========================================\n1,2c1\n< lid velocity = 0.0025, prandtl # = 1., grashof # = 1.\n< Number of SNES iterations = 2\n\n\n\nsrun: error: Unable to allocate resources: Invalid account or account/partition combination specified\n/home/ir-inca1/projects/moose/petsc/src/snes/tutorials\nPossible problem with ex19 running with superlu_dist, diffs above\n=========================================\nCompleted test examples",
          "url": "https://github.com/idaholab/moose/discussions/16542",
          "updatedAt": "2022-11-26T07:49:49Z",
          "publishedAt": "2020-12-18T18:15:45Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "See #16546, issues with srun",
                  "url": "https://github.com/idaholab/moose/discussions/16542#discussioncomment-494357",
                  "updatedAt": "2023-02-14T04:10:26Z",
                  "publishedAt": "2021-03-17T15:48:58Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to define an integral based function as the material properties",
          "author": {
            "login": "sSajjad90"
          },
          "bodyText": "Hi all,\nI will implement a code to calculate microstructure parameters associated with the precipitation and solute growth and then use the computed parameters to evaluate mechanical properties. One of those parameters (a1) is calculated in the attached equation for the given C* at each time step (t). Assume the other parameters ( C, C*beta, D,e12, and e13) are constant.\nI was wondering there is any material class as same as the \"DerivativeParsedMaterial\" function to implement an integral base function (like this) to calculate parameters in the material block? Or I have to define user objects to compute this function? If so, is there any suggestion or example?\nThanks in advanced",
          "url": "https://github.com/idaholab/moose/discussions/16852",
          "updatedAt": "2022-08-22T15:53:12Z",
          "publishedAt": "2021-02-02T15:44:48Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nAre you looking to parse this function from the input file? I dont know if FParser can parse that. @roystgnr will know more.\nI would recommend computing it in your own material class, and just supply the parameters / variables in the input.\nDepending on what a1 is, you may also be able to define this as a new Function and call it from a FunctionMaterial.\nBut this is only worth the effort if you are using this function in other places.\nBest,\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/16852#discussioncomment-335151",
                  "updatedAt": "2022-08-22T15:53:18Z",
                  "publishedAt": "2021-02-03T15:33:47Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "roystgnr"
                          },
                          "bodyText": "It's possible @dschwen has added something (IIRC he was responsible for the differentiation capabilities in our FParser fork) for integrals, but I don't recall seeing anything of the sort.",
                          "url": "https://github.com/idaholab/moose/discussions/16852#discussioncomment-335208",
                          "updatedAt": "2022-08-22T15:53:23Z",
                          "publishedAt": "2021-02-03T15:54:58Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "sSajjad90"
                  },
                  "bodyText": "To explain a bit more...\nIn fact, C* and a1 are unknown material properties that changed over time and are the input parameters for the primary analysis. I will solve C* in a separate function; then, it will be used to compute a1 in the attached equation for each time step and then update it in the next step. My difficulty is to find a relevant function to define this equation (includes an integral).\nI do not know any predefined class function to solve integrals (like \"DerivativeParsedMaterial.\" using for the differentiation of the function expression) to calculate this equation.\nmany thanks,\nSajjad",
                  "url": "https://github.com/idaholab/moose/discussions/16852#discussioncomment-335463",
                  "updatedAt": "2022-08-22T15:53:22Z",
                  "publishedAt": "2021-02-03T17:19:33Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nDid you solve this?\nI think you may have to add the integration yourself. There are plenty of numerical integration techniques that will compute this integral to your desired accuracy.\nWe would welcome the contribution as a general utility to integrate functions. See framework/src/utils for examples of these utility functions.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/16852#discussioncomment-494350",
                  "updatedAt": "2022-08-22T15:53:34Z",
                  "publishedAt": "2021-03-17T15:47:18Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "scalar kernel for average of coupled nonlinear variable value",
          "author": {
            "login": "yuegu2013"
          },
          "bodyText": "Hello,\nIs there an existing Scalar kernel that assigns the average (element or nodal) of a coupled nonlinear variable to it?\nThis can be achieved by adding a postprocessor and then assign the postprocessor value to the scalar; however, this misses the off-diagonal jacobian term.\nThis seems to be a common need. I looked through the MOOSE source code, but did not find one. Can you please help point me to the right class, if there is one?\nThanks,\nGuojun",
          "url": "https://github.com/idaholab/moose/discussions/17098",
          "updatedAt": "2022-08-01T06:50:36Z",
          "publishedAt": "2021-02-22T23:31:58Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hi\nI dont think so but we would welcome a PR.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17098#discussioncomment-494282",
                  "updatedAt": "2022-08-01T06:50:38Z",
                  "publishedAt": "2021-03-17T15:29:49Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Executable not running - no error given - RedHat 6.10",
          "author": {
            "login": "ngrilli"
          },
          "bodyText": "Dear MOOSE Users,\nAfter a maintainance break of the NSCC cluster (Singapore) I am having the following problem:\nIt is a RedHat 6.10\nI install MOOSE using the manual procedure, so gcc 9.2.0 and mpich 3.3 compiled successfully,\nthen all the MOOSE installation goes well and MOOSE compiles and links properly.\nWhen I run the executable on an input file:\n./moose_test-opt -i input_file.i\nThe system just gets stuck and nothing happens.\nThe executable never starts and never finishes.\nBecause of this, running ./run_tests leads to timeout errors in all the tests.\nI am repeating the same installation procedure that I was doing two weeks back and MOOSE was working well before.\nAlso, ldd on the executable gives the right linking.\nThe problem is both on the front node and on the computational nodes (PBS system)\nOther executable (for instance: mpiexec -n 2 echo \"hello\") works fine on the terminal.\nAny idea where to start investigating this issue?\nSince I do not get any error message, it's difficult to decide what to try next.\nBest Regards,\nNicol\u00f2 Grilli\nNational University of Singapore",
          "url": "https://github.com/idaholab/moose/discussions/16579",
          "updatedAt": "2022-10-21T23:56:49Z",
          "publishedAt": "2020-12-23T07:43:24Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "aeslaughter"
                  },
                  "bodyText": "Our primary technician is out until after the new year, so it might take a bit to get the help you need. Did you perform a clean before re-compiling the new version: \"make clobberall\" or better yet \"git clean -fxd\"?",
                  "url": "https://github.com/idaholab/moose/discussions/16579#discussioncomment-237526",
                  "updatedAt": "2022-10-21T23:56:35Z",
                  "publishedAt": "2020-12-23T15:37:05Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ngrilli"
                          },
                          "bodyText": "Dear @aeslaughter\nThank you very much for your suggestions.\nI tried but unfortunately my executable is still stuck and not starting.\nThe only other thing I tried is to compile in debug mode,\nthen I followed the gdb instructions on your website,\nbut also executing with gdb does not give useful information and I paste what I get below.\nIs there any specific breakpoint I should set to understand what is going on?\nI have tried compiling simple hello worlds programs with the same g++ and I can run them.\nHopefully our IT will be able to fix the problem as it appeared after a maintainance break.\n[e0546229@nus04 projects]$ gdb --args ./moose/test/moose_test-dbg -i 3d_bar.i\nGNU gdb (GDB) Red Hat Enterprise Linux (7.2-92.el6)\nCopyright (C) 2010 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later http://gnu.org/licenses/gpl.html\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-redhat-linux-gnu\".\nFor bug reporting instructions, please see:\nhttp://www.gnu.org/software/gdb/bugs/...\nReading symbols from /home/users/nus/e0546229/projects/moose/test/moose_test-dbg...done.\n(gdb) b MPI_Abort\nFunction \"MPI_Abort\" not defined.\nMake breakpoint pending on future shared library load? (y or [n]) y\nBreakpoint 1 (MPI_Abort) pending.\n(gdb) r\nStarting program: /home/users/nus/e0546229/projects/moose/test/moose_test-dbg -i 3d_bar.i\n[Thread debugging using libthread_db enabled]",
                          "url": "https://github.com/idaholab/moose/discussions/16579#discussioncomment-240860",
                          "updatedAt": "2022-10-21T23:56:35Z",
                          "publishedAt": "2020-12-25T03:39:00Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "aeslaughter"
                  },
                  "bodyText": "@milljm Can you help with this?",
                  "url": "https://github.com/idaholab/moose/discussions/16579#discussioncomment-260293",
                  "updatedAt": "2022-10-21T23:56:39Z",
                  "publishedAt": "2021-01-04T15:38:26Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Is this still an issue?",
                  "url": "https://github.com/idaholab/moose/discussions/16579#discussioncomment-494214",
                  "updatedAt": "2022-10-21T23:56:39Z",
                  "publishedAt": "2021-03-17T15:17:04Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}