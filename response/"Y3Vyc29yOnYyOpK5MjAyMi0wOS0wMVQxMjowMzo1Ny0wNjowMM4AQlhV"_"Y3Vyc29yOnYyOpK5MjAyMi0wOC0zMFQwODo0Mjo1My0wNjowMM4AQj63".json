{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMi0wOC0zMFQwODo0Mjo1My0wNjowMM4AQj63"
    },
    "edges": [
      {
        "node": {
          "title": "the diffrrence of elemental solution and nadal solution",
          "author": {
            "login": "xiaojbing"
          },
          "bodyText": "Hello,\nIn moose, the elemental solution is the variable value at quadrature point. and then nadal solution is computed by values at quadrature points.\nI want to know what is is the specific process that get nodal solution from elemental solution in moose.\nI heard in ansys, every element will have nodal solution, which is computed from variable value at quadrature point in this element. When a node is shared by several elements, the final nodal solution is the average of nodal solution of respective element.",
          "url": "https://github.com/idaholab/moose/discussions/21985",
          "updatedAt": "2022-09-02T20:12:47Z",
          "publishedAt": "2022-09-01T11:51:50Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "YaqiWang"
                  },
                  "bodyText": "I am not aware of a nodal auxiliary kernel that can take an elemental variable, and perform the average (possibly should be weighted by the angle/solid angle of the element contribution on the node). MOOSE output system can output elemental variables into nodal variables for visualization. I did not check the code but assume that is using libMesh functionalities and is close to what you want.",
                  "url": "https://github.com/idaholab/moose/discussions/21985#discussioncomment-3527813",
                  "updatedAt": "2022-09-01T14:43:49Z",
                  "publishedAt": "2022-09-01T14:43:49Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "For an elemental variable:\n\nIf the node is a quadrature point, and if the FE family is continuous, then the nodal value is the quadrature point value of the variable\nif the node is a Qp and the FE family is discontinuous, the nodal value is ill-defined, you'd need to specify which element to use\nif the node is not a Qp, and the FE family is continuous, the nodal value may be computed by evaluating the shape functions there\nif the node is not a Qp and the FE family is discontinuous, the nodal value is ill-defined, you d need to specify from which element to come from when evaluating\n\nYou can indeed do projections from one type to another using either the Transfers system, and in some cases the SelfAux",
                  "url": "https://github.com/idaholab/moose/discussions/21985#discussioncomment-3528165",
                  "updatedAt": "2022-09-01T15:21:06Z",
                  "publishedAt": "2022-09-01T15:21:05Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Thermal hydraulics module problem",
          "author": {
            "login": "YuhangNIU"
          },
          "bodyText": "Hi all,\nI want to know how the pipe component works in the thermal-hydraulic module. So I try to restore an input file (clg.densityvelocity_3eqn.i\n\u201cclg.densityvelocity_3eqn.txt\u201d) to a normal form \u201cpipe.txt\u201d (without encapsulation). But something goes wrong. Could anyone kindly help me to understand it?\n\nBest regards,\nYuhang Niu",
          "url": "https://github.com/idaholab/moose/discussions/21641",
          "updatedAt": "2022-09-02T20:12:42Z",
          "publishedAt": "2022-07-20T08:25:06Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@licharlot seg-fault in thm, might be worth a look",
                  "url": "https://github.com/idaholab/moose/discussions/21641#discussioncomment-3390126",
                  "updatedAt": "2022-08-13T16:16:37Z",
                  "publishedAt": "2022-08-13T16:16:35Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "licharlot"
                          },
                          "bodyText": "Hi Yuhang,\nCould you please give us more details about what you are trying to understand/do? THM is designed to be used with the Components syntax. Thanks.",
                          "url": "https://github.com/idaholab/moose/discussions/21641#discussioncomment-3424134",
                          "updatedAt": "2022-08-18T15:36:06Z",
                          "publishedAt": "2022-08-18T15:36:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "joshuahansel"
                          },
                          "bodyText": "Yuhang, just to clarify, we're trying to see if there's an easier solution to what you're trying to do, and we still are interested in knowing. However, I did look into your input file and found the segfault is occurring in ADRDG3EqnMaterial. You directly provide values for the A_linear and A_elem parameters, but the parameters are actually variable names (MOOSE allows values to be used in place of variable names). The segfault occurs because we make a call getVar(\"A_elem\", 0), for example. To fix your input file, add\n[AuxVariables]\n  [A_elem]\n    initial_condition = 1.907720E-04\n  []\n  [A]\n    initial_condition = 1.907720E-04\n  []\n[]\n\nand then in your GlobalParams:\n  A_elem = A_elem\n  A_linear = A",
                          "url": "https://github.com/idaholab/moose/discussions/21641#discussioncomment-3424264",
                          "updatedAt": "2022-08-18T15:57:25Z",
                          "publishedAt": "2022-08-18T15:54:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "YuhangNIU"
                          },
                          "bodyText": "Thank you for your reply. Now, it works.",
                          "url": "https://github.com/idaholab/moose/discussions/21641#discussioncomment-3523794",
                          "updatedAt": "2022-09-01T06:22:05Z",
                          "publishedAt": "2022-09-01T06:22:05Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "could not import matplotlib",
          "author": {
            "login": "hhy2022"
          },
          "bodyText": "Hi, I am a new user of MOOSE. I was trying to use peacock to run the input because I would like to see the visualized result. My command was the one provide in the slides of 2022. '~/projects/moose/python/peacock/peacock -i step1.i'\nHowever, when I use this command, I got a message saying that--\n'Error starting peacock: Could not import matplotlib\n'You need to use the miniconda module. Run:\n'module load miniconda'\nI tried to run 'module load miniconda' and it said command not found.\nI guess there might be something wrong with my peacock but I don't know how to fix it.\nBesides, I use Ubuntu.\nThank you very much for any help.",
          "url": "https://github.com/idaholab/moose/discussions/20459",
          "updatedAt": "2022-09-01T05:18:10Z",
          "publishedAt": "2022-03-02T05:59:23Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou are using Ubuntu on your local machine?\nDid you activate the conda (mamba) environement?\nCan you install matplotlib with mamba install matplotlib ?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20459#discussioncomment-2278201",
                  "updatedAt": "2022-07-20T18:02:56Z",
                  "publishedAt": "2022-03-02T06:03:12Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "hhy2022"
                          },
                          "bodyText": "Yes. I am using Ubuntu on local machine. I had activated conda.\nI install matplotlib successfully, and I can call peakcock successfully.\nThank you so much for your help.",
                          "url": "https://github.com/idaholab/moose/discussions/20459#discussioncomment-2282755",
                          "updatedAt": "2022-07-20T18:02:57Z",
                          "publishedAt": "2022-03-02T19:20:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "captaink-3"
                          },
                          "bodyText": "hello, i have also got a same problem saying that 'Error starting peacock: Could not import vtk\n'You need to use the miniconda vtk. Run:'module load miniconda'. I have also tried mabmba install vtk. but it does not work.",
                          "url": "https://github.com/idaholab/moose/discussions/20459#discussioncomment-3523479",
                          "updatedAt": "2022-09-01T05:12:47Z",
                          "publishedAt": "2022-09-01T05:12:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I think there s a libmesh-vtk package you can download. @milljm suggested creating another environment just for peacock and listed the packages. It s in another post if you care to search (getting late for me)",
                          "url": "https://github.com/idaholab/moose/discussions/20459#discussioncomment-3523498",
                          "updatedAt": "2022-09-01T05:18:10Z",
                          "publishedAt": "2022-09-01T05:18:10Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Confusing results with counter flow heat exchanger (Thermal Hydraulics)",
          "author": {
            "login": "TheBEllis"
          },
          "bodyText": "Hi MOOSE team, I am currently trying to compare the results from the thermal hydraulics module to the NTU method (aka the effectiveness method) to see if there is any similarity in the results. To do this I am modelling a counter current heat exchanger. The cross section of said heat exchanger is shown below. The inlet temperature of the fluid in the outer channel is 500 K and the inlet of the fluid in the inner channel is 300 K. The wall in between is modeled using a basic steel model. The graph below plots the outlet temperature of the inner channel against time. This outlet temperature is obtained using the [core_T_out] postprocessor.  I was expecting this inner channel to reach some kind of steady state temperature that was higher than 300K due to the heating from the outer channel. However, as the graphs show, a peak temperature is reached early in the simulation and then the temperature tends towards the 300 K inlet temperature of the inner channel. I have added my input file at the bottom for anyone to take a look if they wish. This could be a limitation of my fluids understanding, and I was just wondering if anyone had some clarification as to why this behavior is happening. Thanks in advance!\n\n\nT_in = 300         # K\nm_dot_in = 10    #kg/s\npress = 1e5         # Pa\n\n# core parameters\nwall_thickness = ${units 5. cm -> m}\nfch_length = 10.    # m\nfch_n_elems = 100\nfch_dia = 0.5\nfch_radius_wall = ${fparse fch_dia/2 + wall_thickness}\n\n#counter flow params\nfch_outer_dia = 1.0\n\n\n\n[GlobalParams]\n  initial_p = ${press}\n  initial_vel = 0\n\n  rdg_slope_reconstruction = full\n  closures = simple_closures\n[]\n\n[HeatStructureMaterials]\n  [steel]\n    type = SolidMaterialProperties\n    rho = 8050\n    k = 45\n    cp = 466\n  []\n[]\n\n[Modules/FluidProperties]\n  [fluid1]\n    type = StiffenedGasFluidProperties\n    gamma = 2.35\n    cv = 1500.0\n    q = -1.167e6\n    p_inf = 1.0e9\n    q_prime = 0\n  []\n\n  [fluid2]\n    type = StiffenedGasFluidProperties\n    gamma = 2.35\n    cv = 1000.0\n    q = -1.167e6\n    p_inf = 1.0e9\n    q_prime = 0\n  []\n[]\n\n[Closures]\n  [simple_closures]\n    type = Closures1PhaseSimple\n  []\n[]\n\n[Components]\n\n  [channels]\n    #Flow channel setup\n    [fch]\n      type = FlowChannel1Phase\n      position = '0 0 0'\n      orientation = '0 0 1'\n      length = ${fch_length}\n      n_elems = ${fch_n_elems}\n      A = ${fparse pi * fch_dia * fch_dia / 4.}\n      D_h = ${fparse fch_dia}\n      fp = fluid1\n      f = 1.6\n      initial_T = 300\n    []\n\n    [fch_outer]\n      type = FlowChannel1Phase\n      position = '${fparse wall_thickness} 0 0'\n      orientation = '0 0 1'\n      length = ${fch_length}\n      n_elems = ${fch_n_elems}\n      A = ${fparse pi * ((fch_outer_dia * fch_outer_dia/4) - fch_radius_wall * fch_radius_wall)}\n      D_h = ${fparse fch_outer_dia - (2*fch_radius_wall)}\n      f = 1.6\n      fp = fluid2\n      initial_T = 500\n    []\n\n\n  []\n\n  [inlet_fch]\n    type = InletMassFlowRateTemperature1Phase\n    input = 'channels/fch:in'\n    m_dot = ${m_dot_in}\n    T = ${T_in}\n  []\n\n  [outlet_fch]\n    type = Outlet1Phase\n    input = 'channels/fch:out'\n    p = ${press}\n  []\n\n  [inlet_fch_outer]\n    type = InletMassFlowRateTemperature1Phase\n    input = 'channels/fch_outer:out'\n    m_dot = ${m_dot_in}\n    T = 500\n  []\n\n  [outlet_fch_outer]\n    type = Outlet1Phase\n    input = 'channels/fch_outer:in'\n    p = ${press}\n  []\n\n  #Heat structure setup\n\n  [hs]\n    type = HeatStructureCylindrical\n    position = '0 0 0'\n    orientation = '0 0 1'\n    inner_radius = ${fparse fch_dia / 2.}\n    length = ${fch_length}\n    n_elems = ${fch_n_elems}\n    materials = 'steel'\n    initial_T = 300\n    names = 'block'\n    widths = ${fparse wall_thickness}\n    n_part_elems = 20\n  []\n\n  [HeatStructureHeatTransferOuter]\n    type = HeatTransferFromHeatStructure1Phase\n    flow_channel = 'channels/fch_outer'\n    hs = hs\n    hs_side = outer\n    Hw = 2000\n    P_hf = ${fparse 2 * fch_radius_wall * pi}\n  []\n\n  [HeatStructureHeatTransferInner]\n    type = HeatTransferFromHeatStructure1Phase\n    flow_channel = 'channels/fch'\n    hs = hs\n    hs_side = inner\n    Hw = 2000\n    P_hf = ${fparse fch_dia * pi}\n  []\n[]\n\n[Postprocessors]\n  [core_T_in]\n    type = SideAverageValue\n    boundary = inlet_fch\n    variable = T\n  []\n\n  [core_T_out]\n    type = SideAverageValue\n    boundary = outlet_fch\n    variable = T\n  []\n\n  [outer_T_in]\n    type = SideAverageValue\n    boundary = inlet_fch_outer\n    variable = T\n  []\n[]\n\n[Preconditioning]\n  [pc]\n    type = SMP\n    full = true\n  []\n[]\n\n[Executioner]\n  type = Transient\n  start_time = 0\n  end_time = 10000\n  dt = 50\n  steady_state_detection = false\n  line_search = basic\n  solve_type = NEWTON\n  abort_on_solve_fail = true\n  nl_rel_tol = 1e-6\n  nl_abs_tol = 1e-1\n  nl_max_its = 100\n\n  l_tol = 1e-7\n  l_max_its = 1000\n[]\n\n[Outputs]\n  exodus = true\n  csv = true\n[]",
          "url": "https://github.com/idaholab/moose/discussions/21911",
          "updatedAt": "2022-08-31T10:08:14Z",
          "publishedAt": "2022-08-22T13:02:27Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@joshuahansel",
                  "url": "https://github.com/idaholab/moose/discussions/21911#discussioncomment-3448213",
                  "updatedAt": "2022-08-22T14:30:14Z",
                  "publishedAt": "2022-08-22T14:30:13Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "joshuahansel"
                  },
                  "bodyText": "Your inlet_fch_outer has flow going in the wrong direction. It needs to be\n  [inlet_fch_outer]\n    type = InletMassFlowRateTemperature1Phase\n    input = 'channels/fch_outer:out'\n    m_dot = -${m_dot_in}\n    T = 500\n  []\n\nThe convention for the velocity/mass-flow-rate is that positive means in the direction of orientation.",
                  "url": "https://github.com/idaholab/moose/discussions/21911#discussioncomment-3451024",
                  "updatedAt": "2022-08-22T20:51:26Z",
                  "publishedAt": "2022-08-22T20:51:25Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "TheBEllis"
                          },
                          "bodyText": "Thank you @GiudGiud  @joshuahansel! My results are much much more sane now",
                          "url": "https://github.com/idaholab/moose/discussions/21911#discussioncomment-3516495",
                          "updatedAt": "2022-08-31T10:08:15Z",
                          "publishedAt": "2022-08-31T10:08:14Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Import external dataset as CSV file",
          "author": {
            "login": "rudilien"
          },
          "bodyText": "I would like to import temperature data into a MOOSE model. I attempted to test this by importing a CSV file with made-up temperature data corresponding to X and Y coordinates that should result in a small region (rectangular in shape) of elevated temperature at the center of the geometry. Instead, a rhombus-like shape of elevated temperature is displayed, as well as elevated temperatures on the left and right boundaries. Can I get help with how to fix this issue? I am relatively new to using MOOSE so detailed answers would be appreciated in responses! I've attached my input file (attached as .txt), CSV file to be imported (column 1: X coord; column 2: Y coord; column 3: Temp (K)), and what is currently displaying as the imported temperature data.\nI would also like to know how to save either node ID or coordinates and MOOSE results (such as displacement and stress) as a CSV file.\nFiles:\ntensmech_DataImportTest.txt\nExData_nodes.csv",
          "url": "https://github.com/idaholab/moose/discussions/21941",
          "updatedAt": "2022-08-30T22:19:19Z",
          "publishedAt": "2022-08-25T22:42:58Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou are indeed seeing this because of numbering issues. The data numbering does not match your mesh ordering. Is this mesh from one of our mesh generators? Or from a file you imported?\nhow are you loading the CSV data? Which object and which options?\nyou should look at the vectorpostprocessor system or an auxkernel (elementIDaux andnodeidaux) to save/output the element/node numbering\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/21941#discussioncomment-3491249",
                  "updatedAt": "2022-08-28T00:01:01Z",
                  "publishedAt": "2022-08-28T00:01:00Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "rudilien"
                          },
                          "bodyText": "The mesh is made using the \"GeneratedMeshGenerator\", not an imported file. In future work, I will likely use an imported mesh.\nI am loading the CSV data using \"PropertyReadFile\" with \"read_type = 'node'\" as a User Object and then the \"PiecewiseConstantFromCSV\" Function, also with \"read_type = 'node'\". To apply the data as an initial condition, I also use \"FunctionIC\" in the ICs block, which is linked to the function defined within the Functions block. I am attempting to import and apply the CSV data to nodes by specifying the XY coordinates of the nodes in the CSV file. It was unclear from the Moose website whether the CSV data should include node numbers or coordinates of the nodes when using \"read_type = node\", so maybe I need to use a different read_type setting to import data corresponding to coordinates? The input file that I made is attached in my original post as \"tensmech_DataImportTest.txt\" - you can look at this to see how I loaded the CSV data if my answer here is unclear.\nI tried to follow data import methods that were described in other similar discussion posts in the Moose GitHub. I would like to know how to import data using XYZ (and eventually time) coordinates rather than element/node numbers so that I can import external data that may not have the same node numbering in the future.",
                          "url": "https://github.com/idaholab/moose/discussions/21941#discussioncomment-3503053",
                          "updatedAt": "2022-08-29T19:06:03Z",
                          "publishedAt": "2022-08-29T19:06:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "with the read_type = node the data should be ordered by node ID not by node coordinate.\nto use coordinates you may use the read_type = grain or VORONOI. This could be a little slower as it triggers searching for the nearest point to find the appropriate data",
                          "url": "https://github.com/idaholab/moose/discussions/21941#discussioncomment-3503598",
                          "updatedAt": "2022-08-29T20:36:05Z",
                          "publishedAt": "2022-08-29T20:36:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rudilien"
                          },
                          "bodyText": "Thanks for the clarification on node vs. voronoi read_type. I have switched my User Object and Function blocks to have \"read_type = voronoi\" but now receive this warning when running the input:\nThe following warning occurred in the object \"reader_nearest\", of type \"PropertyReadFile\".\nData size in /Users/rudilien/projects/moose/modules/tensor_mechanics/tutorials/introduction/MyScripts/ExData_nodes.csv is larger than 3 objects, some data will not be used.\nThe CSV file that I am importing has three columns: the first two are the X and Y coordinates, the third is the temperature data (see CSV attachment in my original post). I also recreated the CSV file in case something had been saved incorrectly. Is this related to the \"nvoronoi\" parameter? Could you provide more clarification on what the nvoronoi parameter should be set to as well?\nIn addition to the warning, the temperature import does not include the elevated temperature in the center of the mesh - screenshot attached:\n\nThanks for your assistance!",
                          "url": "https://github.com/idaholab/moose/discussions/21941#discussioncomment-3511768",
                          "updatedAt": "2022-08-30T18:58:42Z",
                          "publishedAt": "2022-08-30T18:58:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "nvoronoi should be set to the number of nodes if the number of points you want to use is the same as the number of nodes\nit's the number of nearest-neighbor regions",
                          "url": "https://github.com/idaholab/moose/discussions/21941#discussioncomment-3512575",
                          "updatedAt": "2022-08-30T21:15:40Z",
                          "publishedAt": "2022-08-30T21:15:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rudilien"
                          },
                          "bodyText": "Setting nvoronoi equal to the number of nodes fixed my issue. Thanks so much!",
                          "url": "https://github.com/idaholab/moose/discussions/21941#discussioncomment-3512893",
                          "updatedAt": "2022-08-30T22:19:20Z",
                          "publishedAt": "2022-08-30T22:19:19Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Using the Plastic Deformation Gradient (Fp) Crystal Plasticity",
          "author": {
            "login": "Vandenbg"
          },
          "bodyText": "Hello, I am attempting to use the Plastic Deformation Gradient from the governing equations of Crystal Plasticity Stress to calculate the dislocation density in the material.\nI am unsure if this is possible, so far I have found that it may be possible to output the deformation gradient using output_properties. This would require knowing the name which the deformation gradient is tied to within the file, is there a way to find out the possible material properties that can be output using that line? From here I would want to use the gradient as a variable so I could apply a function to it.\nOther than that, I have thought about using post processors or auxvariables, however, I am unsure of how to connect the deformation gradient to these.\nAny advice/ direction would be of great assistance.",
          "url": "https://github.com/idaholab/moose/discussions/21950",
          "updatedAt": "2022-08-30T20:03:27Z",
          "publishedAt": "2022-08-26T23:13:01Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nthe deformation is stored in the disp_xyz variables, the gradient should be the strain tensor material property, named as strain_xy for the relevant component. You can trigger material property output to get it or you can add the relevant Material...Aux to output it\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/21950#discussioncomment-3491224",
                  "updatedAt": "2022-08-27T23:42:27Z",
                  "publishedAt": "2022-08-27T23:42:27Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Vandenbg"
                          },
                          "bodyText": "Thank you for the reply. This is mostly what I am looking for, however, I need the components of the strain tensor, plastic and elastic. In the aforementioned syntax page, the total, elastic, and plastic tensors are all used for different calculations. Are these stored in two different variables?\nAs for variable naming conventions you explained, is there a page with details I can reference?",
                          "url": "https://github.com/idaholab/moose/discussions/21950#discussioncomment-3503104",
                          "updatedAt": "2022-08-29T19:15:33Z",
                          "publishedAt": "2022-08-29T19:15:33Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "sapitts"
                  },
                  "bodyText": "Hi @Vandenbg ,\nIn the crystal plasticity classes, we define the plastic deformation gradient and the total deformation gradient with respect to the reference configuration. @GiudGiud's answer refers to the tensor mechanics formulation derived with respect to the current configuration (in which the strain is Almansi strain calculated from the left Cauchy-Green deformation tensor).\nSince you mention wanting to calculate dislocation density values, I suspect you will want the right Cauchy-Green plastic deformation tensor. In the ComputeMultipleCrystalPlasticityStress class, the plastic deformation gradient is given the material property name _plastic_deformation_gradient, see \n  \n    \n      moose/modules/tensor_mechanics/src/materials/crystal_plasticity/ComputeMultipleCrystalPlasticityStress.C\n    \n    \n         Line 82\n      in\n      712a86c\n    \n  \n  \n    \n\n        \n          \n           _plastic_deformation_gradient(declareProperty<RankTwoTensor>(\"plastic_deformation_gradient\")), \n        \n    \n  \n\n\nWhat type of dislocation density are you trying to calculate?",
                  "url": "https://github.com/idaholab/moose/discussions/21950#discussioncomment-3503186",
                  "updatedAt": "2022-08-29T19:28:12Z",
                  "publishedAt": "2022-08-29T19:26:19Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Vandenbg"
                          },
                          "bodyText": "Thank you for the clarifications. I am trying to calculate the number of dislocations at each point in my mesh as it is deformed via nano-indentation. To do so, I am following this reference which details a method to calculate the dislocation density tensor. In this reference, page 3, section 2, equation 3 is the route I am pursuing. If another method for calculating the number of dislocations and their position is available within MOOSE, I am open to suggestions.\nI appreciate your insight.",
                          "url": "https://github.com/idaholab/moose/discussions/21950#discussioncomment-3503315",
                          "updatedAt": "2022-08-29T19:46:47Z",
                          "publishedAt": "2022-08-29T19:46:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "sapitts"
                          },
                          "bodyText": "Ah, the Nye's tensor calculation for the geometrically necessary dislocations. You'll probably want to calculate that quantity as a material property, although material properties are computed at individual quadrature points (the _qp you see in the crystal plasticity code). A Nye's tensor calculated directly within a crystal plasticity model will depend on the plastic deformation gradient at just that single qp and will introduce mesh-dependence. Is the mesh-dependence issue why you asked about output options?",
                          "url": "https://github.com/idaholab/moose/discussions/21950#discussioncomment-3504344",
                          "updatedAt": "2022-08-29T23:29:33Z",
                          "publishedAt": "2022-08-29T23:29:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Vandenbg"
                          },
                          "bodyText": "Unfortunately it is not, it just happened to be the first step I identified. While I'd like to do the calculation within MOOSE, It might not be possible and a separate script for data analysis may be needed. I planned to use a series of functions along side the deformation gradient to calculate the dislocation density at each point. I believe functions in MOOSE have the capabilities for the calculation. How do calculations work for material properties, can I still use functions? I am unsure how mesh dependance will play-out, I have not put thought into that issue.",
                          "url": "https://github.com/idaholab/moose/discussions/21950#discussioncomment-3511613",
                          "updatedAt": "2022-08-30T18:33:47Z",
                          "publishedAt": "2022-08-30T18:33:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ngrilli"
                          },
                          "bodyText": "@Vandenbg you may want to calculate the geometrically necessary dislocation density starting from Fp\nby using a minimization procedure as described here:\nhttps://www.sciencedirect.com/science/article/pii/S0749641918300068\nThis can be done in MOOSE or as postprocessing and I may have some python script to share for this.\nAnother perspective is to use a dislocation-based constitutive model in which the time evolution of the GND is calculated\nduring the simulation based on the gradients of the slip rate on the different slip systems, as done here:\nhttps://www.sciencedirect.com/science/article/pii/S0749641920304940\nsee equations (48) and (49).\nI have implemented this second option here:\nhttps://github.com/ngrilli/c_pfor_am/blob/main/test/tests/SlipGradients/polycrystal_initial_GND.i\nThe advantage is that it does not require a specific assumption\nabout the energy minimization to discriminate between multiple solutions (i.e. given Fp, the GND densities are not unique)\nand gives a unique solution for the GND density on each slip system.\nTrust this helps,\nNicol\u00f2",
                          "url": "https://github.com/idaholab/moose/discussions/21950#discussioncomment-3511743",
                          "updatedAt": "2022-08-30T18:54:41Z",
                          "publishedAt": "2022-08-30T18:54:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Vandenbg"
                          },
                          "bodyText": "Nicol\u00f2, Stephanie, I appreciate your insights on this issue. I'll pursue the second method given your advice.",
                          "url": "https://github.com/idaholab/moose/discussions/21950#discussioncomment-3512048",
                          "updatedAt": "2022-08-30T19:43:20Z",
                          "publishedAt": "2022-08-30T19:43:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "sapitts"
                          },
                          "bodyText": "Thanks for sharing the Demir paper @ngrilli!",
                          "url": "https://github.com/idaholab/moose/discussions/21950#discussioncomment-3512167",
                          "updatedAt": "2022-08-30T20:03:27Z",
                          "publishedAt": "2022-08-30T20:03:27Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Duplicate Material property into AuxVariable",
          "author": {
            "login": "hokonkim"
          },
          "bodyText": "Hello, I have a question about duplicating material property into AuxVariable.\nI tried MaterialRealAux. But this outputs element volume-averaged material properties.\nI just want to capture the pure value of material properties.\nThe reason why I duplicate material property into AuxVariable is \"Material property doesn't have the xyz coordinate, but AuxVariable have the xyz coordinate after duplication.\"\nI want to track the change in Material properties matching xyz coordinates.\nWhat will be the best solution for me?",
          "url": "https://github.com/idaholab/moose/discussions/21104",
          "updatedAt": "2022-08-30T19:00:42Z",
          "publishedAt": "2022-05-23T21:44:43Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nIf the auxvariable is a nodal variable you ll get a nodal value not a volume averaged one.\nWhat do you mean by 'pure' value?\nWhat do you mean by 'doesn't have the xyz coordinate' as well?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2807681",
                  "updatedAt": "2022-05-23T22:23:04Z",
                  "publishedAt": "2022-05-23T22:23:02Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "hokonkim"
                          },
                          "bodyText": "[Materials]\n  [./tpbActivity]\n    type  = ParsedMaterial\n    block = 'PT_TPB_TET4'\n    f_name = 'tpbActivity_S0'\n    function = 'if(time = 0,\n                        s0_tpb_init,\n                        if(((V_Em - VolCr) / V_Em)>=0, s0_tpb_init * ((V_Em - VolCr) / V_Em), 0))'\n    args = 'V_Em s0_tpb_init'\n    material_property_names = 'VolCr time'\n  [../]\n[]\n\n[AuxVariables]\n  [./Copy_tpbActivity_S0]\n    family = MONOMIAL\n    block = 'PT_TPB_TET4'\n  [../]\n[]\n\n[AuxKernels]\n  [./copy_tpbActivity]\n    type = MaterialRealAux\n    property = tpbActivity_S0\n    variable = Copy_tpbActivity_S0\n    block = 'PT_TPB_TET4'\n  [../]\n[]\n\nAbove is a part of my code.\nI used \"Pure\" for the value without any additional processes(e.g., volume-averaged).\nIf I export the Material properties(Cell data in Paraview) through Paraview, then it didn't have XYZ coordinates.\nBut variables (Point data in Paraview) have XYZ coordinates.",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2807743",
                          "updatedAt": "2022-05-23T22:38:57Z",
                          "publishedAt": "2022-05-23T22:38:57Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "how do you export the material properties?\nGuillaume",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2807749",
                          "updatedAt": "2022-05-23T22:40:54Z",
                          "publishedAt": "2022-05-23T22:40:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hokonkim"
                          },
                          "bodyText": "If I add command \"output = exodus\" in Material properties, then in the result file(*.e), the material property is stored as Cell data(in paraview).\nThen, I can export (save) the material property.",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2807770",
                          "updatedAt": "2022-05-23T22:50:12Z",
                          "publishedAt": "2022-05-23T22:48:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok so the the default output from the materials block does this.\nBut with a nodal aux variable and MaterialRealAux you can get the nodal values. then it ll be point data",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2807838",
                          "updatedAt": "2022-05-23T23:08:09Z",
                          "publishedAt": "2022-05-23T23:08:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hokonkim"
                          },
                          "bodyText": "How can I make a nodal aux variable from the current situation??",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2807870",
                          "updatedAt": "2022-05-23T23:19:29Z",
                          "publishedAt": "2022-05-23T23:19:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "[AuxVariables]\n  [some_name]\n  []\n[]\n\n[AuxKernels]\n  [convert]\n    type = MaterialRealAux\n    variable = some_name\n    property = 'name of the property'\n  []\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2807894",
                          "updatedAt": "2022-05-23T23:26:40Z",
                          "publishedAt": "2022-05-23T23:26:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hokonkim"
                          },
                          "bodyText": "As far as I remember, without specifying \u201cfamily = monomial\u201d in AuxVariables, I could not run the simulation properly.\nI will try the way as you suggested.",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2807944",
                          "updatedAt": "2022-05-23T23:48:25Z",
                          "publishedAt": "2022-05-23T23:48:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "we are talking about output here so you should be able to use the lagrange family",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2808030",
                          "updatedAt": "2022-05-24T00:11:03Z",
                          "publishedAt": "2022-05-24T00:11:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hokonkim"
                          },
                          "bodyText": "I got the error like below",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2808156",
                          "updatedAt": "2022-05-24T00:55:06Z",
                          "publishedAt": "2022-05-24T00:55:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "umm ok. This is because it would be undefinied at a subdomain boundary, like we would not know which expression to use to compute the material property if it was different on both sides of the node\nCan you use AuxVariables with CONSTANT order MONOMIAL family to save the X, Y and Z coordinates then use that as the cell data?\nYou'd just need a FunctionAux and ParsedFunction to do this",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2808648",
                          "updatedAt": "2022-05-24T03:14:32Z",
                          "publishedAt": "2022-05-24T03:14:32Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "ngrilli"
                  },
                  "bodyText": "Dear @hokonkim\nI think I do something similar here:\nhttps://github.com/ngrilli/c_pfor_am/blob/main/test/tests/SlipGradients/polycrystal_initial_GND.i\nI define first monomial auxvariables, e.g. slip_increment_1,\nI declare and assign a material property in the material object CrystalPlasticityDislocationUpdate,\nthen I use MaterialStdVectorAux to assign the material property to the AuxVariable.\nThis provide a linearly interpolated material property over the elements\nin the form of an AuxVariable.\nHope this helps,\nBest Regards,\nNicol\u00f2",
                  "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-2843875",
                  "updatedAt": "2022-05-29T14:55:45Z",
                  "publishedAt": "2022-05-29T14:54:59Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Vandenbg"
                          },
                          "bodyText": "Hello @ngrilli,\nI can't seem to find the syntax page for CrystalPlasticityDislocationUpdate, could you point it out to me?\nThank you,\nGavin",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-3504273",
                          "updatedAt": "2022-08-29T23:12:42Z",
                          "publishedAt": "2022-08-29T23:12:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "is it any of those?\nhttps://mooseframework.inl.gov/source/materials/crystal_plasticity/CrystalPlasticityKalidindiUpdate.html\nhttps://mooseframework.inl.gov/source/materials/crystal_plasticity/CrystalPlasticityTwinningKalidindiUpdate.html",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-3505586",
                          "updatedAt": "2022-08-30T04:49:47Z",
                          "publishedAt": "2022-08-30T04:49:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Vandenbg"
                          },
                          "bodyText": "It looks like the name may have changed at some point, that is the source of my confusion. Thank you!",
                          "url": "https://github.com/idaholab/moose/discussions/21104#discussioncomment-3511784",
                          "updatedAt": "2022-08-30T19:00:43Z",
                          "publishedAt": "2022-08-30T19:00:42Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "run_tests error when compiling apps together",
          "author": {
            "login": "aarograh"
          },
          "bodyText": "I'm trying to compile a couple of applicaitons together to perform some coupled calculations.  Everything compiles, but when I try to run tests, I get this error.  I'm not sure what's going on.  I don't get it with any of the standalone applications.\n(moose) ag6@node20$  ./run_tests -j36 --dbg\nTraceback (most recent call last):\n  File \"/home/ag6/zoo/mole/./run_tests\", line 12, in <module>\n    TestHarness.buildAndRun(sys.argv, 'mole', MOOSE_DIR)\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/TestHarness.py\", line 181, in buildAndRun\n    harness.findAndRunTests()\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/TestHarness.py\", line 418, in findAndRunTests\n    self.scheduler.schedule(testers)\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/schedulers/Scheduler.py\", line 217, in schedule\n    j_dag = jobs.createJobs(testers)\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/JobDAG.py\", line 56, in createJobs\n    return self._checkDAG()\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/JobDAG.py\", line 105, in _checkDAG\n    self._doLast()\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/JobDAG.py\", line 133, in _doLast\n    self._doSkippedDependencies()\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/JobDAG.py\", line 191, in _doSkippedDependencies\n    if not job.getRunnable() or job.isFail() or job.isSkip():\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/schedulers/Job.py\", line 153, in getRunnable\n    return self.__tester.getRunnable(self.options)\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/testers/Tester.py\", line 238, in getRunnable\n    self._runnable = self.checkRunnableBase(options)\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/testers/Tester.py\", line 597, in checkRunnableBase\n    checks[\"registered_apps\"] = util.getExeRegisteredApps(self.specs[\"executable\"])\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/util.py\", line 735, in getExeRegisteredApps\n    data = getExeJSON(exe)\n  File \"/home/ag6/zoo/mole/moose/python/TestHarness/util.py\", line 718, in getExeJSON\n    output = output.split('**START JSON DATA**\\n')[1]\nIndexError: list index out of range",
          "url": "https://github.com/idaholab/moose/discussions/21962",
          "updatedAt": "2022-09-02T20:12:17Z",
          "publishedAt": "2022-08-29T22:13:13Z",
          "category": {
            "name": "Q&A Tools"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "That is the application failing to produce proper JSON output. The TestHarness is asking the application for a dump of all your applications supported 'features'. Does the following not produce an error?\n./your_application-opt --json",
                  "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3508852",
                  "updatedAt": "2022-08-30T13:04:26Z",
                  "publishedAt": "2022-08-30T13:03:59Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "aarograh"
                          },
                          "bodyText": "Ah, yes, as it turns out that --json option does produce an error.  The output is below.  I am coupling the Mole application with Griffin.  The AddSpeciesAction is something inside Mole, so iot seems like perhaps some of the Mole components are not getting registered properly (interesting, because I didn't have this issue when coupling to a different application, but Griffin seems a lot more complicated in certain ways).  The output is below.  I'll start digging into it, but if you happen to have any quick suggestions please let me know and I'll try those.\nGriffin version:         git commit 6ba94fd on 2022-08-29\nFramework Information:\nMOOSE Version:           git commit 16505c7 on 2022-03-28\nLibMesh Version:\nPETSc Version:           3.16.5\nSLEPc Version:           3.16.2\nCurrent Time:            Tue Aug 30 09:19:15 2022\nExecutable Timestamp:    Tue Aug 30 09:16:43 2022\n\nParallelism:\n  Num Processors:        1\n  Num Threads:           1\n\nCommand line: ./mole-dbg --json\n\n\n\n*** ERROR ***\nA 'AddSpeciesActionTest' is not a registered Action\n\n\n\nStack frames: 11\n0: libMesh::print_trace(std::ostream&)\n1: moose::internal::mooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)\n2: void mooseError<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)\n3: ActionFactory::getValidParams(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)\n4: Parser::buildJsonSyntaxTree(JsonSyntaxTree&) const\n5: MooseApp::setupOptions()\n6: RattlesnakeApp::setupOptions()\n7: MooseApp::run()\n8: main\n9: __libc_start_main\n10: ./mole-dbg(+0x3079) [0x555fda0bc079]\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1\n:\nsystem msg for write_line failure : Bad file descriptor",
                          "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3509138",
                          "updatedAt": "2022-08-30T13:35:05Z",
                          "publishedAt": "2022-08-30T13:35:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "how is it registered inside Mole? at the top of the source file under the copyright header",
                          "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3509390",
                          "updatedAt": "2022-08-30T14:05:35Z",
                          "publishedAt": "2022-08-30T14:05:34Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Off topic, I see this error frequently on Discussions. I think I'll spend some time on the TestHarness to produce a better error message...\n#21967",
                          "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3509454",
                          "updatedAt": "2022-08-30T14:20:48Z",
                          "publishedAt": "2022-08-30T14:14:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aarograh"
                          },
                          "bodyText": "@milljm that would be great!\n@GiudGiud Here's the output of a source search for AddSpeciesActionTest.  I'm not sure which of these you're referring to, or perhaps I'm missing something completely?\nmole/src/base/moleApp.C:\n  63    registerSyntax(\"AddSpeciesAction\", \"Species/AddSpecies\");\n  64:   registerSyntax(\"AddSpeciesActionTest\", \"Species/AddSpeciesTest\");\n  65    registerSyntax(\"ConvectionAction\", \"Species/Convection\");\n\nmole/test/include/actions/AddSpeciesActionTest.h:\n  4  \n  5: class AddSpeciesActionTest : public AddSpeciesAction\n  6  {\n\n  8    static InputParameters validParams();\n  9:   AddSpeciesActionTest(const InputParameters & params);\n  10    virtual void act() override;\n\nmole/test/src/actions/AddSpeciesActionTest.C:\n   1: #include \"AddSpeciesActionTest.h\"\n   2  #include \"SpeciesDefinition.h\"\n\n   7  \n   8: registerMooseAction(\"moleApp\", AddSpeciesActionTest, \"add_species_variables\");\n   9: registerMooseAction(\"moleApp\", AddSpeciesActionTest, \"add_species_definition\");\n  10: registerMooseAction(\"moleApp\", AddSpeciesActionTest, \"add_kernel\");\n  11: registerMooseAction(\"moleApp\", AddSpeciesActionTest, \"mole_test\");\n  12  \n  13  InputParameters\n  14: AddSpeciesActionTest::validParams()\n  15  {\n\n  21  \n  22: AddSpeciesActionTest::AddSpeciesActionTest(const InputParameters & params)\n  23    : AddSpeciesAction(params)\n\n  27  void\n  28: AddSpeciesActionTest::act()\n  29  {",
                          "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3509471",
                          "updatedAt": "2022-08-30T14:16:30Z",
                          "publishedAt": "2022-08-30T14:16:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "so AddSpeciesActionsTest is only in the test directory, but is referred to in\n64:   registerSyntax(\"AddSpeciesActionTest\", \"Species/AddSpeciesTest\");\n?\nthis seems problematic, unless Mole is always built with its test objects.\nThe problem is that nay combined application would not be built with all the sub-apps test objects\nI think you ll want to add some #ifdefs in the source code to prevent that",
                          "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3509679",
                          "updatedAt": "2022-08-30T14:44:18Z",
                          "publishedAt": "2022-08-30T14:44:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aarograh"
                          },
                          "bodyText": "Hmm... ok... We had a lot of issues using the moleTestApp that was part of the original storked version of Mole.  It would work fine with mole standalone and mole coupled with SAM, but mole coupled with griffin would never work.  I kept getting a linking error that I was unable to resolve.  Perhaps that is related?  The specific linking error was that it could not find moleTestApp::registerApps() in main.C despite registerApps being clearly defined as part of the class in moleTestApp.h (which was also included in main.C).\nAll this registration stuff is pretty opaque to me.  Is there a guide somewhere on this stuff?  I think a better understanding of what's actually happening here would help solve a lot of challenges.  It's easy enough with just Mole but seems to get more complicated when other apps are involved.",
                          "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3509926",
                          "updatedAt": "2022-08-30T15:07:54Z",
                          "publishedAt": "2022-08-30T15:07:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Dont think there is user documentation outside of the doxygen for it.\nmoleTestApp will not be compiled by default for a combined app since it's a test 'object'.\nIncluding the header is enough to let the compiler not error out because it sees the declaration, but the function definition will be missing.\nUse make -n on the combined app to see which files are being compiled and check whether moleTestApp.C and AddSpeciesTestAction.C are being compiled",
                          "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3510009",
                          "updatedAt": "2022-08-30T15:16:42Z",
                          "publishedAt": "2022-08-30T15:16:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aarograh"
                          },
                          "bodyText": "Well I've removed moleTestApp.C completely from the repo so I know that's not being compiled.  I may back out that change and open a new discussion about that issue since I think it's separate from this one",
                          "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3510442",
                          "updatedAt": "2022-08-30T16:04:44Z",
                          "publishedAt": "2022-08-30T16:04:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aarograh"
                          },
                          "bodyText": "Ok... I found in another discussion that I was missing BUILD_TEST_OBJECTS_LIB := yes in my MakeFile (seems like that should have been there by default, but whatever), which is why test test app was having issues.  Switching back to the test app and then adding that line in the Makefile looks to have resolved all these issues.",
                          "url": "https://github.com/idaholab/moose/discussions/21962#discussioncomment-3511764",
                          "updatedAt": "2022-08-30T18:58:16Z",
                          "publishedAt": "2022-08-30T18:58:16Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Use Solution of Steady State as initial condition for MultiApp Transient Solution",
          "author": {
            "login": "TLWise"
          },
          "bodyText": "I have a geometry that I have successfully solved the physics for a steady state. I would like to make this solutions the initial conditions for the start of my transient multiapp solution. How do I accomplish this in moose? Is it possible to pull the solution for the initial mesh values of the transient app from the steady state output file?",
          "url": "https://github.com/idaholab/moose/discussions/21964",
          "updatedAt": "2022-08-30T14:58:53Z",
          "publishedAt": "2022-08-30T03:05:33Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nyou may use either the checkpoint or exodus restart systems to achieve this.\nThe checkpoint system requires you to keep the exact same variables between both simulations. The exodus one is a little more lenient but you ll have to be careful to restart everything you need\nhttps://mooseframework.inl.gov/application_usage/restart_recover.html\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/21964#discussioncomment-3505577",
                  "updatedAt": "2022-08-30T04:47:43Z",
                  "publishedAt": "2022-08-30T04:47:42Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "TLWise"
                          },
                          "bodyText": "Thank you very much! The information you shared worked.",
                          "url": "https://github.com/idaholab/moose/discussions/21964#discussioncomment-3509827",
                          "updatedAt": "2022-08-30T14:58:37Z",
                          "publishedAt": "2022-08-30T14:58:37Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Accessing material property quadrature values on element boundaries",
          "author": {
            "login": "ttruster"
          },
          "bodyText": "Hello,\nI've been working on programming some interface (Nitsche/DG) applications, and I noticed from modeling an analytical solution that I am not correctly requesting the values of properties located at the boundary quadrature points.\nInstead, the values I am getting correspond to the centroid of the element and neighbor, duplicated along all _qp of the given interface kernel integration.\nI have checked this in Mortar Constraints, DG Kernels, and Interface Material/Kernels, and in all cases, when I request the property according to:\n    _heat_flux_e(getMaterialProperty<RealVectorValue>(_base_name_e + \"grad_t\")),\n    _heat_flux_n(getNeighborMaterialProperty<RealVectorValue>(_base_name_n + \"grad_t\")),\n\nthis leads to the element centroid value (of course different for the two elements when the analytical solution and the numerical solution have a non-constant gradient). Here, the material property is a simple test of just copying the value of the temperature field gradient into a material property, declared as:\n  : DerivativeMaterialInterface<Material>(parameters),\n    _temp(coupledValue(\"temp\")),\n    _grad_temp(coupledGradient(\"temp\")),\n    _base_name(isParamValid(\"base_name\") ? getParam<std::string>(\"base_name\") + \"_\" : \"\"),\n    _grad_t(declareProperty<RealVectorValue>(_base_name + \"grad_t\")),\n\nI've read here at \"Evaluation of Material Properties on Element Faces\" from https://mooseframework.inl.gov/syntax/Materials/index.html that there are supposedly values computed for _face and _neighbor. And at one point when I had an error in my input files, the error codes mentioned all 3 of the material variations.\nHowever, looking up the material getMaterialProperty(_base_name_e + \"grad_t_face\") produced an error message.\nCan you mention the proper way to request the boundary values of the material?\nI can provide some simple source code (penalty method) which when run in debug with breakpoints shows that the values of the material property gradient do not match the temperature variable gradient at the interface point.\nThanks,\nTim",
          "url": "https://github.com/idaholab/moose/discussions/21951",
          "updatedAt": "2022-09-02T20:12:10Z",
          "publishedAt": "2022-08-28T20:23:15Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "jiangwen84"
                  },
                  "bodyText": "Hi Tim, I have been using DG and Interface Kernel to access material properties. I do not see any issues with that. What you did seems to be correct to me. It should produce the correct material properties on the boundary/interface. If you could provide me your code and simple test, I can take a quick look.",
                  "url": "https://github.com/idaholab/moose/discussions/21951#discussioncomment-3495147",
                  "updatedAt": "2022-08-28T22:06:53Z",
                  "publishedAt": "2022-08-28T22:06:53Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ttruster"
                          },
                          "bodyText": "Hi Wen,\nI pulled out the files for the three sets of objects I've developed, and included a the test file for each and for CG-Kernel alone to show the analytical result. When the flag 'use_flux_penalty' is false, the dgkernel produces the exact solution, but for true then the gradient penalty term causes the solution to deviate.\nLet me know your thoughts, thanks,\nTim\nbeaver3.tar.gz",
                          "url": "https://github.com/idaholab/moose/discussions/21951#discussioncomment-3502026",
                          "updatedAt": "2022-08-29T16:29:24Z",
                          "publishedAt": "2022-08-29T16:29:24Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "jiangwen84"
                  },
                  "bodyText": "@ttruster  I do not see any issues with your code. I printed out some values inside TestDGBase::precalculateMaterial(). The material properties you asked for have the same values as the temperature variable gradient. Do I misunderstand your question?\n_heat_flux_e[_qp] = (x,y,z)=(     0.5,     -0.5,        0)\n_heat_flux_n[_qp] = (x,y,z)=(     1.5,     -0.5,        0)\n_grad_u[_qp] = (x,y,z)=(     0.5,     -0.5,        0)\n_grad_u_neighbor[_qp] = (x,y,z)=(     1.5,     -0.5,        0)",
                  "url": "https://github.com/idaholab/moose/discussions/21951#discussioncomment-3503294",
                  "updatedAt": "2022-08-29T19:43:25Z",
                  "publishedAt": "2022-08-29T19:43:11Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ttruster"
                          },
                          "bodyText": "@jiangwen84 Yeah, I now checked also in debug and see the same value for _heat_flux and _grad_t.\nSorry for my lengthy response below...\nI guess the issue is, it seems like the values of the variables at the physical quadrature point location don't seem to match with the analytical solution on the iteration after the first residual, and the analysis converges in one iteration which says that the residual and Jacobian are consistent with each other.\nFor the value use_flux_penalty = false, then the computed solution matches nodally with the analytical solution, as seen in Paraview from a PlotOverLine. But with use_flux_penalty = true, the computed result is different.\nThe term in the weak form is [(grad_test_e - grad_test_n) * normal] * penalty * [(grad_u_e - grad_u_n) * normal].\nFor the analytical solution ( u=x^2-y^2 and du = (2x, -2y) ), it is continuous everywhere and the gradient is continuous, so the jump should be zero at the converged solution.\nYet in both your printout and my tests, the values of the gradient on the e and n sides are not equal to each other.\nThat's what I'm not understanding: why does the reported value of the grad_u and grad_u_neighbor variable not seem to correspond with the boundary quadrature point location, even when the simulation (when converged and viewed in Paraview) has continuous values?\nThis apparent inconsistent location value is the explanation I am seeing for why the use_flux_penalty = true/false give different results.\nHere is an example for a 2x1 element model:\n_heat_flux_n[_qp]\n_coords\n[0]:1\n[1]:0\n[2]:0\n_heat_flux_e[_qp]\n_coords\n[0]:-1\n[1]:0\n[2]:0\n_grad_u_neighbor[_qp]\n_coords\n[0]:1\n[1]:0\n[2]:0\n_grad_u[_qp]\n_coords\n[0]:-1\n[1]:0\n[2]:0\n_q_point[_qp]\n_coords\n[0]:0\n[1]:-0.28867513459481287\n[2]:0\nTechnically, the du/dx value should be 0.0 on both sides, but it's not...",
                          "url": "https://github.com/idaholab/moose/discussions/21951#discussioncomment-3504140",
                          "updatedAt": "2022-08-29T22:34:47Z",
                          "publishedAt": "2022-08-29T22:34:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "I found one issue with your DG input file. To use DG, you need to use a discontinuous variable. For that, you can use\n[Variables]\n  [./u]\n    order = FIRST\n    family = MONOMIAL\n  [../]\n[]\n\n\nThis is the output in paraview. Because the variable is first order, the gradient is constants. Looks like the grad_u and grad_u_neighbor are not the same and the output from the code seems to be correct. What do you think?",
                          "url": "https://github.com/idaholab/moose/discussions/21951#discussioncomment-3504361",
                          "updatedAt": "2022-08-29T23:35:01Z",
                          "publishedAt": "2022-08-29T23:35:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ttruster"
                          },
                          "bodyText": "Yep, that's what late night work does to you...\nFound the problem: I had wanted to use SECOND order shape functions for all the tests, since the solution is quadratic. I forgot that you need both QUAD9 (in all the files) AND a SECOND variable type (in none of the files).\nI also forgot (or didn't know; thought it was only 1d) that the continuous Galerkin method for heat equation will also interpolate the solution in simple cases like this.\nSo: with SECOND variables for all the tests, I indeed recover the continuous field and gradient field like I was expecting.\nFYI: the DG solution \"runs\" fine with either biquadratic LAGRANGE or quadratic MONOMIAL functions, as long as I switch the BC type from FunctionDirichletBC to DGFunctionDiffusionDirichletBC. Not sure if that is intended or not; I run DG problems all the time in my other FE codes with Lagrange functions.\nSo: Thanks for the objective set of eyes! Always helps for finding these little things.",
                          "url": "https://github.com/idaholab/moose/discussions/21951#discussioncomment-3504624",
                          "updatedAt": "2022-08-30T00:48:56Z",
                          "publishedAt": "2022-08-30T00:48:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "@ttruster  In MOOSE if you want to use DG, the family type has to be either L2_LAGRANGE or MONOMIAL. If you use LAGRANGE, you will have a continuous mesh and your DG kernel become useless.\nDGFunctionDiffusionDirichletBC weakly enforces the Dirichlet BC at the boundary. My understanding is for L2_LAGRANGE or MONOMIAL type of shape functions, the nodes are not placed on the boundaries, so you have to weakly enforce them instead of directly set their values.",
                          "url": "https://github.com/idaholab/moose/discussions/21951#discussioncomment-3509669",
                          "updatedAt": "2022-08-30T14:42:54Z",
                          "publishedAt": "2022-08-30T14:42:53Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}