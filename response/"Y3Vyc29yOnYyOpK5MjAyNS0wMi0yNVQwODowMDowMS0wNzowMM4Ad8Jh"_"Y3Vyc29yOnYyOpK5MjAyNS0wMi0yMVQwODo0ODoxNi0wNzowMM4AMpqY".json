{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNS0wMi0yMVQwODo0ODoxNi0wNzowMM4AMpqY"
    },
    "edges": [
      {
        "node": {
          "title": "MOOSE can't converge when biaxial loading the anisotropic domain with tunnel in middle",
          "author": {
            "login": "Yulongggggg"
          },
          "bodyText": "Here's what i am simulating, biaxial loading was implemented to the domain, and each subdomain has different material properties.   And there's also a pressure acting on the tunnel wall. When i am doing this, MOOSE can't converge, and here's my code: https://github.com/Yulongggggg/MOOSE_converge",
          "url": "https://github.com/idaholab/moose/discussions/29942",
          "updatedAt": "2025-02-25T00:25:51Z",
          "publishedAt": "2025-02-24T16:37:57Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Yulongggggg"
                  },
                  "bodyText": "@GiudGiud",
                  "url": "https://github.com/idaholab/moose/discussions/29942#discussioncomment-12303121",
                  "updatedAt": "2025-02-24T16:38:47Z",
                  "publishedAt": "2025-02-24T16:38:46Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou need to add a dirichlet boundary condition on the displacements in one or more nodes. Maybe the corner nodes?\nIt is not converging because there are solutions for displacement that are part of the null space. Like extra rotation and translation solutions. Pinning nodes will remove these\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/29942#discussioncomment-12303325",
                  "updatedAt": "2025-02-24T16:55:12Z",
                  "publishedAt": "2025-02-24T16:55:11Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Yulongggggg"
                          },
                          "bodyText": "Dear Giud,\nLong time no see, i understand your points and I am trying to simulating the fields of tunnel under geostress. If I add Dirichlet BC it well be unrealistic, and the displacement field is different from the analytical solutions. Only conduct biaxial loading and don't fix the boundary condition can be align with the real situation underground. Is there any way to solve this?",
                          "url": "https://github.com/idaholab/moose/discussions/29942#discussioncomment-12304314",
                          "updatedAt": "2025-02-24T18:37:24Z",
                          "publishedAt": "2025-02-24T18:37:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "If I add Dirichlet BC it well be unrealistic,\n\nit's the easiest solution though.\nThere are petsc options you can use to remove the null space, but might not work\nAre you sure you cannot set dirichlet BCs?\nI think by symmetry, the center of the top  and bottom surfaces can be blocked in the X direction , which removes a translation mode and a rotation too\nThen same on the center of the left and right surfaces, which should move in Y ? Which would remove 2 more modes",
                          "url": "https://github.com/idaholab/moose/discussions/29942#discussioncomment-12306855",
                          "updatedAt": "2025-02-25T00:25:52Z",
                          "publishedAt": "2025-02-25T00:25:51Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to use arc-length method in MOOSE",
          "author": {
            "login": "lcontinuum"
          },
          "bodyText": "Hello,\nI'm trying to figure out how to use the arc-length method within MOOSE. But I cannot find any example input file which uses this method.\nThe method is provided by PETSc as \"Newton with Arc Length Continuation\", SNESType: \"SNESNEWTONAL\", Options Name: \"newtonal\" and was quite recently added to PETSc.\nAs a toy example I want to solve a snap through problem with one truss element. See the picture below for the setup.\n\nThe (quasi-static) force-displacement curve of this problem looks like the blue curve in the graph below. In a force controlled setup (\"FunctionNeumannBC\") an arc-length method is necessary to follow the blue curve after the first maximum. If the usual Newton solver is used, then one gets the red dashed curve. At the first maximum the Newton solver \"jumps\" over the unloading path directly to the force-displacement curve after the snap through.\n\nI tried in the input file to activate \"Newton with Arc Length Continuation\" by\npetsc_options_iname = '-pc_type -pc_factor_mat_solver_package -snes_type'\npetsc_options_value = ' lu       mumps                         newtonal'\n\nBut I get a lengthy error message which ends with No tangent load function or rhs vector has been set.\nMy input file is\ntruss_2d_arc_length.i.txt\nAny help appreciated.\nlcontinuum\nTime Step 1, time = 0.1, dt = 0.1\n[0]PETSC ERROR: --------------------- Error Message --------------------------------------------------------------\n[0]PETSC ERROR: Object is in wrong state\n[0]PETSC ERROR: No tangent load function or rhs vector has been set\n[0]PETSC ERROR: WARNING! There are unused option(s) set! Could be the program crashed before usage or a spelling mistake, etc!\n[0]PETSC ERROR:   Option left: name:-i value: truss_2d_arc_length.i source: command line\n[0]PETSC ERROR: See https://petsc.org/release/faq/ for trouble shooting.\n[0]PETSC ERROR: Petsc Development GIT revision: unknown  GIT Date: unknown\n[0]PETSC ERROR: ../../../pf_frac-opt with 1 MPI process(es) and PETSC_ARCH  on leibniz by user Fri Feb 21 11:03:48 2025\n[0]PETSC ERROR: Configure options: --with-64-bit-indices --with-cxx-dialect=C++17 --with-debugging=no --with-fortran-bindings=0 --with-mpi=1 --with-openmp=1 --with-strict-petscerrorcode=1 --with-shared-libraries=1 --with-sowing=0 --download-fblaslapack=1 --download-hpddm=1 --download-hypre=1 --download-metis=1 --download-mumps=1 --download-ptscotch=1 --download-parmetis=1 --download-scalapack=1 --download-slepc=1 --download-strumpack=1 --download-superlu_dist=1 --with-hdf5-dir=/home/user/Local/install/miniforge/envs/moose --with-make-np=16 --COPTFLAGS=-O3 --CXXOPTFLAGS=-O3 --FOPTFLAGS=-O3 --with-x=0 --with-ssl=0 --with-mpi-dir=/home/user/Local/install/miniforge/envs/moose AR=/home/user/Local/install/miniforge/envs/moose/bin/x86_64-conda-linux-gnu-ar RANLIB=/home/user/Local/install/miniforge/envs/moose/bin/x86_64-conda-linux-gnu-ranlib CFLAGS=\"-march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/user/Local/install/miniforge/envs/moose/include -fdebug-prefix-map=/data/civet2/build/_env/conda-bld/moose-mpi_1735973043613/work=/usr/local/src/conda/moose-mpi-base-2024.12.23 -fdebug-prefix-map=/home/user/Local/install/miniforge/envs/moose=/usr/local/src/conda-prefix \" CXXFLAGS=\"-fvisibility-inlines-hidden -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/user/Local/install/miniforge/envs/moose/include -fdebug-prefix-map=/data/civet2/build/_env/conda-bld/moose-mpi_1735973043613/work=/usr/local/src/conda/moose-mpi-base-2024.12.23 -fdebug-prefix-map=/home/user/Local/install/miniforge/envs/moose=/usr/local/src/conda-prefix  \" CPPFLAGS=\"-DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /home/user/Local/install/miniforge/envs/moose/include \" FFLAGS=\"-march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/user/Local/install/miniforge/envs/moose/include -fdebug-prefix-map=/data/civet2/build/_env/conda-bld/moose-mpi_1735973043613/work=/usr/local/src/conda/moose-mpi-base-2024.12.23 -fdebug-prefix-map=/home/user/Local/install/miniforge/envs/moose=/usr/local/src/conda-prefix \" FCFLAGS=\"-march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/user/Local/install/miniforge/envs/moose/include -fdebug-prefix-map=/data/civet2/build/_env/conda-bld/moose-mpi_1735973043613/work=/usr/local/src/conda/moose-mpi-base-2024.12.23 -fdebug-prefix-map=/home/user/Local/install/miniforge/envs/moose=/usr/local/src/conda-prefix \" LDFLAGS=\"-Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,--allow-shlib-undefined -Wl,-rpath,/home/user/Local/install/miniforge/envs/moose/lib -Wl,-rpath-link,/home/user/Local/install/miniforge/envs/moose/lib -L/home/user/Local/install/miniforge/envs/moose/lib \" --prefix=/home/user/Local/install/miniforge/envs/moose/petsc\n[0]PETSC ERROR: #1 SNESNewtonALComputeFunction_NEWTONAL() at /data/civet2/build/_env/conda-bld/moose-petsc_1735974488891/work/src/snes/impls/al/al.c:221\n[0]PETSC ERROR: #2 SNESNewtonALComputeFunction() at /data/civet2/build/_env/conda-bld/moose-petsc_1735974488891/work/src/snes/impls/al/al.c:270\n[0]PETSC ERROR: #3 SNESSolve_NEWTONAL() at /data/civet2/build/_env/conda-bld/moose-petsc_1735974488891/work/src/snes/impls/al/al.c:331\n[0]PETSC ERROR: #4 SNESSolve() at /data/civet2/build/_env/conda-bld/moose-petsc_1735974488891/work/src/snes/interface/snes.c:4837\nlibMesh terminating:\nNo tangent load function or rhs vector has been set\nAbort(1) on node 0 (rank 0 in comm 0): application called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n\nPS: A somewhat similar question is raised at  [(https://github.com//discussions/24923)] but it end with a reference to a PETSc example src/snes/tutorials/ex16.c",
          "url": "https://github.com/idaholab/moose/discussions/29932",
          "updatedAt": "2025-02-24T15:48:06Z",
          "publishedAt": "2025-02-21T10:32:15Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThe merge request @jedbrown mentioned is merged now.\nSo this capability should be available in moose\nhowever from the error message the solver is expecting additional quantities to be set, so it will require a little bit of development. I expect you will need to tag the contribution of some kernels to the residual and set them as the RHS vector. This has to be done programmatically\n@bwspenc @dschwen is there interest in this method at INL?",
                  "url": "https://github.com/idaholab/moose/discussions/29932#discussioncomment-12292208",
                  "updatedAt": "2025-02-23T15:03:34Z",
                  "publishedAt": "2025-02-23T15:03:34Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lcontinuum"
                          },
                          "bodyText": "Thank you for the feedback.\nJust for my own understanding:\nI think in my example it should be the Neumann boundary condition (force F) which has to be assembled to a separate RHS vector, maybe with  vector_tags? And that would be the not set load function or rhs vector from the error message. Because the arc-length method \"controls\" the load factor lambda by itself to follow the blue snap through curve.\nBut currently MOOSE has no \"interface\" to set this function or RHS vector for PETSc's arc-length method. So, one would have to program this \"interface\". Would that be done as an additional option in [Problem] type = FEProblem. Not that I have the experience to do that, just out of interest.",
                          "url": "https://github.com/idaholab/moose/discussions/29932#discussioncomment-12297994",
                          "updatedAt": "2025-02-24T09:05:14Z",
                          "publishedAt": "2025-02-24T09:05:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nI agree the vector tag is the right way to gather that term as a RHS.\nSetting it as the load function in petsc would likely be done in the executioner instead of the Problem.\nIs this a transient / quasi static problem?",
                          "url": "https://github.com/idaholab/moose/discussions/29932#discussioncomment-12301512",
                          "updatedAt": "2025-02-24T15:25:58Z",
                          "publishedAt": "2025-02-24T14:29:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lcontinuum"
                          },
                          "bodyText": "Hello,\n\nIs this a transient / quasi static problem?\n\nQuasi-static problem.\nArc-length methods are used to follow an unstable load path for quasi-static problems. Like snap-through or snap-back behavior of structures. The arc-length method \"finds\" the necessary load scaling parameter lambda to keep the system in an even unstable equilibrium.\nIn a transient problem, one would have inertia and thus a mass matrix. Then the above toy problem would start accelerating downwards after the load reaches the first maximum. Reducing the time step should be sufficient to solve this in a dynamic setting. But one would most probably get a different load-displacement curve as one has a real time parameter and inertia forces.",
                          "url": "https://github.com/idaholab/moose/discussions/29932#discussioncomment-12302185",
                          "updatedAt": "2025-02-24T15:27:59Z",
                          "publishedAt": "2025-02-24T15:27:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok then you will want to modify the Transient executioner, while still using the QuasiStatic SolidMechanics physics.\nTo add the gathering of the RHS, you will likely need to use tag parameters in that Physics or modify the code in it",
                          "url": "https://github.com/idaholab/moose/discussions/29932#discussioncomment-12302229",
                          "updatedAt": "2025-02-24T15:30:17Z",
                          "publishedAt": "2025-02-24T15:30:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lcontinuum"
                          },
                          "bodyText": "Thanks you.\nI'll give it a try as a side project to learn more about Transient executioner internals.",
                          "url": "https://github.com/idaholab/moose/discussions/29932#discussioncomment-12302462",
                          "updatedAt": "2025-02-24T15:48:07Z",
                          "publishedAt": "2025-02-24T15:48:06Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "What is the correct syntax to run a custom action from an input file?",
          "author": {
            "login": "andrisfreimanis"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nDear All,\nI have written a custom action and am getting this error when running the input file.\n<filename>.i:80.1: section '[lapsaApp]' does not have an associated \"Action\".\n Common causes:\n- you misspelled the Action/section name\n- the app you are running does not support this Action/syntax\n<filename>.i:81.3: section '[lapsaApp/MechanicsActionRPD]' does not have an associated \"Action\".\n Common causes:\n- you misspelled the Action/section name\n- the app you are running does not support this Action/syntax\n\nBut I registered the action as such:\nregisterMooseAction(\"lapsaApp\", MechanicsActionRPD, \"setup_mesh_complete\");\nregisterMooseAction(\"lapsaApp\", MechanicsActionRPD, \"validate_coordinate_systems\");\nregisterMooseAction(\"lapsaApp\", MechanicsActionRPD, \"add_variable\");\nregisterMooseAction(\"lapsaApp\", MechanicsActionRPD, \"add_aux_variable\");\nregisterMooseAction(\"lapsaApp\", MechanicsActionRPD, \"add_kernel\");\nregisterMooseAction(\"lapsaApp\", MechanicsActionRPD, \"add_aux_kernel\");\nregisterMooseAction(\"lapsaApp\", MechanicsActionRPD, \"add_material\");\nregisterMooseAction(\"lapsaApp\", MechanicsActionRPD, \"add_user_object\");\n\nThen in the input file I tried these blocks:\n[lapsaApp]\n  [MechanicsActionRPD]\n    strain = FINITE\n    displacements = 'disp_x disp_y'\n    add_variables = true\n  []\n[]\n\nand\n[MechanicsActionRPD]\n  strain = FINITE\n  displacements = 'disp_x disp_y'\n  add_variables = true\n[]\n\nWhat is the correct syntax to run a custom action?\nBest regards\nAndris",
          "url": "https://github.com/idaholab/moose/discussions/29940",
          "updatedAt": "2025-02-24T15:15:48Z",
          "publishedAt": "2025-02-24T07:12:41Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello you need to register the action to a syntax as well.\nYou can see the modules app source files, notably NavierStokes for an example.\nIn modules/navier_stokes/src/base/NavierStokesApp.C",
                  "url": "https://github.com/idaholab/moose/discussions/29940#discussioncomment-12301463",
                  "updatedAt": "2025-02-24T14:25:29Z",
                  "publishedAt": "2025-02-24T14:25:29Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "andrisfreimanis"
                          },
                          "bodyText": "Thanks, works now.",
                          "url": "https://github.com/idaholab/moose/discussions/29940#discussioncomment-12302036",
                          "updatedAt": "2025-02-24T15:15:46Z",
                          "publishedAt": "2025-02-24T15:15:44Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "What PETSC options are best for solving a poorly conditioned jacobian matrix?",
          "author": {
            "login": "richmondodufisan"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nAs part of my attempts to solve the incompressible hyperelasticity problem by using an extra field (described in more detail in #29895), I have manually calculated and constructed the full residual and Jacobian, which has the form:\n\nWhere these are the residuals and Jacobians:\n\nWith N^A and N^B being the test and trial shape functions respectively.\nClearly, the bottom right block is 0 and is the reason for the\n0 Nonlinear |R| = 1.228157e+03\n    Linear solve did not converge due to DIVERGED_PC_FAILED iterations 0\n                   PC failed due to FACTOR_NUMERIC_ZEROPIVOT\n\nError I got when trying to solve with LU. Adding a pressure BC or using the zero mean pressure constraint (with a combination of AverageValueConstraint and ScalarLagrangeMultiplier) does nothing to improve the conditioning of the matrix.\nHowever, now that I have exact Jacobians (unlike #29923 and #29895), if I switch the solver to jacobi I actually see the residual reducing, albeit very slowly:\n 0 Nonlinear |R| = 4.595650e-03\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n 1 Nonlinear |R| = 1.007537e-06\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n 2 Nonlinear |R| = 3.425210e-07\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n 3 Nonlinear |R| = 2.460086e-07\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n 4 Nonlinear |R| = 1.980781e-07\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n 5 Nonlinear |R| = 1.657344e-07\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n 6 Nonlinear |R| = 1.405872e-07\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n 7 Nonlinear |R| = 1.194342e-07\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n 8 Nonlinear |R| = 1.012718e-07\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n 9 Nonlinear |R| = 9.277937e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n10 Nonlinear |R| = 8.682132e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n11 Nonlinear |R| = 8.141221e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n12 Nonlinear |R| = 7.637823e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n13 Nonlinear |R| = 7.207172e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n14 Nonlinear |R| = 6.853282e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n15 Nonlinear |R| = 6.541402e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n16 Nonlinear |R| = 6.262888e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n17 Nonlinear |R| = 6.011404e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n18 Nonlinear |R| = 5.783481e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n19 Nonlinear |R| = 5.577634e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n20 Nonlinear |R| = 5.401252e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n21 Nonlinear |R| = 5.242640e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n22 Nonlinear |R| = 5.094541e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n23 Nonlinear |R| = 4.953840e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n24 Nonlinear |R| = 4.818643e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n25 Nonlinear |R| = 4.691204e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n26 Nonlinear |R| = 4.570808e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n27 Nonlinear |R| = 4.455804e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n28 Nonlinear |R| = 4.342042e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n29 Nonlinear |R| = 4.231358e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n30 Nonlinear |R| = 4.119986e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n31 Nonlinear |R| = 4.010405e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n32 Nonlinear |R| = 3.897828e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n33 Nonlinear |R| = 3.781841e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n34 Nonlinear |R| = 3.661117e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n35 Nonlinear |R| = 3.536277e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n36 Nonlinear |R| = 3.408171e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n37 Nonlinear |R| = 3.275996e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n38 Nonlinear |R| = 3.139929e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n39 Nonlinear |R| = 3.008576e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n40 Nonlinear |R| = 2.885685e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n41 Nonlinear |R| = 2.783884e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n42 Nonlinear |R| = 2.714641e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n43 Nonlinear |R| = 2.647287e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n44 Nonlinear |R| = 2.582599e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n45 Nonlinear |R| = 2.523468e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n46 Nonlinear |R| = 2.466673e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n47 Nonlinear |R| = 2.411709e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n48 Nonlinear |R| = 2.359276e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n49 Nonlinear |R| = 2.309372e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n50 Nonlinear |R| = 2.262904e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n51 Nonlinear |R| = 2.221007e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n52 Nonlinear |R| = 2.181871e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n53 Nonlinear |R| = 2.144873e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n54 Nonlinear |R| = 2.110779e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n55 Nonlinear |R| = 2.079622e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n56 Nonlinear |R| = 2.049488e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n57 Nonlinear |R| = 2.020074e-08\n    Linear solve did not converge due to DIVERGED_ITS iterations 300\n58 Nonlinear |R| = 1.991409e-08\n Solve Converged!\nCurrently Executing\n  Finished Solving                                                                       [200.80 s] [  259 MB]\n\nOutlier Variable Residual Norms:\n  pressure: 1.447126e-08\n\nPostprocessor Values:\n+----------------+----------------+-------------------+----------------+\n| time           | displace_x     | pressure_integral | react_x        |\n+----------------+----------------+-------------------+----------------+\n|   0.000000e+00 |   0.000000e+00 |      0.000000e+00 |   0.000000e+00 |\n|   8.000000e-04 |   2.941246e-02 |      4.230839e-09 |   2.853881e+03 |\n+----------------+----------------+-------------------+----------------+\n\nBut unlike any other iteration of my attempts to solve this problem, it converges to a solution, albeit the wrong one:\n\nAs in the \"dog bone\" shape expected from a uniaxial tension test is going in the wrong direction.\nI got the correct dog-bone shape when I implemented this same problem using a penalty method (instead of an extra field p), but when the penalty was too low, I also got a reversal of the dog bone shape.\nI have tried both Q1P0 and Q2P1 element combinations with no difference (actually, Q1P0 converged faster to this wrong solution). And it obviously cannot go beyond the first timestep and still satisfy the incompressibility condition that J = 1. It only converged in this first timestep likely because of the tolerance:\n\nWhich leads me to my conclusion that p is not properly constrained, and even the zero mean pressure does not help it. I was wondering if MOOSE had tools to solve nearly-singular/poorly conditioned systems, or if there is another technique I might be able to use to get the correct solution. I also just tried another pressure stabilization technique (adding an artificial term to the residual of p) which unfortunately still didn't work.\nThis is a common problem so I was wondering if there were ways around it before I start thinking of a 3-field formulation. Especially since I got it to work with a 1-field formulation by using a penalty instead of an extra field p:\n\n\nThanks,\nRichmond",
          "url": "https://github.com/idaholab/moose/discussions/29939",
          "updatedAt": "2025-02-24T12:50:54Z",
          "publishedAt": "2025-02-22T22:37:13Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "You can try adding a nonzero factor shift to Lu if hitting zero pivot errors.\nOtherwise any solution to an unsolvable linear system is likely problem dependent. I can see adding bounds, initializing better or using a predictor improve the solution of a problem like this",
                  "url": "https://github.com/idaholab/moose/discussions/29939#discussioncomment-12289223",
                  "updatedAt": "2025-02-23T01:37:58Z",
                  "publishedAt": "2025-02-23T01:37:57Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Have you checked your Jacobian? There are instructions there to help with failing solves\nhttps://mooseframework.inl.gov/moose/application_usage/failed_solves.html\nFirst check the Jacobian with finite-difference\nthen,\non a small problems (5k dofs max) you can use SVD to make sure the problem is well posed.",
                          "url": "https://github.com/idaholab/moose/discussions/29939#discussioncomment-12291956",
                          "updatedAt": "2025-02-23T14:23:20Z",
                          "publishedAt": "2025-02-23T14:23:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "The factor shift helped it converge faster, but to the same wrong solution. I'm going to triple check the Jacobian and then try the finite difference thing. Thanks",
                          "url": "https://github.com/idaholab/moose/discussions/29939#discussioncomment-12294787",
                          "updatedAt": "2025-02-23T23:23:26Z",
                          "publishedAt": "2025-02-23T23:23:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "If I understand the FDP correctly, it uses Finite Differencing to compute the Jacobians the way Automatic Differentiation would've done?",
                          "url": "https://github.com/idaholab/moose/discussions/29939#discussioncomment-12295285",
                          "updatedAt": "2025-02-24T01:27:11Z",
                          "publishedAt": "2025-02-24T01:27:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Automatic differentiation uses analytical expression to propagate derivatives. It is not the same as finite differencing",
                          "url": "https://github.com/idaholab/moose/discussions/29939#discussioncomment-12295295",
                          "updatedAt": "2025-02-24T01:30:23Z",
                          "publishedAt": "2025-02-24T01:30:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "If the result is wrong at convergence it s the residual function that is likely wrong. The Jacobian can be wrong too but what is important to have convergence is that the Jacobian is consistent with the residual.",
                          "url": "https://github.com/idaholab/moose/discussions/29939#discussioncomment-12295299",
                          "updatedAt": "2025-02-24T01:31:39Z",
                          "publishedAt": "2025-02-24T01:31:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "After a lot of debugging, I have confirmed that the issue with the solution is that it is a saddle-point problem as noted in the ill-conditioned section of (https://mooseframework.inl.gov/moose/application_usage/failed_solves.html).\nTLDR; Can I implement a custom preconditioner or would it make sense to try to implement it within the Kernel?\nI used a stabilization technique on the residual and Jacobian (to remove pressure oscillations/enable me to use any element combination) which got rid of the\n    Linear solve did not converge due to DIVERGED_PC_FAILED iterations 0\n                   PC failed due to FACTOR_NUMERIC_ZEROPIVOT\n\nerror, and I started getting convergence with both LU & SVD (ran a minimal 2D problem):\nPostprocessor Values:\n+----------------+-------------------+\n| time           | pressure_integral |\n+----------------+-------------------+\n|   0.000000e+00 |      0.000000e+00 |\n+----------------+-------------------+\n\n 0 Nonlinear |R| = 2.955979e+02\n      SVD: condition number 1.330161719532e+17, 0 of 243 singular values are (nearly) zero\n      SVD: smallest singular values: 1.150281155191e-11 1.304622124941e-11 3.124199424403e-11 3.540291664922e-11 4.144087420101e-11\n      SVD: largest singular values : 1.485105841798e+06 1.494450744617e+06 1.501334380941e+06 1.505546595479e+06 1.530059959334e+06\n      0 Linear |R| = 2.955979e+02\n      1 Linear |R| = 6.672980e-07\n      2 Linear |R| = 1.251738e-14\n 1 Nonlinear |R| = 7.269174e+01\n      SVD: condition number 1.165899334391e+17, 0 of 243 singular values are (nearly) zero\n      SVD: smallest singular values: 1.326452314173e-11 1.344532685357e-11 3.194891738289e-11 3.618834572857e-11 4.232830338259e-11\n      SVD: largest singular values : 1.518733412499e+06 1.527412391081e+06 1.535969521817e+06 1.542586469213e+06 1.546509870196e+06\n      0 Linear |R| = 7.269174e+01\n      1 Linear |R| = 4.130000e-08\n      2 Linear |R| = 2.727420e-14\n 2 Nonlinear |R| = 5.856823e+00\n      SVD: condition number 1.163497864523e+17, 0 of 243 singular values are (nearly) zero\n      SVD: smallest singular values: 1.322459928576e-11 1.323459198181e-11 3.182649182689e-11 3.606226431598e-11 4.219615414031e-11\n      SVD: largest singular values : 1.509961620606e+06 1.519249716747e+06 1.528118599777e+06 1.534766666275e+06 1.538679302815e+06\n      0 Linear |R| = 5.856823e+00\n      1 Linear |R| = 2.428311e-09\n      2 Linear |R| = 2.749148e-15\n 3 Nonlinear |R| = 1.968262e-02\n      SVD: condition number 1.163550771872e+17, 0 of 243 singular values are (nearly) zero\n      SVD: smallest singular values: 1.322124234763e-11 1.322591083315e-11 3.182175605178e-11 3.605841550354e-11 4.219342474462e-11\n      SVD: largest singular values : 1.509722953361e+06 1.518825560435e+06 1.527742541434e+06 1.534440047415e+06 1.538358673869e+06\n      0 Linear |R| = 1.968262e-02\n      1 Linear |R| = 6.735732e-12\n      2 Linear |R| = 1.559766e-18\n 4 Nonlinear |R| = 2.572131e-06\n      SVD: condition number 1.163548563524e+17, 0 of 243 singular values are (nearly) zero\n      SVD: smallest singular values: 1.322125868672e-11 1.322591770845e-11 3.182174128534e-11 3.605840441028e-11 4.219341367705e-11\n      SVD: largest singular values : 1.509722473373e+06 1.518824231273e+06 1.527741312901e+06 1.534438985083e+06 1.538357655291e+06\n      0 Linear |R| = 2.572131e-06\n      1 Linear |R| = 1.144440e-15\n      2 Linear |R| = 1.687157e-21\n 5 Nonlinear |R| = 4.225261e-10\n      SVD: condition number 1.163552680530e+17, 0 of 243 singular values are (nearly) zero\n      SVD: smallest singular values: 1.322121190564e-11 1.322586379434e-11 3.182174377005e-11 3.605841365951e-11 4.219342519336e-11\n      SVD: largest singular values : 1.509722473487e+06 1.518824231417e+06 1.527741312983e+06 1.534438985107e+06 1.538357655267e+06\n      0 Linear |R| = 4.225261e-10\n      1 Linear |R| = 1.438493e-19\n      2 Linear |R| = 1.202495e-25\n 6 Nonlinear |R| = 1.098568e-12\n Solve Converged!\n\nPostprocessor Values:\n+----------------+-------------------+\n| time           | pressure_integral |\n+----------------+-------------------+\n|   0.000000e+00 |      0.000000e+00 |\n|   1.000000e+00 |      4.246260e+00 |\n+----------------+-------------------+\n\nwith really small applied x displacement, but this time I got the correct y displacement!\n\n\n\nHowever simply playing around with random choices like the applied displacement, the solver type, etc change the solution back to the flipped y displacement.\nThis confirms that it is a saddle point problem, i.e there is a point somewhere that the search direction for the \"flipped y displacement\" and the correct y displacement seem equally valid to the solver.\nFurthermore, on observation of the manually calculated Jacobians, it has the saddle-point structure:\n\nWhich in my case, is akin to:\n\nI found this page on the MFEM website (exmple 19, https://mfem.org/examples/) that shows a simple workaround for this issue... to use a preconditioner such that P^_1 is given by:\n\nWhere the tilde denotes that it is an approximation rather than exact, and S is given as:\n\nBy my understanding now, a preconditioner works to solve Ax = B such that:\n\nIs there any way I can implement this preconditioner (apart from implementing it directly into the Jacobian & residual expressions)?",
                          "url": "https://github.com/idaholab/moose/discussions/29939#discussioncomment-12297911",
                          "updatedAt": "2025-02-24T09:38:48Z",
                          "publishedAt": "2025-02-24T08:58:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Solved! There is an existing preconditioner in MOOSE that solves this issue:\nhttps://mooseframework.inl.gov/source/preconditioners/VariableCondensationPreconditioner.html\nAdded the following block to my input file:\n  [vcp]\n    type = VCP\n    full = true\n    lm_variable = 'pressure'\n    primary_variable = 'disp_x'\n    preconditioner = 'AMG'\n    is_lm_coupling_diagonal = false\n    adaptive_condensation = false\n  []\n\nAnd changed the iterative method to gmres:\n[Executioner]\n  type = Transient\n  solve_type = 'NEWTON'\n  line_search = 'none'\n  \n  petsc_options_iname = '-pc_type -ksp_type -pc_factor_mat_solver_type'\n  petsc_options_value = 'lu       gmres     superlu_dist'\n\n  nl_rel_tol = 1e-12\n  nl_abs_tol = 1e-12\n  l_tol = 1e-8\n  l_max_its = 300\n  nl_max_its = 20\n  \n  automatic_scaling = true\n  scaling_group_variables = 'disp_x disp_y'\n  \n  start_time = 0.0\n  end_time = ${right_disp_val}\n   \n  [TimeStepper]\n    type = ConstantDT\n    dt = ${dt_val}\n  []\n[]\n\nAnd I got it to solve, with J = 1 almost perfectly enforced everywhere:\n\n\n\n\nIt solved with both Q2/P1 and Q1/P0 elements.\nOther things I tried that helped a little but didn't solve it (and I took out)\n-setting a random node as a pressure BC\n-using a zero mean pressure constraint\n-adding a small perturbation term (similar to the Petrov-Galerkin method for incompressible fluids - this one improved convergence much more than the others but couldn't get past the saddle point issue)\nThanks for all your help!\nP.S. With #29895, automatic differentiation would make problems like this easier to implement.",
                          "url": "https://github.com/idaholab/moose/discussions/29939#discussioncomment-12300417",
                          "updatedAt": "2025-02-24T13:51:42Z",
                          "publishedAt": "2025-02-24T12:50:42Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "The phase field method simulates some problems with the release of fission gases",
          "author": {
            "login": "shin-chan-cpu"
          },
          "bodyText": "Dear MOOSE Community,\nRecently, I want to study how to simulate the release of fissile gas in grains with the phase field method, I saw an article on the Internet that mentions the simulation of fissile gas release with the MARMOT program, because it is closed-source I can't get it, but I would like to reproduce the simulation of this fissile gas release,   can you give me some guidance, such as the specific code that needs to be developed or the material module thing, thank you very much.\nMARMOT.pdf\nThis is the paper I saw.",
          "url": "https://github.com/idaholab/moose/discussions/29941",
          "updatedAt": "2025-02-24T07:51:36Z",
          "publishedAt": "2025-02-24T07:43:25Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": []
          }
        }
      },
      {
        "node": {
          "title": "Subgrain boundaries",
          "author": {
            "login": "Sabalei"
          },
          "bodyText": "",
          "url": "https://github.com/idaholab/moose/discussions/28898",
          "updatedAt": "2025-02-24T06:55:04Z",
          "publishedAt": "2024-10-21T14:33:11Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": []
          }
        }
      },
      {
        "node": {
          "title": "The new grains generated by nucleation do not grow further by storing deformation energy based on dislocation density evolution",
          "author": {
            "login": "Sabalei"
          },
          "bodyText": "Dear Moose users,\nI'm trying to simulate static recrystallization. I have inserted the nucleus through Direct order parameter modification.\n[Mesh]\n  [ebsd_mesh]\n    type = EBSDMeshGenerator\n    filename = 100_120x120.txt\n    pre_refine = 2\n  []\n[]\n\n[GlobalParams]\n  op_num = 8\n  var_name_base = gr\n  length_scale = 1.0e-6\n  time_scale = 1.0e-6\n[]\n\n[UserObjects]\n  [ebsd_reader]\n    type = EBSDReader\n  []\n  [ebsd]\n    type = PolycrystalEBSD\n    coloring_algorithm = jp\n    ebsd_reader = ebsd_reader\n    execute_on = 'INITIAL'\n  []\n  [grain_tracker]\n    type = GrainTracker\n    compute_var_to_feature_map = true\n    execute_on = 'INITIAL timestep_begin'\n    threshold = 0.1\n    reserve_op_threshold = 0.5\n    remap_grains = true\n    reserve_op = 1\n    tolerate_failure = true\n    connecting_threshold = 0.08\n  []\n  [inserter]\n    type = DiscreteNucleationInserter\n    hold_time = 0\n    probability = p\n    seed = 1014\n    radius = 0.5\n    time_dependent_statistics = false\n  []\n  [map]\n    type = DiscreteNucleationMap\n    periodic = 'gr7'\n    inserter = inserter\n    int_width = 0.6\n  []\n[]\n\n[Kernels]\n  [PolycrystalKernel]\n  []\n  [force]\n    type = DiscreteNucleationForce\n    variable = 'gr7'\n    map = map\n    no_nucleus_value = 0\n    nucleus_value = 1\n  []\n  [reaction]\n    type = Reaction\n    variable = 'gr7'\n  []\n  [PolycrystalStoredEnergyAction]\n  []\n[]\n\nHowever, the new grains generated by nucleation do not grow further based on the stored deformation energy of the dislocation density evolution. I would really appreciate guidance on possible strategies to tackle this problem.",
          "url": "https://github.com/idaholab/moose/discussions/29723",
          "updatedAt": "2025-02-24T06:53:53Z",
          "publishedAt": "2025-01-22T09:13:08Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@laagesen @amjokisaari",
                  "url": "https://github.com/idaholab/moose/discussions/29723#discussioncomment-11952009",
                  "updatedAt": "2025-01-25T14:15:28Z",
                  "publishedAt": "2025-01-25T14:15:27Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "laagesen"
                  },
                  "bodyText": "Sorry I am not really familiar with this system, maybe @SudiptaBiswas might know?",
                  "url": "https://github.com/idaholab/moose/discussions/29723#discussioncomment-11989782",
                  "updatedAt": "2025-01-28T22:57:27Z",
                  "publishedAt": "2025-01-28T22:57:27Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "what is this representing?\n  [reaction]\n    type = Reaction\n    variable = 'gr7'\n  []\n\nit will limit the growth of these new grains",
                  "url": "https://github.com/idaholab/moose/discussions/29723#discussioncomment-12291893",
                  "updatedAt": "2025-02-23T14:13:52Z",
                  "publishedAt": "2025-02-23T14:13:51Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Sabalei"
                          },
                          "bodyText": "Thank you. The problem was caused by incorrect coding in the stored dislocation energy kernel. It has been successfully resolved.\n\nwhat is this representing?\n  [reaction]\n    type = Reaction\n    variable = 'gr7'\n  []\n\nit will limit the growth of these new grains\n\nThis kernel does not affect the growth of new grains.",
                          "url": "https://github.com/idaholab/moose/discussions/29723#discussioncomment-12296894",
                          "updatedAt": "2025-02-24T06:53:09Z",
                          "publishedAt": "2025-02-24T06:51:55Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Defining a subdomain with constant properties",
          "author": {
            "login": "AmbroiseJuston"
          },
          "bodyText": "I need to define a type of subdomain that acts as a region of constant properties that is not affected by the kernals. In the picture i have attached it shows what i am looking to do. Currently I am using the RndBoundingBoxIC function to crease the regions of randomized values withing my specified range. What i want add is a region at the top and bottom, in a similar way to how RndBoundingBoxIC works.\nMy question is it possible to stack RndBoundingBoxIC or is there a way initialize the IC as shown in the figure i have sent. It is also important that the region shown in red/blue in the figure is the same with and without the top and bottom pieces so to compare the effects. Those regions are to act as a type of electrical terminal, where in this case c is conductivity.\nIf it possible to make it that the c=1 region is not effected by any of the physics of the simulation and stays at c = 1 for all time \"t\" then that would ne even more useful\nExample code of how i am defining the ICs without the top and bottom c=1 regions:\n[./concentrationIC]\ntype = RndBoundingBoxIC\nvariable = c\nx1 = 10\ny1 = 0\nx2 = 30\ny2 = 10\nmx_invalue = 1\nmn_invalue = 0\nmx_outvalue = 0.3\nmn_outvalue = 0.0\n[../]",
          "url": "https://github.com/idaholab/moose/discussions/29890",
          "updatedAt": "2025-02-23T14:32:04Z",
          "publishedAt": "2025-02-15T21:00:41Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nSo are you planning to solve equations on these domains?\nYou can define these simple domains using the ParsedGenerateSubdoamin for example, a mesh generator that goes in your mesh block",
                  "url": "https://github.com/idaholab/moose/discussions/29890#discussioncomment-12212103",
                  "updatedAt": "2025-02-15T22:00:52Z",
                  "publishedAt": "2025-02-15T22:00:31Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "AmbroiseJuston"
                          },
                          "bodyText": "Yes ideally i would like to solve the same equations as the central (red/blue) region. I did notice the ParsedGenerateSubdoamin function but my main question is how i would then create the ICs for this subdomain as shown in the figure. To my understanding ParsedGenerateSubdoamin only defines the mesh in those regions unless the \"constant_expressions\"  parameter is what takes care of thus. Will RndBoundingBoxIC override the ICs of that subdomain? How am I able to create the regions of difference ICs as shown in the figure?\nAs a secondary question will the inclusion of this subdomain then influence the distribution of the random values from RndBoundingBoxIC? Idealy i would like to compare the solutions with an without the top and bottom regions.",
                          "url": "https://github.com/idaholab/moose/discussions/29890#discussioncomment-12253642",
                          "updatedAt": "2025-02-19T18:33:07Z",
                          "publishedAt": "2025-02-19T18:33:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ICs for this subdomain as shown in the figure\n\nICs can be block-restricted using the block parameter.\n\nWill RndBoundingBoxIC override the ICs of that subdomain? How am I able to create the regions of difference ICs as shown in the figure?\n\nIf it supports block restrictions, then no it should not as long as its block restriction does not include the other subdomains\n\nHow am I able to create the regions of difference ICs as shown in the figure?\n\nmultiple ICs objects with different block restrictions\n\nthen influence the distribution of the random values from RndBoundingBoxIC?\n\ngood question. I dont imagine so but please check",
                          "url": "https://github.com/idaholab/moose/discussions/29890#discussioncomment-12254895",
                          "updatedAt": "2025-02-19T20:44:28Z",
                          "publishedAt": "2025-02-19T20:44:16Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "AmbroiseJuston"
                          },
                          "bodyText": "Thank you very much. I will double check this randomized value. I guess i must have missed the block restriction part of the ICs so thank you and i apologize for the trouble.\nOn the subject of randomized ICs, do you know what nodes it propagates to first? does it go through all x, then all y, then all z or does it follow a different assignment priority for seeded randomized values?",
                          "url": "https://github.com/idaholab/moose/discussions/29890#discussioncomment-12256043",
                          "updatedAt": "2025-02-19T23:19:55Z",
                          "publishedAt": "2025-02-19T23:19:55Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "that depends on the ordering of the nodes in the mesh. you can look at the id field in paraview to see how your mesh is ordered",
                          "url": "https://github.com/idaholab/moose/discussions/29890#discussioncomment-12256077",
                          "updatedAt": "2025-02-19T23:27:25Z",
                          "publishedAt": "2025-02-19T23:27:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "AmbroiseJuston"
                          },
                          "bodyText": "Thank you, i will look at them. One last part. If i wanted the id of the mesh within the central region to remain constant is there a way to edit the id field? Is the id field numbering based on spacial position or when it is generated?",
                          "url": "https://github.com/idaholab/moose/discussions/29890#discussioncomment-12271221",
                          "updatedAt": "2025-02-21T03:50:31Z",
                          "publishedAt": "2025-02-21T03:50:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "One last part. If i wanted the id of the mesh within the central region to remain constant is there a way to edit the id field?\n\nthe element and node ids cannot be kept constant. However you can use subdomains or extra-element-integer-ids to label a certain area in your mesh. Subdomains can be added from any meshing tools. EEIDs can be added to exodus files but you ll need to set an extra parameter in the FIleMeshGenerator to read them. Then your objects can be set to have specific behavior for a certain value of the subdomain or the EEID\n\nIs the id field numbering based on spacial position or when it is generated?\n\nIt's determined at generation time, when elements are added to the mesh they are numbered",
                          "url": "https://github.com/idaholab/moose/discussions/29890#discussioncomment-12292009",
                          "updatedAt": "2025-02-23T14:32:05Z",
                          "publishedAt": "2025-02-23T14:32:04Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Reduced advection with new mesh",
          "author": {
            "login": "julianseb"
          },
          "bodyText": "Hello everyone,\nthis is more or less in continuation of #29720.\nI have two groundcables i simulate like heat pipes in the ground. I have three blocks, the ground (boden), the bedding (bettung), and the open water body (wasser). I have a gradient from left to right, implemented by the pore pressure. An i want to simulate the influence of the heat from ground cables on the open water body. I use mainly PorousFlow and a bit of the heat transfer module.\nSo after the coupling worked out i tried implementing a bedding material block, also with the same dictator and everything.\nThis is my modell and mesh:\n\n\nI used Gmsh to create the mesh.\nWhen i implemented the new block, suddenly my heat advection around the cable became less. Eventhoug i gave it the same properties as the sorrounding block/the ground.\n\nThere is still minimal heat advection to the right, but very limited.\n\nSo i thought it is because of extra material properties i assigned to the block, so i included the bedding and the ground block in the same material but to no avail. It looks exactly the same.\nWhen i excluded the bedding from the mesh and only had the ground and water body, the advection resumed.\n\n\nI know my initial pressure conditions are a bit of a mess, but i wanted to get all blocks working before i got to that. But it still worked for the modell without the bedding, so i think that is not the reason.\nThe flow velocitys are also nearly identical.\nWithout the bedding:\n\nWith the Bedding and in the same material:\n\nWith the bedding and different materials:\n\nSo im a bit clueless. Could it be the mesh?\nI've attached all my input and mesh files:\ncurrent_state.zip\nMesh with bedding (modell.msh/.geo) and without (modell2.msh/.geo).\nI've uploaded my output here: https://tubcloud.tu-berlin.de/s/6s22JRgz3ScCTWJ\nThanks in advance.",
          "url": "https://github.com/idaholab/moose/discussions/29818",
          "updatedAt": "2025-02-21T20:32:21Z",
          "publishedAt": "2025-02-06T09:11:36Z",
          "category": {
            "name": "Q&A Modules: Porous Flow"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "So im a bit clueless. Could it be the mesh?\n\nyou can rename the block for the bedding to be \"ground\", using this\nhttps://mooseframework.inl.gov/source/meshgenerators/RenameBlockGenerator.html\nthen the mesh is the only difference between the two simulations.\nThe meshes are clean for diagnostics rigth?\nhttps://mooseframework.inl.gov/source/meshgenerators/MeshDiagnosticsGenerator.html",
                  "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12084416",
                  "updatedAt": "2025-02-06T16:50:55Z",
                  "publishedAt": "2025-02-06T16:50:54Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "julianseb"
                          },
                          "bodyText": "Thanks for your reply. Sorry for my late answer.\nWhen i renamed it, it was the same.\nI changed the mesh to fit my pressure profile and i think there is now no heat transport at al. Also the solve is running from the 5th timestep on only with one iteration and solves directly.\n\nAt the last timestep:\n\nTime Step 4, time = 150, dt = 80\n    |residual|_2 of individual variables:\n                temperature: 1.65766e-08\n                pp:          2.94751e-06\n                gp:          4.46607e-08\n 0 Nonlinear |R| = 2.947898e-06\n\n    Computing Jacobian                                                                   [  5.55 s] [  375 MB]\n      0 Linear |R| = 2.947898e-06\n      1 Linear |R| = 1.147116e-10\n      2 Linear |R| = 4.558354e-12\n    |residual|_2 of individual variables:\n                temperature: 4.9184e-10\n                pp:          8.52438e-08\n                gp:          4.87129e-09\n 1 Nonlinear |R| = 8.538430e-08\n Solve Converged!\n  Finished Solving                                                                       [ 13.36 s] [  375 MB]\n\nOutlier Variable Residual Norms:\n  pp: 8.524381e-08\n\nTime Step 5, time = 310, dt = 160\n    |residual|_2 of individual variables:\n                temperature: 1.18577e-08\n                pp:          1.91113e-06\n                gp:          3.08385e-08\n 0 Nonlinear |R| = 1.911411e-06\n Solve Converged!\n\nOutlier Variable Residual Norms:\n  pp: 1.911126e-06\n\nTime Step 6, time = 630, dt = 320\n    |residual|_2 of individual variables:\n                temperature: 1.34314e-08\n                pp:          1.91113e-06\n                gp:          3.08385e-08\n 0 Nonlinear |R| = 1.911422e-06\n Solve Converged!\n\nOutlier Variable Residual Norms:\n  pp: 1.911126e-06\n\n...\n\nTime Step 27, time = 1.34218e+09, dt = 6.71089e+08\n    |residual|_2 of individual variables:\n                temperature: 1.86477e-07\n                pp:          1.91216e-06\n                gp:          3.08385e-08\n 0 Nonlinear |R| = 1.921475e-06\n Solve Converged!\n\nOutlier Variable Residual Norms:\n  pp: 1.912156e-06\n\nTime Step 28, time = 1.5768e+09, dt = 2.34623e+08\n    |residual|_2 of individual variables:\n                temperature: 1.86477e-07\n                pp:          1.91216e-06\n                gp:          3.08385e-08\n 0 Nonlinear |R| = 1.921475e-06\n Solve Converged!\n\nOutlier Variable Residual Norms:\n  pp: 1.912156e-06\nFinished Executing                                                                       [208.23 s] [  375 MB]\n\nI've named the three parts of the bedding border differently, because i thought there might only be one problem and implementet the mesh diagnostics and there seems to be something wrong with all three and the border between the waterbody and the ground (the line is called grund with id: 30):\n*** Info ***\nSideset kabel (18) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset kabel (18) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset oben (19) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset oben (19) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset wasserspiegel (20) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset wasserspiegel (20) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset rechts (21) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset rechts (21) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset links (22) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset links (22) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset unten (23) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset unten (23) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Warning ***\n/home/julian.munz@anggeo.tu-berlin.de/projects/konzept/msh_test.i:6.3:\nThe following warning occurred in the MeshGenerator 'check' of type MeshDiagnosticsGenerator.\n\nInconsistent orientation of sideset bettung_unten (27) with regards to subdomain pairs [boden (24), bettung (25)] [bettung (25), boden (24)]\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6504 and side 2 of neighbor element 14946\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6505 and side 2 of neighbor element 14244\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6506 and side 2 of neighbor element 18685\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6507 and side 2 of neighbor element 14452\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6508 and side 2 of neighbor element 14930\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6509 and side 2 of neighbor element 14520\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6510 and side 2 of neighbor element 14403\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6511 and side 2 of neighbor element 14076\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6512 and side 2 of neighbor element 14906\nSide normals changed by more than pi/2 for sideset bettung_unten (27) between side 2 of element 6515 and side 2 of neighbor element 18100\nMaximum output reached for sideset normal flipping check. Silencing output from now on\n\n\n*** Warning ***\n/home/julian.munz@anggeo.tu-berlin.de/projects/konzept/msh_test.i:6.3:\nThe following warning occurred in the MeshGenerator 'check' of type MeshDiagnosticsGenerator.\n\nSideset bettung_unten (27) has two neighboring sides with a very large angle. Largest angle detected: 1.000000 rad.\n\n\n*** Warning ***\n/home/julian.munz@anggeo.tu-berlin.de/projects/konzept/msh_test.i:6.3:\nThe following warning occurred in the MeshGenerator 'check' of type MeshDiagnosticsGenerator.\n\nInconsistent orientation of sideset bettung_rechts (28) with regards to subdomain pairs [boden (24), bettung (25)] [bettung (25), boden (24)]\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 106 and side 2 of neighbor element 19923\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 927 and side 2 of neighbor element 14262\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 942 and side 2 of neighbor element 12831\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 1624 and side 2 of neighbor element 13492\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 1724 and side 2 of neighbor element 13883\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 2778 and side 2 of neighbor element 15779\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 3375 and side 2 of neighbor element 15227\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 5197 and side 2 of neighbor element 14200\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 5730 and side 2 of neighbor element 16179\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 5747 and side 2 of neighbor element 19063\nMaximum output reached for sideset normal flipping check. Silencing output from now on\n\n\n*** Warning ***\n/home/julian.munz@anggeo.tu-berlin.de/projects/konzept/msh_test.i:6.3:\nThe following warning occurred in the MeshGenerator 'check' of type MeshDiagnosticsGenerator.\n\nSideset bettung_rechts (28) has two neighboring sides with a very large angle. Largest angle detected: nan rad.\n\n\n*** Warning ***\n/home/julian.munz@anggeo.tu-berlin.de/projects/konzept/msh_test.i:6.3:\nThe following warning occurred in the MeshGenerator 'check' of type MeshDiagnosticsGenerator.\n\nInconsistent orientation of sideset bettung_links (29) with regards to subdomain pairs [boden (24), bettung (25)] [bettung (25), boden (24)]\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 12 and side 2 of neighbor element 18138\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 738 and side 2 of neighbor element 13999\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 1011 and side 2 of neighbor element 13312\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 1075 and side 2 of neighbor element 14790\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 1301 and side 2 of neighbor element 14031\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 2533 and side 2 of neighbor element 13863\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 2822 and side 2 of neighbor element 14442\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 5754 and side 2 of neighbor element 13928\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 5771 and side 2 of neighbor element 14988\nSide normals changed by more than pi/2 for sideset bettung_links (29) between side 2 of element 5791 and side 2 of neighbor element 12821\nMaximum output reached for sideset normal flipping check. Silencing output from now on\n\n\n*** Warning ***\n/home/julian.munz@anggeo.tu-berlin.de/projects/konzept/msh_test.i:6.3:\nThe following warning occurred in the MeshGenerator 'check' of type MeshDiagnosticsGenerator.\n\nSideset bettung_links (29) has two neighboring sides with a very large angle. Largest angle detected: nan rad.\n\n\n*** Warning ***\n/home/julian.munz@anggeo.tu-berlin.de/projects/konzept/msh_test.i:6.3:\nThe following warning occurred in the MeshGenerator 'check' of type MeshDiagnosticsGenerator.\n\nInconsistent orientation of sideset grund (30) with regards to subdomain pairs [boden (24), wasser (26)] [wasser (26), boden (24)]\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 703 and side 2 of neighbor element 11691\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 951 and side 2 of neighbor element 10996\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 1101 and side 2 of neighbor element 11115\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 1892 and side 2 of neighbor element 11383\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 2006 and side 2 of neighbor element 11313\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 2007 and side 2 of neighbor element 10984\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 2326 and side 2 of neighbor element 11379\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 2593 and side 2 of neighbor element 11169\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 2961 and side 2 of neighbor element 11192\nSide normals changed by more than pi/2 for sideset grund (30) between side 2 of element 3289 and side 2 of neighbor element 11406\nMaximum output reached for sideset normal flipping check. Silencing output from now on\n\n\n*** Warning ***\n/home/julian.munz@anggeo.tu-berlin.de/projects/konzept/msh_test.i:6.3:\nThe following warning occurred in the MeshGenerator 'check' of type MeshDiagnosticsGenerator.\n\nSideset grund (30) has two neighboring sides with a very large angle. Largest angle detected: 3.141593 rad.\n\n\n*** Info ***\nNumber of elements below prescribed minimum volume : 0\n\n\n*** Info ***\nNumber of elements with negative volume : 0\n\n\n*** Info ***\nNumber of elements above prescribed maximum volume : 0\nElement type in subdomain boden (24) : TRI3\nElement type in subdomain bettung (25) : TRI3\nElement type in subdomain wasser (26) : TRI3\n\n\n*** Info ***\nNumber of elements overlapping (node-based heuristics): 0\n\n\n*** Info ***\nNumber of elements overlapping (centroid-based heuristics): 0\n\n\n*** Info ***\nNumber of non-planar element sides detected: 0\n\n\n*** Info ***\nNumber of non-conformal nodes: 0\n\n\n*** Info ***\nNumber of non-conformal nodes likely due to mesh refinement detected by heuristic: 0\n\n\n*** Info ***\nNumber of elements with a negative Jacobian: 0\n\n\n*** Info ***\nNumber of element sides with negative Jacobians: 0\n\n\nI've also added the ElementQualityAux in case that would give some hint:\n\n\n\n\nI've added my current state here:\ncurrent_state.zip\nAnd the exodus output here: https://tubcloud.tu-berlin.de/s/z7JDZCXjCjip8Hp",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12217421",
                          "updatedAt": "2025-02-16T20:12:59Z",
                          "publishedAt": "2025-02-16T20:12:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "The hint for the problem is here\n\nInconsistent orientation of sideset bettung_unten (27) with regards to subdomain pairs [boden (24), bettung (25)] [bettung (25), boden (24)]\n\n\nSide normals changed by more than pi/2 for sideset bettung_rechts (28) between side 2 of element 106 and side 2 of neighbor element 19923\n\nthe sideset is oriented both ways.\nYou will need to regenerate and make sure it is pointing from one subdomain to another consistently.\nYou can re-generate it in MOOSE by first deleting it then using the SidesetsBEtweenSubdomainGenerator\nalternatively, you can use the ParsedGenerateSideset to generate a correct one from the wrong one by specifying the subdomain from which the sides should start",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12220472",
                          "updatedAt": "2025-02-17T06:07:20Z",
                          "publishedAt": "2025-02-17T06:07:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "julianseb"
                          },
                          "bodyText": "So i tried it with the SideSetsBetweenSubdomainsGenerator.\nThis is my mesh block now:\n[Mesh]\n  [mesh]\n    type = FileMeshGenerator\n    file = mesh2.msh\n  []   \n  [check]\n    type = MeshDiagnosticsGenerator\n    input = grund\n    check_local_jacobian = WARNING\n    examine_element_overlap = WARNING\n    examine_element_types = WARNING\n    examine_element_volumes = WARNING\n    examine_non_conformality = WARNING\n    examine_nonplanar_sides = WARNING\n    examine_sidesets_orientation = WARNING\n    search_for_adaptivity_nonconformality = WARNING\n    []    \n\t[bettung_unten]\n\t\ttype = SideSetsBetweenSubdomainsGenerator\n\t\tinput = mesh\n\t\tnew_boundary = bettung_unten\n\t\tprimary_block = boden\n\t\tpaired_block = bettung\n\t[]\n\t[grund]\n\t\ttype = SideSetsBetweenSubdomainsGenerator\n\t\tinput = bettung_unten\n\t\tnew_boundary = grund\n\t\tprimary_block = boden\n\t\tpaired_block = wasser\n\t[]\t\n[]\n\nand I don't get any warnings anymore:\n\n*** Info ***\nSideset kabel (18) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset kabel (18) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset oben (19) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset oben (19) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset wasserspiegel (20) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset wasserspiegel (20) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset rechts (21) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset rechts (21) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset links (22) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset links (22) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset unten (23) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset unten (23) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset bettung_unten (24) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset bettung_unten (24) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nSideset grund (25) is consistently oriented with regards to the blocks it neighbors\n\n\n*** Info ***\nSideset grund (25) does not appear to have side-to-neighbor-side orientation flips. All neighbor sides normal differ by less than pi/2\n\n\n*** Info ***\nNumber of elements below prescribed minimum volume : 0\n\n\n*** Info ***\nNumber of elements with negative volume : 0\n\n\n*** Info ***\nNumber of elements above prescribed maximum volume : 0\nElement type in subdomain boden (24) : TRI3\nElement type in subdomain bettung (25) : TRI3\nElement type in subdomain wasser (26) : TRI3\n\n\n*** Info ***\nNumber of elements overlapping (node-based heuristics): 0\n\n\n*** Info ***\nNumber of elements overlapping (centroid-based heuristics): 0\n\n\n*** Info ***\nNumber of non-planar element sides detected: 0\n\n\n*** Info ***\nNumber of non-conformal nodes: 0\n\n\n*** Info ***\nNumber of non-conformal nodes likely due to mesh refinement detected by heuristic: 0\n\n\n*** Info ***\nNumber of elements with a negative Jacobian: 0\n\n\n*** Info ***\nNumber of element sides with negative Jacobians: 0\n\nBut unfortunately there is still no heat transfer (this is at endtime):\n\nWhat struck out to me was this message, that i don't remeber showing up before:\n[0] ../src/geom/elem.C, line 1810, compiled Sep  6 2024 at 14:21:31\nERROR: quality metric SIZE not implemented on element type TRI3\nReturning 1.\n\nBut it seems to me that this only regards to the ElementQualityAux.\nSo there seems to be more than only the mesh to be wrong with my input. Do you have any other suggestions?\nThis is my current state:\nccurrent_state.zip",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12229294",
                          "updatedAt": "2025-02-17T21:12:19Z",
                          "publishedAt": "2025-02-17T21:12:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "But it seems to me that this only regards to the ElementQualityAux.\n\nyes just remove this ElementQualityAux it does not help your simulation. We could error in nicer ways here",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12229318",
                          "updatedAt": "2025-02-17T21:15:20Z",
                          "publishedAt": "2025-02-17T21:15:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "can you send the input file without using a zip file? zips are not trusted",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12229327",
                          "updatedAt": "2025-02-17T21:15:59Z",
                          "publishedAt": "2025-02-17T21:15:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "julianseb"
                          },
                          "bodyText": "Yes, of course.\nI've also uploaded everything here, if that is better.\nhttps://tubcloud.tu-berlin.de/s/z7JDZCXjCjip8Hp\n[Mesh]\n  [mesh]\n    type = FileMeshGenerator\n    file = mesh.msh\n  []   \n  [check]\n    type = MeshDiagnosticsGenerator\n    input = grund\n    check_local_jacobian = WARNING\n    examine_element_overlap = WARNING\n    examine_element_types = WARNING\n    examine_element_volumes = WARNING\n    examine_non_conformality = WARNING\n    examine_nonplanar_sides = WARNING\n    examine_sidesets_orientation = WARNING\n    search_for_adaptivity_nonconformality = WARNING\n    []    \n\t[bettung_unten]\n\t\ttype = SideSetsBetweenSubdomainsGenerator\n\t\tinput = mesh\n\t\tnew_boundary = bettung_unten\n\t\tprimary_block = boden\n\t\tpaired_block = bettung\n\t[]\n\t[grund]\n\t\ttype = SideSetsBetweenSubdomainsGenerator\n\t\tinput = bettung_unten\n\t\tnew_boundary = grund\n\t\tprimary_block = boden\n\t\tpaired_block = wasser\n\t[]\t\n[]\n\n[GlobalParams]\n  gravity = '0 -9.8065 0'\n[]\n\n[Variables]\n  [temperature]\n    initial_condition = 293.15\n  []\n  [pp]\n  []\n  [gp]\n  []\n[]\n\n\n[ICs]\n  [InitialConditionBoden]\n    type = FunctionIC\n    variable = pp\n    function = gradient\n    block = 'boden bettung'\n  []\n  [ICDampf]\n    type = ConstantIC\n    value = 101325\n    variable = gp\n    block = 'boden bettung wasser'\n  []\n  [InitialConditionWasser]\n    type = FunctionIC\n    variable = pp\n    function = wasser\n    block = 'wasser'\n  []\n[]\n\n[Functions]\n  [gradient]\n    type = ParsedFunction\n    symbol_names = 'rho g gradient left_head'\n    symbol_values = '1000 9.8065 0.1 11.5'\n    expression = '101325 + (left_head-y-(x*gradient))*(g*rho)'\n  []\n  [t_kabel]\n      type = ParsedFunction\n      expression = 'if(t <= 14400, (293.15 + (363.15 - 293.15) * t / 14400), 363.15)'\n  []\n  [wasser]\n    type = ParsedFunction\n    symbol_names = 'rho g left_head'\n    symbol_values = '1000 9.8065 10'\n    expression = '101325 + (left_head-y)*(g*rho)'\n  []\n[]\n\n[BCs]\n    [flow]\n      type = FunctionDirichletBC\n      function = gradient      \n      variable = 'pp'\n      boundary = 'rechts links unten'\n    []\n    [outflow_gp]\n      type = PorousFlowOutflowBC \n      flux_type = fluid\n      variable = 'gp'\n      boundary = 'rechts'\n      PorousFlowDictator = dictator_boden\n      mass_fraction_component = 1\n    []\n    [top]\n      type = DirichletBC\n      boundary = 'oben wasserspiegel'\n      value = 101325\n      variable = 'gp'\n    []\n    [top_wasserspiegel]\n      type = FunctionDirichletBC\n      variable = pp\n      boundary = wasserspiegel\n      function = wasser\n    []\n    [temp_kabel]\n      type = FunctionDirichletBC\n      boundary = 'kabel'\n      function = t_kabel\n      variable = temperature\n    []\n    [temp_out]\n      type = PorousFlowOutflowBC\n      PorousFlowDictator = dictator_boden\n      boundary = 'rechts oben'\n      variable = temperature\n      flux_type = heat\n    []\n    [temp_in]\n      type = DirichletBC\n      boundary = links\n      value = 293.15\n      variable = temperature\n    []\n    [temp_unten]\n      type = ADConvectiveHeatFluxBC\n      T_infinity = 293.15\n      boundary = 'unten rechts'\n      heat_transfer_coefficient = 20\n      variable = temperature\n    []\n    [temp_atm]\n      type = DirichletBC\n      boundary = 'oben wasserspiegel'\n      variable = temperature\n      value = 293.15\n    []\n[]\n\n[Kernels]\n  [temperature_dt]\n    type = PorousFlowEnergyTimeDerivative\n    variable = temperature\n    PorousFlowDictator = dictator_boden\n  []\n  [advectionT]\n    type = PorousFlowHeatAdvection\n    variable = temperature\n    PorousFlowDictator = dictator_boden\n  []\n  [conductionT]\n    type = PorousFlowHeatConduction\n    variable = temperature\n    PorousFlowDictator = dictator_boden\n  []\n  [pressure_dt_pp]\n    type = PorousFlowMassTimeDerivative\n    variable = pp\n    PorousFlowDictator = dictator_boden\n    fluid_component = 0\n  []\n  [pressure_dt]\n    type = PorousFlowMassTimeDerivative\n    variable = gp\n    PorousFlowDictator = dictator_boden\n    fluid_component = 1\n  []\n  [pp_disp_boden]\n    type = PorousFlowDispersiveFlux\n    disp_long = '1E-4 1E-4'\n    disp_trans = '1E-5 1E-5'\n    fluid_component = 0\n    block = 'boden'\n    variable = pp\n    PorousFlowDictator = dictator_boden\n  []\n  [gp_disp_boden]\n    type = PorousFlowDispersiveFlux\n    disp_long = '5E-4 5E-4'\n    disp_trans = '5E-5 5E-5'\n    fluid_component = 1\n    block = 'boden'\n    variable = gp\n    PorousFlowDictator = dictator_boden\n  []\n  [pp_advective]\n    type = PorousFlowAdvectiveFlux\n    variable = pp\n    PorousFlowDictator = dictator_boden\n    fluid_component = 0\n  []\n  [gp_advective]\n    type = PorousFlowAdvectiveFlux\n    variable = gp\n    PorousFlowDictator = dictator_boden\n    fluid_component = 1\n  []\n  [pp_disp_wasser]\n    type = PorousFlowDispersiveFlux\n    disp_long = '1E-6 1E-6'\n    disp_trans = '1E-7 1E-7'\n    block = 'wasser'\n    variable = pp\n    fluid_component = 0\n    PorousFlowDictator = dictator_boden\n  []\n  [gp_disp_wasser]\n    type = PorousFlowDispersiveFlux\n    disp_long = '5E-4 5E-4'\n    disp_trans = '5E-5 5E-5'\n    fluid_component = 1\n    block = 'wasser'\n    variable = gp\n    PorousFlowDictator = dictator_boden\n  []\n  [pp_disp_bettung]\n    type = PorousFlowDispersiveFlux\n    disp_long = '1E-4 1E-4'\n    disp_trans = '1E-5 1E-5'\n    fluid_component = 0\n    block = 'bettung'\n    variable = pp\n    PorousFlowDictator = dictator_boden\n  []\n  [gp_disp_bettung]\n    type = PorousFlowDispersiveFlux\n    disp_long = '5E-4 5E-4'\n    disp_trans = '5E-5 5E-5'\n    fluid_component = 1\n    block = 'bettung'\n    variable = gp\n    PorousFlowDictator = dictator_boden\n  []\n[]\n\n[AuxVariables]\n  [darcy_x_p0]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [darcy_y_p0]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [darcy_x_p1]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [darcy_y_p1]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [sat_p0]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [sat_p1]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [cp]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [vis]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [density]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [quality_max_angle]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [quality_shape]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [quality_jacobian]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [quality_size]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n[]\n\n[AuxKernels]\n  [d_v_x_boden_p0]\n    type = PorousFlowDarcyVelocityComponent\n    component = x\n    variable = darcy_x_p0\n    execute_on = 'INITIAL TIMESTEP_END'\n    PorousFlowDictator = dictator_boden\n    fluid_phase = 0\n  []\n  [d_v_y_boden_p0]\n    type = PorousFlowDarcyVelocityComponent\n    component = y\n    variable = darcy_y_p0\n    execute_on = 'INITIAL TIMESTEP_END'\n    PorousFlowDictator = dictator_boden\n    fluid_phase = 0\n  []\n  [d_v_x_boden_p1]\n    type = PorousFlowDarcyVelocityComponent\n    component = x\n    variable = darcy_x_p1\n    execute_on = 'INITIAL TIMESTEP_END'\n    PorousFlowDictator = dictator_boden\n    fluid_phase = 1\n  []\n  [d_v_y_boden_p1]\n    type = PorousFlowDarcyVelocityComponent\n    component = y\n    variable = darcy_y_p1\n    execute_on = 'INITIAL TIMESTEP_END'\n    PorousFlowDictator = dictator_boden\n    fluid_phase = 1\n  []\n  [saturation_boden_p0]\n    type = PorousFlowPropertyAux\n    variable = sat_p0\n    property = saturation\n    execute_on = 'INITIAL TIMESTEP_END'\n    PorousFlowDictator = dictator_boden\n    phase = 0\n  []\n  [saturation_boden_p1]\n    type = PorousFlowPropertyAux\n    variable = sat_p1\n    property = saturation\n    execute_on = 'INITIAL TIMESTEP_END'\n    PorousFlowDictator = dictator_boden\n    phase = 1\n  []\n  [capillary_pressure]\n    type = PorousFlowPropertyAux\n    property = capillary_pressure\n    variable = cp\n    block = 'boden'\n    execute_on = 'LINEAR TIMESTEP_END'\n    PorousFlowDictator = dictator_boden\n    liquid_phase = 0\n  []\n  [viscosity_boden]\n    type = PorousFlowPropertyAux\n    variable = vis\n    property = viscosity\n    execute_on = 'LINEAR TIMESTEP_END'\n    PorousFlowDictator = dictator_boden\n  []\n  [density_boden]\n    type = PorousFlowPropertyAux\n    variable = density\n    property = density\n    execute_on = 'LINEAR TIMESTEP_END'\n    PorousFlowDictator = dictator_boden\n  []\n  [quality_max_angle]\n    type = ElementQualityAux\n    metric = MAX_ANGLE\n    variable = quality_max_angle\n  []\n  [quality_shape]\n    type = ElementQualityAux\n    metric = SHAPE\n    variable = quality_shape\n  [] \n  [quality_jacobian]\n    type = ElementQualityAux\n    metric = JACOBIAN\n    variable = quality_jacobian\n  [] \n[]\n\n[FluidProperties]\n  [wasser]\n    type = Water97FluidProperties\n  []\n  [dampf]\n    type = NitrogenFluidProperties\n  []\n  [dampf_tabulated]\n    type = TabulatedBicubicFluidProperties\n    fp = dampf\n    interpolated_properties = 'density enthalpy internal_energy viscosity k c cv cp'\n    construct_pT_from_ve = false\n    construct_pT_from_vh = false\n    temperature_min = 274\n    temperature_max = 400\n    pressure_min = 12523\n    pressure_max = 3e6\n    tolerance = 1e-8\n    T_initial_guess = 293.15\n    p_initial_guess = 1e5\n  []\n[]\n\n\n\n[Materials]\n    [internal_energy_boden]\n      type = PorousFlowMatrixInternalEnergy\n      density = 2600\n      specific_heat_capacity = 1000\n      block = 'boden'\n      PorousFlowDictator = dictator_boden\n    []\n    [thermal_conductivity_boden]\n      type = PorousFlowThermalConductivityIdeal\n      dry_thermal_conductivity = '0.4 0 0  0 0.4 0 0 0 0.4'\n      wet_thermal_conductivity = '1 0 0    0 1 0   0 0 1'\n      block = 'boden'\n      PorousFlowDictator = dictator_boden\n    []\n    [porosity_boden]\n      type = PorousFlowPorosityConst\n      porosity = 0.3\n      block = 'boden'\n      PorousFlowDictator = dictator_boden\n    []\n    [permeablity_boden]\n      type = PorousFlowPermeabilityConst\n      block = 'boden'\n      permeability = '1E-12 0 0    0 1E-12 0    0 0 1E-12'\n      PorousFlowDictator = dictator_boden\n    []\n    [fluid]\n      type = PorousFlowSingleComponentFluid\n      fp = 'wasser'\n      phase = 0\n      PorousFlowDictator = dictator_boden\n    []\n    [dampf]\n      type = PorousFlowSingleComponentFluid\n      fp = 'dampf_tabulated'\n      phase = 1\n      PorousFlowDictator = dictator_boden\n    []\n    [temperature_qp_boden]\n      type = PorousFlowTemperature\n      temperature = temperature\n      PorousFlowDictator = dictator_boden\n    []\n    [saturation_calculator_boden]\n      type = PorousFlow2PhasePP\n      PorousFlowDictator = dictator_boden\n      phase0_porepressure = pp\n      phase1_porepressure = gp\n      capillary_pressure = capillary_pressure_boden\n      block = 'boden'\n    []\n    [relperm_boden_dampf]\n      type = PorousFlowRelativePermeabilityCorey\n      n = 2\n      phase = 1\n      block = 'boden'\n      PorousFlowDictator = dictator_boden\n    []\n    [relperm_boden_fluid]\n      type = PorousFlowRelativePermeabilityCorey\n      n = 2\n      s_res = 0.1\n      sum_s_res = 0.1\n      phase = 0\n      block = 'boden'\n      PorousFlowDictator = dictator_boden\n    []\n    [mass_frac_boden]\n      type = PorousFlowMassFraction\n      PorousFlowDictator = dictator_boden\n      block = 'boden'\n      mass_fraction_vars = '1 0'\n    []\n    [diff_boden]\n      type = PorousFlowDiffusivityConst\n      diffusion_coeff = '1E-6 1E-5 1E-6 1E-5'\n      tortuosity = '0.5 0.5'\n      block = 'boden'\n      PorousFlowDictator = dictator_boden\n    []\n    [internal_energy_wasser]\n      type = PorousFlowMatrixInternalEnergy\n      density = 1000\n      specific_heat_capacity = 4200\n      block = 'wasser'\n      PorousFlowDictator = dictator_boden\n    []\n    [thermal_conductivity_wasser]\n      type = PorousFlowThermalConductivityIdeal\n      dry_thermal_conductivity = '0.6 0 0    0 0.6 0   0 0 0.6'\n      wet_thermal_conductivity = '0.6 0 0    0 0.6 0   0 0 0.6'\n      block = 'wasser'\n      PorousFlowDictator = dictator_boden\n    []\n    [porosity_wasser]\n      type = PorousFlowPorosityConst\n      porosity = 0.9999\n      block = 'wasser'\n      PorousFlowDictator = dictator_boden\n    []\n    [permeablity_wasser]\n      type = PorousFlowPermeabilityConst\n      block = 'wasser'\n      permeability = '1E-4 0 0    0 1E-4 0    0 0 1E-4'\n      PorousFlowDictator = dictator_boden\n    []\n    [saturation_calculator_wasser]\n      type = PorousFlow2PhasePP\n      phase0_porepressure = pp\n      phase1_porepressure = gp\n      capillary_pressure = capillary_pressure_wasser\n      PorousFlowDictator = dictator_boden\n      block = 'wasser'\n    []\n    [relperm_wasser_fluid]\n      type = PorousFlowRelativePermeabilityConst\n      PorousFlowDictator = dictator_boden\n      phase = 0\n      kr = 1\n      block = 'wasser'\n    []\n    [relperm_wasser_dampf]\n      type = PorousFlowRelativePermeabilityConst\n      PorousFlowDictator = dictator_boden\n      phase = 1\n      kr = 1\n      block = 'wasser'\n    []\n    [mass_frac_wasser]\n      type = PorousFlowMassFraction\n      PorousFlowDictator = dictator_boden\n      block = 'wasser'\n      mass_fraction_vars = '1 0'\n    []\n    [diff_wasser]\n      type = PorousFlowDiffusivityConst\n      diffusion_coeff = '1.4E-7 0 0 0'\n      tortuosity = '1 1'\n      block = 'wasser'\n      PorousFlowDictator = dictator_boden\n    []\n    [internal_energy_bettung]\n      type = PorousFlowMatrixInternalEnergy\n      density = 2600\n      specific_heat_capacity = 1000\n      block = 'bettung'\n      PorousFlowDictator = dictator_boden\n    []\n    [thermal_conductivity_bettung]\n      type = PorousFlowThermalConductivityIdeal\n      dry_thermal_conductivity = '0.4 0 0  0 0.4 0 0 0 0.4'\n      wet_thermal_conductivity = '1 0 0    0 1 0   0 0 1'\n      block = 'bettung'\n      PorousFlowDictator = dictator_boden\n    []\n    [porosity_bettung]\n      type = PorousFlowPorosityConst\n      porosity = 0.3\n      block = 'bettung'\n      PorousFlowDictator = dictator_boden\n    []\n    [permeablity_bettung]\n      type = PorousFlowPermeabilityConst\n      block = 'bettung'\n      permeability = '1E-12 0 0    0 1E-12 0    0 0 1E-12'\n      PorousFlowDictator = dictator_boden\n    []\n    [saturation_calculator_bettung]\n      type = PorousFlow2PhasePP\n      PorousFlowDictator = dictator_boden\n      phase0_porepressure = pp\n      phase1_porepressure = gp\n      capillary_pressure = capillary_pressure_bettung\n      block = 'bettung'\n    []\n    [relperm_bettung_dampf]\n      type = PorousFlowRelativePermeabilityCorey\n      n = 2\n      phase = 1\n      block = 'bettung'\n      PorousFlowDictator = dictator_boden\n    []\n    [relperm_bettung_fluid]\n      type = PorousFlowRelativePermeabilityCorey\n      n = 2\n      s_res = 0.1\n      sum_s_res = 0.1\n      phase = 0\n      block = 'bettung'\n      PorousFlowDictator = dictator_boden\n    []\n    [mass_frac_bettung]\n      type = PorousFlowMassFraction\n      PorousFlowDictator = dictator_boden\n      block = 'bettung'\n      mass_fraction_vars = '1 0'\n    []\n    [diff_bettung]\n      type = PorousFlowDiffusivityConst\n      diffusion_coeff = '1E-6 1E-5 1E-6 1E-5'\n      tortuosity = '0.5 0.5'\n      block = 'bettung'\n      PorousFlowDictator = dictator_boden\n    []\n[]\n\n[UserObjects]\n  [dictator_boden]\n    type = PorousFlowDictator\n    number_fluid_components = 2\n    number_fluid_phases = 2\n    porous_flow_vars = 'pp temperature gp'\n  []\n  [capillary_pressure_boden]\n    type = PorousFlowCapillaryPressureVG\n    alpha = 1E-4\n    m = 0.5\n    block = 'boden'\n  []\n  [capillary_pressure_wasser]\n    type = PorousFlowCapillaryPressureConst\n    block = 'wasser'\n    pc = 0\n  []\n  [capillary_pressure_bettung]\n    type = PorousFlowCapillaryPressureVG\n    alpha = 1E-4\n    m = 0.5\n    block = 'bettung'\n  []\n[]\n\n# [Postprocessors]\n#   [heat]\n#     type = PorousFlowHeatEnergy\n#     outputs = csv\n#     PorousFlowDictator = dictator_boden\n#   []\n#   [Fluid]\n#     type = PorousFlowFluidMass\n#     PorousFlowDictator = dictator_boden\n#     outputs = csv\n#     fluid_component = 0\n#   []\n#   [Gas]\n#     type = PorousFlowFluidMass\n#     PorousFlowDictator = dictator_boden\n#     outputs = csv\n#     fluid_component = 1\n#   []\n# []\n\n\n[Preconditioning]\n  [basic]\n    type = SMP\n    full = true\n    petsc_options_iname = '-pc_type -sub_pc_type -sub_pc_factor_shift_type'\n    petsc_options_value = ' asm      lu           NONZERO'\n  []\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = NEWTON\n  automatic_scaling = true\n  compute_scaling_once = true\n  end_time = 1576800000\n  nl_abs_tol = 2E-6\n  nl_rel_tol = 2E-6\n  nl_max_its = 10\n  \n  [TimeSteppers]\n    [iterative]\n      type = IterationAdaptiveDT\n      dt = 10\n      growth_factor = 2\n    []\n    # [timesteps]\n    #   type = CSVTimeSequenceStepper\n    #   file_name = Zeit.CSV\n    #   column_name = time\n    # []\n  []\n[]\n\n[Debug]\n  show_var_residual_norms = true\n[]\n\n[Outputs]\n  exodus = true\n  print_linear_residuals = true\n  # [csv]\n  #   type = CSV\n  # []\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12229504",
                          "updatedAt": "2025-02-17T21:38:55Z",
                          "publishedAt": "2025-02-17T21:38:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "your convergence criteria is too loose.\nin effect here you are simulating 2-3 time steps for couple hundred seconds then skipping the solve the entire rest of the transient\nif you just set this\nnl_abs_tol = 2e-8\nnl_forced_its = 1\n\nthe results improve a little\n\nthe darcy velocity and gp llook wrong though?",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12231951",
                          "updatedAt": "2025-02-18T05:01:05Z",
                          "publishedAt": "2025-02-18T05:01:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "is this correct?\n  [gradient]\n    type = ParsedFunction\n    symbol_names = 'rho g gradient left_head'\n    symbol_values = '1000 9.8065 0.1 11.5'\n    expression = '101325 + (left_head-y-(x*gradient))*(g*rho)'\n  []\n\nI dont see any slant in the geometry, and gravity is aligned with y so why a x term ? Is the system rotated somehow?\nI also dont see it in the water IC\nresults are a little better without this x term. still not perfect. is the gp profile as expected in the water region? what about the top of the ground, this little oscillation?\nthe darcy velocities are always not good. I dont think the gradients are very good. could you try with a quad mesh see if gradients look better there?\nIn general I find that advection just takes forever to be visible. Like 1e8s so 3 years. is that expected?\n\nIf I re-add the x-term but also in the water, I get great advection, and it does not take so long to develop\n[Functions]\n  [gradient]\n    type = ParsedFunction\n    symbol_names = 'rho g gradient left_head'\n    symbol_values = '1000 9.8065 0.1 11.5'\n    expression = '101325 + (left_head-y - x * gradient)*(g*rho)'\n  []\n  [t_kabel]\n      type = ParsedFunction\n      expression = 'if(t <= 14400, (293.15 + (363.15 - 293.15) * t / 14400), 363.15)'\n  []\n  [wasser]\n    type = ParsedFunction\n    symbol_names = 'rho g left_head gradient'\n    symbol_values = '1000 9.8065 10 0.1'\n    expression = '101325 + (left_head-y - x * gradient)*(g*rho)'\n  []\n[]\n\n\nPlease advise, I dont understand this term",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12232080",
                          "updatedAt": "2025-02-18T05:23:28Z",
                          "publishedAt": "2025-02-18T05:20:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Note that I set this in the TFP\n  [dampf_tabulated]\n    type = TabulatedBicubicFluidProperties\n    fp = dampf\n    interpolated_properties = 'density enthalpy internal_energy viscosity k c cv cp'\n    out_of_bounds_behavior = 'set_to_closest_bound'\n    construct_pT_from_ve = false\n    construct_pT_from_vh = false\n    temperature_min = 260\n    temperature_max = 400\n    pressure_min = 12523\n    pressure_max = 3e6\n    tolerance = 1e-8\n    T_initial_guess = 293.15\n    p_initial_guess = 1e5\n  []\n[]\n\nmy recommendation for OOB behavior would be the solution invalid option. this will restart time steps with OOB",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12232106",
                          "updatedAt": "2025-02-18T05:24:49Z",
                          "publishedAt": "2025-02-18T05:24:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "julianseb"
                          },
                          "bodyText": "So the gradient is from left to right. I use the x to set the initial conditions in the mesh for the pore pressure. and simultaneously i can use the functions for the BC on the outer borders. There is no rotation or otherwise. I didn't set a gradient for the open water body, because they usually don't have one and should be level as the are not actively flowing to a point or location. I know that with the way it is set up now, with a fixed value at the top, that i have an outflow from the waterbody into the ground. In the end i want to have an groundwater flow carrying the heat from the cable to the water body and see if the water body heats up significantly. Without the x term i would have no groundwater flow.\nFor the gp. I was also wondering how that came to be that it is so high to the right of the water body. If it was because of the higher outflow. For the gp in the water body, it should be uniform, like in the ground. I was also thinking of adding another BC for the gp, fixing it to 101325 on the lower border of the water body.\nFor the darcy velocity in the water body, i think that is due to the way i had to set up the porosity with 0.9999 and the permeability with 1E-4. I choose the later one to have an high enough tolerance to not hinder any flow, while knowing that an water body does not have an permability, since it is not a solid matrix. Is there another way? I thought maybe about Navier-Stokes module but didn't want to add to much comlexity since i'm on a timeline.\nFor the onset of the heat advection 3 years seems to much. I would have guessed way earlier, like within one month, but i unfortunately don't have any data backing this up.\nSo i checked it with the quad mesh, but it had way worse solving speed. So i couldn't let it run to the end, but it looks pretty much the same:\n\nand the significant advection onset is around 1e6, but it is lower again:\n\nI let the same inputfile run with the tri mesh again and in both it seems like the advection stops around 5e6.",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12239762",
                          "updatedAt": "2025-02-18T17:14:13Z",
                          "publishedAt": "2025-02-18T17:14:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "rpodgorney"
                  },
                  "bodyText": "I can review this and provide some feedback--but not until next week.  I am on holiday until next Wednesday.\nQuickly looking--the \"open water\"---would probabky best be implemented as a boundary condition along the boundary.\nNormally, I would start with an INL that imposes a pressure gradient, and then run it to steady state, THEN do a restart with that SS condition as the IC",
                  "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12278353",
                  "updatedAt": "2025-02-21T16:05:06Z",
                  "publishedAt": "2025-02-21T16:05:06Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "julianseb"
                          },
                          "bodyText": "Thanks for replying during your holiday.\nSo would you do it with an MultiApp and Transfer System?\nI look forward to hearing from you. Have nice remainder of your time off.",
                          "url": "https://github.com/idaholab/moose/discussions/29818#discussioncomment-12281265",
                          "updatedAt": "2025-02-21T20:32:22Z",
                          "publishedAt": "2025-02-21T20:32:21Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "GrainTracker issue",
          "author": {
            "login": "ykvishal"
          },
          "bodyText": "I am performing large 2D (2400X2400 mesh and 20K grains) and 3D (192X192X192, 10K grains) simulations. I am using  GrainTracker block from grain_growth_2D_graintracker.i\n\n[./grain_tracker]\ntype = GrainTracker\nthreshold = 0.2\nconnecting_threshold = 0.08\ncompute_halo_maps = true # Only necessary for displaying HALOS\n[../]\n\nWhen I was analyzing microstructure evolution, I noticed that two grains represented by  a same OP are merging (Grain coalescence) into one. A typical example is here:\n\nThis is happening for many grains.\nEarlier I had similar issue and I observed this issue even for small system size and small number of grains (600 grains). One animation is shown here:\nhttps://user-images.githubusercontent.com/31565781/114320915-95391a80-9b18-11eb-90ab-4cfc3e363778.mp4\nAt that time, I tried few options like 1) Increase mesh size; 2) Play with  threshold  and connecting_threshold  parameters; 3) increase OPs. But these steps were not helpful. When I used a)  coloring_algorithm = bt and int_width=8 in the PolycrystalVoronoi block then it helped a lot.  Unfortunately, for large scale simulations, these two parameters have other effects like a) increase memory requirement and b) the 'projecting initial condition' step during initialization takes several hours (with 560 cores). It becomes worse for 60K grains in 2D and 20K grains in 3D. So I changed back these parameters (coloring_algorithm = jp and int_width=0 - it resulted in 7.5 times improvement in speed for projecting initial condition). Later, I tried to use Adaptivity  option but that was not useful in this case. Also adaptivity option takes several hours (with 560 cores) for large number of grains.\nIf you have some suggestions or tips then please let me know.\nThank you.",
          "url": "https://github.com/idaholab/moose/discussions/17572",
          "updatedAt": "2025-02-21T15:48:16Z",
          "publishedAt": "2021-04-11T21:15:55Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "SudiptaBiswas"
                  },
                  "bodyText": "Sorry, what is the issue here? Why shouldn't the grains coalesce? Do you have remapping set to true? What does the halos map look like? Maybe create a small problem to reproduce/explain the issue.",
                  "url": "https://github.com/idaholab/moose/discussions/17572#discussioncomment-606279",
                  "updatedAt": "2022-07-05T08:36:05Z",
                  "publishedAt": "2021-04-13T18:42:10Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "Thank you for your feedback. My response is as follows:\nSorry, what is the issue here? Why shouldn't the grains coalesce?\nIn my research, I am only considering curvature driven grain growth. In ideal grain growth, boundary migration occurs only due to curvature of the boundary. Growth of grains by  grains coalesce step is unphysical in an ideal grain growth.\nDo you have remapping set to true?\nYes. Default option is true. I did not touch the original GrainTracker block given above.\nWhat does the halos map look like? \nHere is the halos map\n\nMaybe create a small problem to reproduce/explain the issue.\nMy research involves large number of grains (>100K). I started with small system size and I managed to avoid grain coalescence for smaller cases. However, for large simulations, the parameter selected by me (as explained above) takes longer time to reach to t=0 step. So, I went back to default options to save time. I am not sure if solution for small size will work for large system.",
                          "url": "https://github.com/idaholab/moose/discussions/17572#discussioncomment-606517",
                          "updatedAt": "2022-07-05T08:36:06Z",
                          "publishedAt": "2021-04-13T19:50:38Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "SudiptaBiswas"
                          },
                          "bodyText": "It looks to me that the two grains are coalescing because of the shrinkage of the smaller grains that were previously present between these two grains. This often happens in polycrystals. However, if this is only happening because the two grains are represented by the same order parameters, then it could be a numerical issue. Probably, the remapping is not working properly. You might consider changing the threshold values or using a different seed for the initial condition.",
                          "url": "https://github.com/idaholab/moose/discussions/17572#discussioncomment-607202",
                          "updatedAt": "2022-07-05T08:37:08Z",
                          "publishedAt": "2021-04-13T23:40:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "However, if this is only happening because the two grains are represented by the same order parameters, then it could be a numerical issue. \nYes. That is the case. I should have mentioned that grains represented by same OP are coalescing very often.\nYou might consider changing the threshold values or using a different seed for the initial condition.\nI will try these suggestions. It seems that the parameters related to GrainTraker block are very sensitive to initial number of grains.",
                          "url": "https://github.com/idaholab/moose/discussions/17572#discussioncomment-607225",
                          "updatedAt": "2022-07-05T08:37:15Z",
                          "publishedAt": "2021-04-13T23:50:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "After some trials , now it is looking better.\n\nIt seems that current default settings may work with small number of grains only.\nThank you for the discussion @SudiptaBiswas !!",
                          "url": "https://github.com/idaholab/moose/discussions/17572#discussioncomment-607797",
                          "updatedAt": "2022-07-05T08:38:09Z",
                          "publishedAt": "2021-04-14T04:35:57Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "PengWei97"
                  },
                  "bodyText": "Hi @ykvishal, I also encountered the problem of grain merging, and the effect is as follows,\n\nHowever, I didn't see the solution in your discussion, so could you tell me how to solve this problem?\nwei",
                  "url": "https://github.com/idaholab/moose/discussions/17572#discussioncomment-3084263",
                  "updatedAt": "2022-07-05T11:32:02Z",
                  "publishedAt": "2022-07-05T11:32:01Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "In my case, I varied halo level and checked this problem. However, the GrainTracker parameters are dependent on various factors and my solution may or may not work for you. You will have to spend a lot of time to optimize GrainTracker parameters.  All the best.",
                          "url": "https://github.com/idaholab/moose/discussions/17572#discussioncomment-3085340",
                          "updatedAt": "2022-07-05T13:59:37Z",
                          "publishedAt": "2022-07-05T13:59:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "PengWei97"
                          },
                          "bodyText": "Thanks for your reply, I will try some of the settings mentioned in your discussion.",
                          "url": "https://github.com/idaholab/moose/discussions/17572#discussioncomment-3093597",
                          "updatedAt": "2022-07-06T15:57:24Z",
                          "publishedAt": "2022-07-06T15:57:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mdh23rct"
                          },
                          "bodyText": "@PengWei97 Dear Peng, I am having identical grain coalescence problem. Would you be kind to let me know the parameters you used in the GrainTracker userobject to avoid this grain coalescence?? Thanks.",
                          "url": "https://github.com/idaholab/moose/discussions/17572#discussioncomment-12278133",
                          "updatedAt": "2025-02-21T15:48:17Z",
                          "publishedAt": "2025-02-21T15:48:16Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}