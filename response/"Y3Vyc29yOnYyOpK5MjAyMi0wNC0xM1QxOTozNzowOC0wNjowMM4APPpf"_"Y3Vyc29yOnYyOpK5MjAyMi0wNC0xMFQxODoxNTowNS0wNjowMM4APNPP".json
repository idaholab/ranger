{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMi0wNC0xMFQxODoxNTowNS0wNjowMM4APNPP"
    },
    "edges": [
      {
        "node": {
          "title": "Heat source of Heat Conduction",
          "author": {
            "login": "Salma-Mao"
          },
          "bodyText": "There are two block with different material properties. The heat source FunctionPathEllipsoidHeatSource is applied on the surface of block 1. A strange phenomenon has occurred. The heat source is applied inside the block 1. However, when there is one block, the heat source is applied on the surface of the block. The centre of heat source of the two case is same. Why does this happen\uff1f\ncase 1 - just one block\n\n[Mesh]\n  type = GeneratedMesh\n  dim = 3\n  xmin = 0\n  xmax = 0.5\n  nx = 50\n\n  ymin = 0\n  ymax = 0.3\n  ny = 30\n\n  zmin = 0.0\n  zmax = 0.3\n  nz = 50\n[]\n[Variables]\n  [./temp]\n    initial_condition = 300\n  [../]\n[]\n\n[Kernels]\n  [./time]\n    type = ADHeatConductionTimeDerivative\n    variable = temp\n  [../]\n  [./heat_conduct]\n    type = ADHeatConduction\n    variable = temp\n    thermal_conductivity = thermal_conductivity\n  [../]\n  [./heat_source]\n    type = ADMatHeatSource\n    material_property = volumetric_heat\n    variable = temp\n  [../]\n[]\n\n[BCs]\n  [./temp_bottom_fix]\n    type = ADDirichletBC\n    variable = temp\n    boundary = 1\n    value = 300\n  [../] \n[]\n\n[Materials]\n  [./heat]\n    type = ADHeatConductionMaterial\n    specific_heat = 305\n    thermal_conductivity = 10e-2\n  [../]\n  [./density]\n    type = ADGenericConstantMaterial\n    prop_names = 'density'\n    prop_values = '6.35e-6'\n  [../]\n  [./volumetric_heat]\n    type = FunctionPathEllipsoidHeatSource\n    rx = 0.05\n    ry = 0.05\n    rz = 0.12\n    power = 200\n    efficiency = 0.36\n    factor = 2\n    function_x= path_x\n    function_y= path_y\n    function_z= path_z\n  [../]\n[]\n\n[Functions]\n  [./path_x]\n    type = ParsedFunction\n    value =  1200*t+0.08\n  [../]\n  [./path_y]\n    type = ParsedFunction\n    value =  0.15\n  [../]\n  [./path_z]\n    type = ParsedFunction\n    value = 0.3\n  [../]\n[]\n\ncase 2 - two blocks\n\n[Mesh]\n\n  [./block_1]\n  type = GeneratedMeshGenerator\n  dim = 3\n  xmin = 0\n  xmax = 0.5\n  nx = 50\n\n  ymin = 0\n  ymax = 0.3\n  ny = 30\n\n  zmin =0\n  zmax = 0.27\n  nz = 27\n\n\n[../]\n\n[./block_1_sidesets]\n    type = RenameBoundaryGenerator\n    input = block_1\n    old_boundary = '0 1 2 3 4 5'\n    new_boundary = '6                  7              8                  9              10               11'\n                  # substrate_back substrate_bottom substrate_right substrate_top substrate_left substrate_front\n\n  [../]\n\n  [./block_1_id]\n    type = SubdomainIDGenerator\n    input = block_1_sidesets\n    subdomain_id = 1\n  [../]\n\n [./block_2]\n type = GeneratedMeshGenerator\n dim = 3\n xmin = 0\n xmax = 0.5\n nx = 100\n\n ymin = 0\n ymax =0.3\n ny = 60\n\n zmin = 0.27\n zmax = 0.3\n nz = 6\n\n\n[../]\n\n[./block_2_sidesets]\n    type = RenameBoundaryGenerator\n    input = block_2\n    old_boundary = '0 1 2 3 4 5'\n    new_boundary = '100       101            102             103        104        105'\n\n              \n\n  [../]\n\n[./block_2_id]\n  type = SubdomainIDGenerator\n  input = block_2_sidesets\n  subdomain_id = 2\n  [../]\n\n[./combined]\n    type = MeshCollectionGenerator\n    inputs = 'block_1_id block_2_id'\n    [../]\n\n\n\n[]\n\n[Variables]\n  [./temp]\n    initial_condition = 400\n    block = '1 2'\n  [../]\n\n[]\n\n\n\n[Kernels]\n  [./time_powder]\n    type = ADHeatConductionTimeDerivative\n    variable = temp\n    specific_heat = specific_heat\n    density_name =density\n    block = '1 2'\n  []\n\n  [./heat_conduct_powder]\n    type = ADHeatConduction\n    thermal_conductivity =  thermal_conductivity\n    variable = temp\n    block = '1 2'\n  [../]\n\n  [./heat_source_powder]\n    type = ADMatHeatSource\n    material_property = volumetric_heat\n    variable = temp\n      block = '1 2'\n  [../]\n\n[]\n\n[BCs]\n  [./temp_bottom_fix]\n    type = ADDirichletBC\n    variable = temp\n    boundary ='104 102 105 100 6 8 10 11'\n\n        \n    value = 400\n  [../]\n\n\n  [./convention_surfcae]\n      type = ADConvectiveHeatFluxBC\n      variable = temp\n      boundary = 103\n      T_infinity = 300.0\n      heat_transfer_coefficient = 110\n    [../]\n\n[]\n\n[Materials]\n[./heat_substrate]\n  type = ADHeatConductionMaterial\n  specific_heat = 470\n  thermal_conductivity = 1.34e-2\n  block = 1\n[../]\n\n[./density_substrate]\n  type = ADGenericConstantMaterial\n  prop_names = 'density'\n  prop_values = '7.59e-6'\n  block = 1\n[../]\n\n[./heat_powder]\n  type = ADHeatConductionMaterial\n  specific_heat = 235\n  thermal_conductivity = 6.7e-3\n  block = 2\n[../]\n\n[./density_powder]\n  type = ADGenericConstantMaterial\n  prop_names = 'density'\n  prop_values = '3.975e-6'\n  block = 2\n[../]\n\n\n  [./volumetric_heat]\n    type = Function_PathEllipsoid_HeatSource\n    rx = 0.05\n    ry = 0.05\n    rz = 0.12\n    efficiency = 0.36\n    power =150\n    factor = 1\n    function_x= path_x\n    function_y= path_y\n    function_z= path_z\n  [../]\n[]\n\n[Functions]\n  [./path_x]\n    type = ParsedFunction\n    value = 900*t+0.08\n  [../]\n  [./path_y]\n    type = ParsedFunction\n    value = 0.15\n  [../]\n  [./path_z]\n    type = ParsedFunction\n    value = 0.3\n  [../]\n\n[]\n\nQuestion 2,\nIn the second case, there is no  heat transfer from block 1 to block 2. However, the Heat Conduction Module is applied on the two block. Is there lack of Thermal Contact Action?\nQuestion 3,\nThe effective depth ellipsoid radius exceeds the thickness of the block. If the heat source is applied on the two blocks,  heat source is reloaded on the two block. Why the  heat source is applied on the two block, there is  no energy on the second block?",
          "url": "https://github.com/idaholab/moose/discussions/20625",
          "updatedAt": "2022-06-05T05:28:35Z",
          "publishedAt": "2022-03-23T09:48:41Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou can use the block parameter, block = 1 to restrict the heat source out of block 2.\nThere is no heat transfer between block 1 and 2 because:\n\n\nthe MeshCollectionGenerator does not stitch the two meshes together (as it says in the docs), they are separate. Use this instead:\nhttps://mooseframework.inl.gov/source/meshgenerators/StitchedMeshGenerator.html\n\n\nI dont see any of the sidesets you tried to generate when I ran your input file. You should check what the initial names of the sidesets are before using a RenameBoundaryGenerator\n\n\nFormat wise:\n\nif pasting input files rather than linking to a github repo, please dont forget any blocks. Both these inputs are missing Executioners and Outputs.\ndont change names of objects: Function_PathEllipsoid_HeatSource wont be recognized\nUse triple quotes to format pasted input files\n\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2423361",
                  "updatedAt": "2022-06-05T05:29:14Z",
                  "publishedAt": "2022-03-23T15:02:12Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "[Mesh]\n    [./ccmh]\n        type = ConcentricCircleMeshGenerator\n        num_sectors = 20\n        radii = '0.23E-2 1.805E-2 1.81E-2 1.86E-2'\n        #        Zr-rod fuel He S.S\n        rings = '1      5     1    5'\n        has_outer_square = off #on\n        # ptich = 1.42063\n#       portion = left_half\n        preserve_volumes = on\n#        inner_mesh_fraction = 0.9#0.5\n        smoothing_max_it = 3\n    []\n    [./HeOuter]\n        type = SideSetsBetweenSubdomainsGenerator\n        input = ccmh\n        primary_block = 4\n        paired_block = 3\n        new_boundary = 'HeOuter'\n    [../]\n    [./HeInner]\n        type = SideSetsAroundSubdomainGenerator\n        input = HeOuter\n        block = 2\n        new_boundary = 'HeInner'\n    [../]\n    [./ed0]\n        type = BlockDeletionGenerator\n        input = HeInner\n        block = 3\n    [../]\n    [./extrude]\n        type = FancyExtruderGenerator\n        input = ed0\n        heights = '130E-3 260E-3'\n        num_layers = '1 2'\n        direction = '0 0 1'\n        top_boundary = 998\n        bottom_boundary = 999\n        subdomain_swaps = '1 1  2 2 4 4;\n                           1 11 2 12 4 14'\n    [../]\n[]\n\n[Problem]\n    coord_type = XYZ\n#    rz_coord_axis = Z\n[]\n\n[GlobalParams]\n    order = FIRST\n[]\n\n[Variables]\n    [temp]\n        order = FIRST\n        family = LAGRANGE\n        initial_condition = 300.0\n    []\n[]\n\n[AuxVariables]\n    [./gap_conductance]\n        order = CONSTANT\n        family = MONOMIAL\n    [../]\n[]\n\n[Kernels]\n    [./heat]\n        type = HeatConduction\n        variable = temp\n        block = '1 11 2 12 4 14'\n    [../]\n    [./heat_source]\n        type = HeatSource\n        value = 6.6E7\n        variable = temp\n        block = '2 12'\n    [../]\n    [./heat_derivative]\n        type = HeatConductionTimeDerivative\n        variable = temp\n    [../]\n[]\n\n[AuxKernels]\n    [./gap_cond]\n        type = MaterialRealAux\n        property = gap_conductance\n        variable = gap_conductance\n        boundary = HeOuter\n    [../]\n[]\n\n[BCs]\n    [temp_clad]\n        type = DirichletBC\n        boundary = outer\n        variable = temp\n        value = 400.0\n    []\n[]\n\n[Materials]\n    [heat]\n        type = HeatConductionMaterial\n        block = '1 11 2 12'\n        specific_heat = 299.96\n        thermal_conductivity = 17\n    []\n    [heat1]\n        type = HeatConductionMaterial\n        block = '4 14'\n        specific_heat = 400.0\n        thermal_conductivity = 10\n    []\n    [density]\n        type = GenericConstantMaterial\n        prop_names = density\n        prop_values = 6.161E3\n    []\n[]\n\n[ThermalContact]\n    [thermal_contact]\n        type = GapHeatTransfer\n        variable = temp\n        primary = HeInner\n        secondary = HeOuter\n        emissivity_primary = 0\n        emissivity_secondary = 0\n        gap_conductivity = 5678\n        quadrature = true\n        gap_geometry_type = CYLINDER\n        cylinder_axis_point_1 = '0 0 0'\n        cylinder_axis_point_2 = '0 0 1'\n    []\n[]\n\n[Executioner]\n    type = Transient\n    solve_type = 'PJFNK'\n    \n    petsc_options_iname = '-pc_type -pc_factor_mat_solver_package'\n    petsc_options_value = 'lu        superlu_dist'\n\n    start_time = 0.0\n    end_time = 1.0\n    dt = 0.1\n    dtmin = 0.0001\n\n    nl_rel_tol = 1E-12\n    nl_abs_tol = 1E-7\n\n    [./Quadrature]\n        order = fifth\n        side_order = seventh\n    [../]\n[]\n\n[Outputs]\n    exodus = true\n[]\n\nhello, there is some problems in the HeatSource, when i use this code. i find the temp is not right.\n\njust like the block 2 12 is not exist.",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2433992",
                          "updatedAt": "2022-06-05T05:29:16Z",
                          "publishedAt": "2022-03-25T00:28:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@wangzhaohao please create your own post on the forum\nThe temperature is right, it's your setup that looks weird. You set an initial condition of 300 in the volume, then with the dirichlet boundary condition you set 400 on the boundary. So the volume slowly heats up from both the volumetric heat source and from the dirichlet BC.\nIf the equilibrium state doesnt look right please let us know, but 1s of simulation is not enough to reach it.",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2434261",
                          "updatedAt": "2022-06-05T05:29:33Z",
                          "publishedAt": "2022-03-25T01:37:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "i think moose compute one step, and the initial is replacement, so i set that, but when i change it to Steady. the problem is also exist.",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2434501",
                          "updatedAt": "2022-06-05T05:29:33Z",
                          "publishedAt": "2022-03-25T02:11:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "sorry i don't create my own forum",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2434509",
                          "updatedAt": "2022-06-10T07:49:58Z",
                          "publishedAt": "2022-03-25T02:13:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "The problem is that HeInner is both around the annular region and inside the annular fuel. You should use this generator to generate that boundary, not the sidesetaroundsubdomaingenerator\n    [./HeInner]\n        type = SideSetsBetweenSubdomainsGenerator\n        input = HeOuter\n        primary_block = 2\n        paired_block = 3\n        new_boundary = 'HeInner'\n    [../]\n\nI encourage you to click the advanced (cog button in your screenshot) button in properties and look at the sideset and nodeset definitions.",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2449115",
                          "updatedAt": "2022-06-10T07:49:59Z",
                          "publishedAt": "2022-03-28T04:01:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "thanks a lot, i use the SideSetBetweenSubdomainsGenerator replace SideSetAroundSubdomainsGenerator.",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2474851",
                          "updatedAt": "2022-06-10T07:49:58Z",
                          "publishedAt": "2022-03-31T03:11:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Salma-Mao"
                          },
                          "bodyText": "Hello\nYou can use the block parameter, block = 1 to restrict the heat source out of block 2.\nThere is no heat transfer between block 1 and 2 because:\n\nthe MeshCollectionGenerator does not stitch the two meshes together (as it says in the docs), they are separate. Use this instead:\nhttps://mooseframework.inl.gov/source/meshgenerators/StitchedMeshGenerator.html\nI dont see any of the sidesets you tried to generate when I ran your input file. You should check what the initial names of the sidesets are before using a RenameBoundaryGenerator\n\nFormat wise:\n\nif pasting input files rather than linking to a github repo, please dont forget any blocks. Both these inputs are missing Executioners and Outputs.\ndont change names of objects: Function_PathEllipsoid_HeatSource wont be recognized\nUse triple quotes to format pasted input files\n\nGuillaume\n\nHello, there are two question.\nQ1\nThe StitchedMeshGenerator is used in the case 2. There is heat transfer from block 1 to block 2. However, it is very strange that the most of the heat accumulates in block 1. A small amount of heat is transferred to block 2. In others' research, the highest temperature in the laser heating process was 3000 K in the same condition, while my temperature exceed a lot. The case is shown below.\n\nQ2\nAfter I changed the code of case, its output became wrong. When Docker was restarted, the results were still wrong. However, I create a new case with the modified code, and the output is ideal. I want to why this is happening.The example is that the previous case 2 and the below.\n[Mesh]\n[./substrate]\ntype = GeneratedMeshGenerator\ndim = 3\nxmin = 0\nxmax =0.5\nnx = 50\n\nymin = 0\nymax = 0.3\nny = 30\n\nzmin =0\nzmax = 0.3\nnz = 30\n[../]\n[./renameboundary_substrate]\ntype = RenameBoundaryGenerator\ninput = substrate\nold_boundary = '0 1 2 3 4 5'\nnew_boundary = 'substrate_back substrate_bottom substrate_right substrate_top substrate_left substrate_front'\n[../]\n[./substrate_id]\ntype = SubdomainIDGenerator\ninput = renameboundary_substrate\nsubdomain_id = 1\n[../]\n[./powder]\ntype = GeneratedMeshGenerator\ndim = 3\nxmin = 0\nxmax = 0.5\nnx = 50\n\nymin = 0\nymax = 0.3\nny = 50\n\nzmin =0.3\nzmax = 0.33\nnz = 6\n[../]\n[./renameboundary_powder]\ntype = RenameBoundaryGenerator\ninput = powder\nold_boundary = '0 1 2 3 4 5'\nnew_boundary = '100 101 102 103 104 105'\n[../]\n[./renameboundary_powder_rename]\ntype = RenameBoundaryGenerator\ninput = renameboundary_powder\nold_boundary = '100 101 102 103 104 105'\nnew_boundary = 'powder_back powder_bottom powdere_right powder_top powder_left powder_front'\n[../]\n[./powder_id]\ntype = SubdomainIDGenerator\ninput = renameboundary_powder_rename\nsubdomain_id = 2\n[../]\n[./combined_mesh]\ntype = StitchedMeshGenerator\ninputs = 'substrate_id powder_id'\nstitch_boundaries_pairs = 'substrate_top powder_bottom '\n[../]\n\n[]\n\n[Variables]\n[./temp]\ninitial_condition = 300\n[../]\n[]\n\n[Kernels]\n[./time]\ntype = ADHeatConductionTimeDerivative\nvariable = temp\nblock = '1 2'\n[../]\n[./heat_conduct]\ntype = ADHeatConduction\nvariable = temp\nthermal_conductivity = thermal_conductivity\nblock = '1 2'\n[../]\n[./heat_source]\ntype = ADMatHeatSource\nmaterial_property = volumetric_heat\nvariable = temp\nblock = 2\n[../]\n[]\n\n[ThermalContact]\n[thermal_contact]\ntype = GapHeatTransfer\nvariable = temp\nprimary = powder_bottom\nsecondary = substrate_top\nemissivity_primary = 0\nemissivity_secondary = 0\ngap_conductivity = 1.0e6\n[]\n[]\n\n[BCs]\n[./temp_bottom_fix]\ntype = ADDirichletBC\nvariable = temp\nboundary = 1\nvalue = 300\n[../]\n[]\n\n[Materials]\n[./heat_2]\ntype = ADHeatConductionMaterial\nspecific_heat = 470.0\nthermal_conductivity = 4.0875e-4\nblock = 2\n[../]\n[./density_2]\ntype = ADGenericConstantMaterial\nprop_names = 'density'\nprop_values = '3.796e-6'\nblock = 2\n[../]\n\n[./heat_1]\ntype = ADHeatConductionMaterial\nspecific_heat = 470.0\nthermal_conductivity = 1.34e-2\nblock = 1\n[../]\n[./density_1]\ntype = ADGenericConstantMaterial\nprop_names = 'density'\nprop_values = '7.592e-6'\nblock = 1\n[../]\n\n[./volumetric_heat]\ntype = FunctionPathEllipsoidHeatSource\nrx = 0.05\nry = 0.05\nrz = 0.12\npower = 200\nefficiency = 0.36\nfactor = 1\nfunction_x= path_x\nfunction_y= path_y\nfunction_z= path_z\n[../]\n[]\n\n[Functions]\n[./path_x]\ntype = ParsedFunction\nvalue = 900*t+0.08\n[../]\n[./path_y]\ntype = ParsedFunction\nvalue = 0.15\n[../]\n[./path_z]\ntype = ParsedFunction\nvalue =0.33\n[../]\n[]\n\n[Postprocessors]\n[temp_max]\ntype = ElementExtremeValue\nvariable = temp\n[]\n[temp_min]\ntype = ElementExtremeValue\nvariable = temp\nvalue_type = min\n[]\n[temp_avg]\ntype = ElementAverageValue\nvariable = temp\n[]\n[]\n\n[Preconditioning]\n[./full]\ntype = SMP\nfull = true\n[../]\n[]\n\n[Executioner]\ntype = Transient\nsolve_type = PJFNK\n\nnl_rel_tol = 1e-6\nnl_abs_tol = 1e-6\n\npetsc_options_iname = '-ksp_type -pc_type -pc_factor_mat_solver_package'\npetsc_options_value = 'preonly lu superlu_dist'\n\nl_max_its = 100\n\nend_time =3e-4\ndt = 1.0e-7\ndtmin = 1.0e-9\n[]\n\n[Outputs]\nexodus = true\ncsv = true\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2484246",
                          "updatedAt": "2022-06-10T07:49:59Z",
                          "publishedAt": "2022-04-01T08:48:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nThe input file must have changed, MOOSE behaves deterministically and the objects you are using have not changed in the meantime.\nCan you try to diff input1.i input2.i in the console and see what's different?\nPS: It's triple back-quotes to format code snippets, not single back quotes.\nGuillaume",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2486811",
                          "updatedAt": "2022-06-10T07:50:43Z",
                          "publishedAt": "2022-04-01T15:36:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Salma-Mao"
                          },
                          "bodyText": "Hello\nThe input1.i\n\u3001\u3001\u3001\n[Mesh]\n[./block_1]\ntype = GeneratedMeshGenerator\ndim = 3\nxmin = 0\nxmax = 0.5\nnx = 50\nymin = 0\nymax = 0.3\nny = 30\nzmin =0\nzmax = 0.3\nnz = 30\n[../]\n[./block_1_sidesets]\ntype = RenameBoundaryGenerator\ninput = block_1\nold_boundary = '0 1 2 3 4 5'\nnew_boundary = '6                  7              8                  9              10               11'\n# substrate_back substrate_bottom substrate_right substrate_top substrate_left substrate_front\n[../]\n[./block_1_id]\ntype = SubdomainIDGenerator\ninput = block_1_sidesets\nsubdomain_id = 1\n[../]\n[./block_2]\ntype = GeneratedMeshGenerator\ndim = 3\nxmin = 0\nxmax = 0.5\nnx = 100\nymin = 0\nymax =0.3\nny = 60\nzmin = 0.3\nzmax = 0.33\nnz = 6\n[../]\n[./block_2_sidesets]\ntype = RenameBoundaryGenerator\ninput = block_2\nold_boundary = '0 1 2 3 4 5'\nnew_boundary = '100       101            102             103        104        105'\n[../]\n[./block_2_id]\ntype = SubdomainIDGenerator\ninput = block_2_sidesets\nsubdomain_id = 2\n[../]\n[./combined]\ntype = MeshCollectionGenerator\ninputs = 'block_1_id block_2_id'\n[../]\n[]\n[Variables]\n[./temp]\ninitial_condition = 400\nblock = '1 2'\n[../]\n[]\n[Kernels]\n[./time_powder]\ntype = ADHeatConductionTimeDerivative\nvariable = temp\nspecific_heat = specific_heat\ndensity_name =density\nblock = '1 2'\n[]\n[./heat_conduct_powder]\ntype = ADHeatConduction\nthermal_conductivity =  thermal_conductivity\nvariable = temp\nblock = '1 2'\n[../]\n[./heat_source_powder]\ntype = ADMatHeatSource\nmaterial_property = volumetric_heat\nvariable = temp\nblock = '1 2'\n[../]\n[]\n[BCs]\n[./temp_bottom_fix]\ntype = ADDirichletBC\nvariable = temp\nboundary ='104 102 105 100 6 8 10 11'\nvalue = 400\n\n[../]\n[./convention_surfcae]\ntype = ADConvectiveHeatFluxBC\nvariable = temp\nboundary = 103\nT_infinity = 300.0\nheat_transfer_coefficient = 110\n[../]\n[]\n[Materials]\n[./heat_substrate]\ntype = ADHeatConductionMaterial\nspecific_heat = 470\nthermal_conductivity = 1.34e-2\nblock = 1\n[../]\n[./density_substrate]\ntype = ADGenericConstantMaterial\nprop_names = 'density'\nprop_values = '7.59e-6'\nblock = 1\n[../]\n[./heat_powder]\ntype = ADHeatConductionMaterial\nspecific_heat = 235\nthermal_conductivity = 6.7e-3\nblock = 2\n[../]\n[./density_powder]\ntype = ADGenericConstantMaterial\nprop_names = 'density'\nprop_values = '3.975e-6'\nblock = 2\n[../]\n[./volumetric_heat]\ntype = Function_PathEllipsoid_HeatSource\nrx = 0.05\nry = 0.05\nrz = 0.12\nefficiency = 0.36\npower =150\nfactor = 1\nfunction_x= path_x\nfunction_y= path_y\nfunction_z= path_z\n[../]\n[]\n[Functions]\n[./path_x]\ntype = ParsedFunction\nvalue = 900*t+0.08\n[../]\n[./path_y]\ntype = ParsedFunction\nvalue = 0.15\n[../]\n[./path_z]\ntype = ParsedFunction\nvalue = 0.33\n[../]\n[]\n[Postprocessors]\n[temp_max]\ntype = ElementExtremeValue\nvariable = temp\n[]\n[temp_min]\ntype = ElementExtremeValue\nvariable = temp\nvalue_type = min\n[]\n[temp_avg]\ntype = ElementAverageValue\nvariable = temp\n[]\n[]\n[Preconditioning]\n[./full]\ntype = SMP\nfull = true\n[../]\n[]\n[Executioner]\ntype = Transient\nsolve_type = PJFNK\nnl_rel_tol = 1e-6\nnl_abs_tol = 1e-6\npetsc_options_iname = '-ksp_type -pc_type -pc_factor_mat_solver_package'\npetsc_options_value = 'preonly lu superlu_dist'\nl_max_its = 100\nend_time =3e-4\ndt = 1.0e-7\ndtmin = 1.0e-9\n[]\n[Outputs]\nexodus = true\ncsv = true\n[]\n\u3001\u3001\u3001\nThe input2.i\n\u3001\u3001\u3001\n[Mesh]\n[./substrate]\ntype = GeneratedMeshGenerator\ndim = 3\nxmin = 0\nxmax =0.5\nnx = 50\nymin = 0\nymax = 0.3\nny = 30\nzmin =0\nzmax = 0.3\nnz = 30\n[../]\n[./renameboundary_substrate]\ntype = RenameBoundaryGenerator\ninput = substrate\nold_boundary = '0 1 2 3 4 5'\nnew_boundary = 'substrate_back substrate_bottom substrate_right substrate_top substrate_left substrate_front'\n[../]\n[./substrate_id]\ntype = SubdomainIDGenerator\ninput = renameboundary_substrate\nsubdomain_id = 1\n[../]\n[./powder]\ntype = GeneratedMeshGenerator\ndim = 3\nxmin = 0\nxmax = 0.5\nnx = 50\nymin = 0\nymax = 0.3\nny = 50\nzmin =0.3\nzmax = 0.33\nnz = 6\n[../]\n[./renameboundary_powder]\ntype = RenameBoundaryGenerator\ninput = powder\nold_boundary = '0 1 2 3 4 5'\nnew_boundary = '100 101 102 103 104 105'\n[../]\n[./renameboundary_powder_rename]\ntype = RenameBoundaryGenerator\ninput = renameboundary_powder\nold_boundary = '100 101 102 103 104 105'\nnew_boundary = 'powder_back powder_bottom powdere_right powder_top powder_left powder_front'\n[../]\n[./powder_id]\ntype = SubdomainIDGenerator\ninput = renameboundary_powder_rename\nsubdomain_id = 2\n[../]\n[./combined_mesh]\ntype = StitchedMeshGenerator\ninputs = 'substrate_id powder_id'\nstitch_boundaries_pairs = 'substrate_top powder_bottom '\n[../]\n[]\n[Variables]\n[./temp]\ninitial_condition = 300\n[../]\n[]\n[Kernels]\n[./time]\ntype = ADHeatConductionTimeDerivative\nvariable = temp\nblock = '1 2'\n[../]\n[./heat_conduct]\ntype = ADHeatConduction\nvariable = temp\nthermal_conductivity = thermal_conductivity\nblock = '1 2'\n[../]\n[./heat_source]\ntype = ADMatHeatSource\nmaterial_property = volumetric_heat\nvariable = temp\nblock = 2\n[../]\n[]\n[ThermalContact]\n[thermal_contact]\ntype = GapHeatTransfer\nvariable = temp\nprimary = powder_bottom\nsecondary = substrate_top\nemissivity_primary = 0\nemissivity_secondary = 0\ngap_conductivity = 1.0e6\n[]\n[]\n[BCs]\n[./temp_bottom_fix]\ntype = ADDirichletBC\nvariable = temp\nboundary = 1\nvalue = 300\n[../]\n[]\n[Materials]\n[./heat_2]\ntype = ADHeatConductionMaterial\nspecific_heat = 470.0\nthermal_conductivity = 4.0875e-4\nblock = 2\n[../]\n[./density_2]\ntype = ADGenericConstantMaterial\nprop_names = 'density'\nprop_values = '3.796e-6'\nblock = 2\n[../]\n[./heat_1]\ntype = ADHeatConductionMaterial\nspecific_heat = 470.0\nthermal_conductivity = 1.34e-2\nblock = 1\n[../]\n[./density_1]\ntype = ADGenericConstantMaterial\nprop_names = 'density'\nprop_values = '7.592e-6'\nblock = 1\n[../]\n[./volumetric_heat]\ntype = FunctionPathEllipsoidHeatSource\nrx = 0.05\nry = 0.05\nrz = 0.12\npower = 200\nefficiency = 0.36\nfactor = 1\nfunction_x= path_x\nfunction_y= path_y\nfunction_z= path_z\n[../]\n[]\n[Functions]\n[./path_x]\ntype = ParsedFunction\nvalue = 900*t+0.08\n[../]\n[./path_y]\ntype = ParsedFunction\nvalue = 0.15\n[../]\n[./path_z]\ntype = ParsedFunction\nvalue =0.33\n[../]\n[]\n[Postprocessors]\n[temp_max]\ntype = ElementExtremeValue\nvariable = temp\n[]\n[temp_min]\ntype = ElementExtremeValue\nvariable = temp\nvalue_type = min\n[]\n[temp_avg]\ntype = ElementAverageValue\nvariable = temp\n[]\n[]\n[Preconditioning]\n[./full]\ntype = SMP\nfull = true\n[../]\n[]\n[Executioner]\ntype = Transient\nsolve_type = PJFNK\nnl_rel_tol = 1e-6\nnl_abs_tol = 1e-6\npetsc_options_iname = '-ksp_type -pc_type -pc_factor_mat_solver_package'\npetsc_options_value = 'preonly lu superlu_dist'\nl_max_its = 100\nend_time =3e-4\ndt = 1.0e-7\ndtmin = 1.0e-9\n[]\n[Outputs]\nexodus = true\ncsv = true\n[]\n\u3001\u3001\u3001\nThe two case get the different output.\nThe case 1\n\nThe case 2\n\nYou can find that the centre of heat source defined in the case is same. However, the output shown that the centre of heat source is different.\nQ2\nThere is heat transfer from block 1 to block 2. However, it is very strange that the most of the heat accumulates in block 1. A small amount of heat is transferred to block 2. My classmate simulated the same case with ANSYS and got the following output.  You can see that the heat is very well transferred from block 1 to block 2.\nMy case (the input2.i)\n\nMy classmate's case\n\nThanks\nMS",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2489577",
                          "updatedAt": "2022-06-10T07:50:46Z",
                          "publishedAt": "2022-04-02T03:04:27Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Salma-Mao"
                          },
                          "bodyText": "Thanks for your  help. I still don't  find what makes the different. But  I can create new case to deal with the problems. The reason of  heat   transfer  between two block  is that the grid size is different.\nThanks again\nMS",
                          "url": "https://github.com/idaholab/moose/discussions/20625#discussioncomment-2559617",
                          "updatedAt": "2022-06-10T07:50:59Z",
                          "publishedAt": "2022-04-13T13:26:36Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to get he historical temperature data",
          "author": {
            "login": "Salma-Mao"
          },
          "bodyText": "Hello everyone,\nI am learning the Heat Conduction. However, I have a difficulty in defining material properties. The initial state of the material is  powder  and it has a thermal physical parameter. When the temperature reaches the melting point, The material state changes to   fluid and then solid. How to identify the state of material? I think the one way is to identify  whether the historical temperature of the current unit exceeds the melting point.Is there a example to get the historical temperature data when  defining material properties?\nThanks,\nMs",
          "url": "https://github.com/idaholab/moose/discussions/20542",
          "updatedAt": "2022-06-18T08:29:22Z",
          "publishedAt": "2022-03-13T07:12:18Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI think I'd track the percent of phase change in a separate aux-variable or material property if I had to do this. 0 -> liquid, 1->solid.\nHistory of the temperature does not give the full story imo, it's more about the amount of energy that has been transferred in the phase change.\n@dschwen any pointers on phase change/melting?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2358624",
                  "updatedAt": "2022-06-18T08:29:36Z",
                  "publishedAt": "2022-03-14T15:32:01Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Salma-Mao"
                          },
                          "bodyText": "Is there a example about tracking the percent of phase change?  I can define a variable to do this  0 -> liquid, 1->solid.  I just know define the variable  in current time step. But, I should also need to know the value in  previous time step.\nThanks\nMS",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2369675",
                          "updatedAt": "2022-06-18T08:29:38Z",
                          "publishedAt": "2022-03-16T03:21:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You can retrieve the previous and two-before values of a finite element variable using the coupledValueOld and coupledValueOlder routines.\nThey are used in the constructor of your object, same as coupledValue for the current value of the variable.",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2372732",
                          "updatedAt": "2022-06-18T08:29:38Z",
                          "publishedAt": "2022-03-16T13:09:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I'd encourage you to look at how others have implemented phase changes, in the phase field and porous flow modules for example:\nhttps://mooseframework.inl.gov/modules/porous_flow/governing_equations.html\nhttps://mooseframework.inl.gov/moose/modules/phase_field/",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2372752",
                          "updatedAt": "2022-06-18T08:29:38Z",
                          "publishedAt": "2022-03-16T13:13:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Salma-Mao"
                          },
                          "bodyText": "Thanks for you help.  I want to get the free energy of  previous step ,then get material property based on free energy.\nSo I made the Material_powder. However, I get some  problems.\nThis is the header file (Material_powder.h)\n#pragma once\n\n#include \"Material.h\"\n#include \"LinearInterpolation.h\"\n#include \"DerivativeMaterialInterface.h\"\n\nMaterial_powder: public Material\n{\npublic:\n\n  Material_powder(const InputParameters & parameters);\n\n  static InputParameters validParams();\n\n  virtual void computeQpProperties() override;\n  void initQpStatefulProperties() override;\n  virtual void CheckPhase();\n\n  const VariableValue & _temp;\n  ADMaterialProperty<Real> & _density;\n \n  MaterialProperty<unsigned int> & _FreeEnergy;\n  const MaterialProperty<unsigned int> & _FreeEnergy_old;\n\n  ADMaterialProperty<Real> & _density_powder;\n\n};\n\nThis is the source code (Material_powder.C).\n#include \"Material_powder.h\"\n#include \"Function.h\"\n#include <fstream>\n#include <cmath>\n\n\nregisterMooseObject(\"heatsourceApp\", Material_powder);\n\nInputParameters\nMaterial_powder::validParams()\n{\n  InputParameters params = Material::validParams();\n\n  params.addCoupledVar(\"temp\",  \"The temperature.\");\n  \nreturn params;\n}\n\nMaterial_powder::Material_powder(const InputParameters & parameters)\n : Material(parameters),\n\n_temp (coupledValue(\"temp\")),\n\n_density (declareADProperty<Real>(\"density\")),\n\n_FreeEnergy(declareProperty<unsigned int>(\"FreeEnergy\")),\n\n_FreeEnergy_old(getMaterialPropertyOld<unsigned int> ( \"FreeEnergy\"  )),\n\n\n_density_powder (declareADProperty<Real>(\"density_powder\"))\n\n\n{\n\n}\n\nvoid\ntemperature_ConstantMaterial_powder::initQpStatefulProperties()\n{\n\n\n\n   _density[_qp] = 7590.0;\n   \n\n   _FreeEnergy[_qp] = 0;\n \n\n   _density_powder[_qp] = 3795.0;\n   \n\n\n}\n\n\n  void\n  temperature_ConstantMaterial_powder::computeQpProperties()\n  {\n\n   _density[_qp] = 2.0e-7 * pow(_temp[_qp], 3) - 9.0e-4 * pow(_temp[_qp],2) + 0.5348 * _temp[_qp] + 7830.6;\n\n   \n   CheckPhase ();\n\n    for (_qp = 0; _qp <=  _qrule->n_points(); _qp++)\n\n    {\n\n      switch ( _FreeEnergy[_qp] )\n\n      {\n        case 0:  // powder\n\n      if ( _temp[_qp] < 1700.0)    //unmelt\n\n      {\n\n        _density_powder[_qp] =   (1.0-0.5) * _density[_qp];\n\n       \n\n      }\n\n      else if (_temp[_qp] <  1762.0 & _temp[_qp] > 1700.0)  //liquid and solid\n\n      {\n        _density_powder[_qp] =   (1.0-0.5*( _temp[_qp] - 1700.0)/(1760.0-1700.0)-0.5) * _density[_qp];\n\n    \n\n\n      }\n\n      else  // liquid\n\n      {\n        _density_powder[_qp]  = _density[_qp];\n\n  \n      }\n\n\n      break;\n\n      case 1:   // if FreeEnergy = 1\n\n      _density[_qp]  = _density_316L[_qp];\n      \n      break;\n    }\n\n}\n}\n\nvoid\n Material_powder::CheckPhase()\n{\n  \nif ( _t_step == 1 )  //check firt step\n\n{\n for ( int _qp = 0; _qp <  _qrule->n_points(); _qp++)  // first step\n {\n     _FreeEnergy[_qp] = 0;             // state is powder\n }\n}\n\nelse   // step is not one\n\n{\n      for( int _qp = 0; _qp <  _qrule->n_points(); _qp++)    // check element state of previous step\n      {\n       if ( _FreeEnergy_old[_qp] == 0 )    //    powder of previous step\n\n       {\n            if (_temp[_qp] < 1150 )      //    check element temperature\n            {\n                   _FreeEnergy[_qp] = 0;            // powder\n            }\n\n            else\n            {\n                   _FreeEnergy[_qp] = 1;   // block\n\n            }\n\n       }\n\n       else\n       {\n\n          _FreeEnergy[_qp] = 1 ;    //   block of current step\n       }\n\n      }\n\n}\n\n}\n\n\nWhen I compiled it ,I got\n\n*** ERROR ***\nDependencyResolver: attempt to insert dependency will result in cyclic graph\n\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n\n\n*** ERROR ***\nDependencyResolver: attempt to insert dependency will result in cyclic graph\n\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 1\n\n\n*** ERROR ***\nDependencyResolver: attempt to insert dependency will result in cyclic graph\n\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 3\n\n\n*** ERROR ***\nDependencyResolver: attempt to insert dependency will result in cyclic graph\n\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 5",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2394114",
                          "updatedAt": "2022-06-26T09:22:36Z",
                          "publishedAt": "2022-03-19T14:37:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "It doesnt like that you are both delcaring the material property and the obtaining the material property (through the getMaterialPropertyOld)  in the same object. Can you split these operations?",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2395832",
                          "updatedAt": "2022-06-26T09:22:57Z",
                          "publishedAt": "2022-03-20T02:08:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Salma-Mao"
                          },
                          "bodyText": "Hello, when I compiled, I get some problems.\nTime Step 0, time = 0\n\nPostprocessor Values:\n+----------------+----------------+----------------+----------------+\n| time           | temp_avg       | temp_max       | temp_min       |\n+----------------+----------------+----------------+----------------+\n|   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |\n+----------------+----------------+----------------+----------------+\n\n\nTime Step 1, time = 1e-05, dt = 1e-05\n 0 Nonlinear |R| = 3.558747e-02\n\n===================================================================================\n=   BAD TERMINATION OF ONE OF YOUR APPLICATION PROCESSES\n=   PID 1715 RUNNING AT e8b13506afb2\n=   EXIT CODE: 7\n=   CLEANING UP REMAINING PROCESSES\n=   YOU CAN IGNORE THE BELOW CLEANUP MESSAGES\n===================================================================================\nYOUR APPLICATION TERMINATED WITH THE EXIT STRING: Bus error (signal 7)\nThis typically refers to a problem with your application.\nPlease see the FAQ page for debugging suggestions\n\nI want to use debugger to find error. However, I get\nroot@e8b13506afb2:/usr/local/workspace/powder_substrate# mpirun  -n 10 gdb --ex run --ex bt --args powder_subsrate-dbg -i powder_substrate.i\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\n[proxy:0:0@e8b13506afb2] HYDU_create_process (../../../../src/pm/hydra/utils/launch/launch.c:74): execvp error on file gdb (No such file or directory)\nroot@e8b13506afb2:/usr/local/workspace/powder_substrate#",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2400925",
                          "updatedAt": "2022-06-26T09:22:57Z",
                          "publishedAt": "2022-03-21T07:34:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Seems you dont have gdb installed. Do you have another one installed?\nYou ll need to install it or work on another system if you want to debug.",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2407360",
                          "updatedAt": "2022-06-26T09:23:04Z",
                          "publishedAt": "2022-03-21T14:29:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Salma-Mao"
                          },
                          "bodyText": "Hello\uff0cI have installed the gdb.\nroot@22cfeee4c9d5:/opt/moose# sudo apt install clang-9\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nclang-9 is already the newest version (1:9.0.1-12).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n\nI want to use debugger to find error.  However, I get\nroot@22cfeee4c9d5:/opt/moose# gdb --args /usr/local/workspace/powder_contact/powder_contact-dbg -i powder_contact.i\nbash: gdb: command not found\n\nWhen I use the lldb, I get same problem.\nroot@22cfeee4c9d5:/opt/moose# sudo apt install lldb-9\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nlldb-9 is already the newest version (1:9.0.1-12).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n\nroot@22cfeee4c9d5:/opt/moose# lldb -9 /usr/local/workspace/powder_contact/powder_contact-dbg -i powder_contact.i\nbash: lldb: command not found",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2437672",
                          "updatedAt": "2022-06-26T09:23:04Z",
                          "publishedAt": "2022-03-25T13:37:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "clang is not gdb, so this may not be the right package to install.\nIn your command line for lldb you wrote lldb -9 not lldb-9.\nTry to find what name it knows lldb under.",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2449075",
                          "updatedAt": "2022-06-26T09:23:06Z",
                          "publishedAt": "2022-03-28T03:45:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Salma-Mao"
                          },
                          "bodyText": "Thanks  your help.\nMS",
                          "url": "https://github.com/idaholab/moose/discussions/20542#discussioncomment-2559630",
                          "updatedAt": "2022-06-26T09:23:08Z",
                          "publishedAt": "2022-04-13T13:28:53Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Debugging with PorosityMaterial file",
          "author": {
            "login": "Joseph-0123"
          },
          "bodyText": "**Hello, dear moose developers and users,\nAfter I run ./myapp-dbg -i THM.i, the error information are as follows. It means something wrong in my PorosityMaterial. But I cannot recognize the detailed errors. Could you please help me to find it? Thanks a lot.\nSe\nPorosityMaterial.zip\nSetting Up\nSetting Up Options. [ 2.93 s] [ 5 MB]\n\n*** Warning, This code is deprecated and will be removed in future versions:\nThis method will be removed because the meaning is not well defined, please use the 'compareCurrent' method instead.\nStack frames: 27\n0: libMesh::print_trace(std::ostream&)\n1: void moose::internal::mooseDeprecatedStream<libMesh::BasicOStreamProxy<char, std::char_traits >, char const (&) [117]>(libMesh::BasicOStreamProxy<char, std::char_traits >&, bool, char const (&) [117])\n2: void mooseDeprecated<char const (&) [117]>(char const (&) [117])\n3: MooseEnum::operator==(MooseEnum const&) const\n4: PorosityMaterial::PorosityMaterial(InputParameters const&)\n5: void __gnu_cxx::new_allocator::construct<PorosityMaterial, InputParameters const&>(PorosityMaterial*, InputParameters const&)\n6: void std::allocator_traits<std::allocator >::construct<PorosityMaterial, InputParameters const&>(std::allocator&, PorosityMaterial*, InputParameters const&)\n7: std::_Sp_counted_ptr_inplace<PorosityMaterial, std::allocator, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<InputParameters const&>(std::allocator, InputParameters const&)\n8: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<PorosityMaterial, std::allocator, InputParameters const&>(PorosityMaterial*&, std::_Sp_alloc_shared_tag<std::allocator >, InputParameters const&)\n9: std::__shared_ptr<PorosityMaterial, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator, InputParameters const&>(std::_Sp_alloc_shared_tag<std::allocator >, InputParameters const&)\n10: std::shared_ptr::shared_ptr<std::allocator, InputParameters const&>(std::_Sp_alloc_shared_tag<std::allocator >, InputParameters const&)\n11: std::shared_ptr std::allocate_shared<PorosityMaterial, std::allocator, InputParameters const&>(std::allocator const&, InputParameters const&)\n12: std::shared_ptr std::make_shared<PorosityMaterial, InputParameters const&>(InputParameters const&)\n13: std::shared_ptr moose::internal::buildObj(InputParameters const&)\n14: Factory::create(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, InputParameters&, unsigned int, bool)\n15: /opt/projects/moose/framework/libmoose-dbg.so.0(+0x372a8be) [0x7ff2d850f8be]\n16: FEProblemBase::addMaterialHelper(std::__debug::vector<MaterialWarehouse*, std::allocator<MaterialWarehouse*> >, std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, InputParameters&)\n17: FEProblemBase::addMaterial(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, InputParameters&)\n18: AddMaterialAction::act()\n19: Action::timedAct()\n20: ActionWarehouse::executeActionsWithAction(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&)\n21: ActionWarehouse::executeAllActions()\n22: MooseApp::runInputFile()\n23: MooseApp::run()\n24: ./myapp-dbg(+0x1434b) [0x55e15344134b]\n25: _libc_start_main\n26: ./myapp-dbg(+0x13189) [0x55e153440189]_",
          "url": "https://github.com/idaholab/moose/discussions/20769",
          "updatedAt": "2022-06-14T13:14:38Z",
          "publishedAt": "2022-04-12T09:04:28Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Joseph-0123"
                  },
                  "bodyText": "Could you please help me? Thanks.",
                  "url": "https://github.com/idaholab/moose/discussions/20769#discussioncomment-2552679",
                  "updatedAt": "2022-06-14T13:14:40Z",
                  "publishedAt": "2022-04-12T14:37:15Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "hello\nThis is a deprecation warning. Do you actually have an error?\nIt's complaining about\n(getParam<MooseEnum>(\"evolotion_type\")==ET)\n\nIt doesnt like to compare two MooseEnum with == because it's ambiguous. A MooseEnum isnt just a value, it's a list of values with a value selected.\nNote that there is also a typo in the parameter name.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20769#discussioncomment-2553074",
                  "updatedAt": "2022-06-14T13:14:45Z",
                  "publishedAt": "2022-04-12T15:30:22Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "the solution is to use the compareCurrent method, like in this example::\nnotEqual(const MooseEnum & val1, const MooseEnum & val2)\n{\n  return !val1.compareCurrent(val2);\n}",
                          "url": "https://github.com/idaholab/moose/discussions/20769#discussioncomment-2553080",
                          "updatedAt": "2022-06-14T13:14:45Z",
                          "publishedAt": "2022-04-12T15:30:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Joseph-0123"
                          },
                          "bodyText": "Thanks a lot, Guillaume. Yes. I solve this problem by using the compareCurrent method.",
                          "url": "https://github.com/idaholab/moose/discussions/20769#discussioncomment-2553381",
                          "updatedAt": "2022-06-14T13:14:48Z",
                          "publishedAt": "2022-04-12T16:13:53Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "[Porousflow][mining] modelling water seepage and filling the pit",
          "author": {
            "login": "Traiwit"
          },
          "bodyText": "Hi MOOSE expert,\nI am trying to model modelling water seepage into a pit (empty space) and then slowly filling the pit.\n\njust wondering if anyone has done this before?\nso the initial condition would be right at the end of pit excavation:\n\nthen I remove the drainage surface bc, and just run an equilibrium simulation where BCs are applied to the 4 sides of the domain (right left front back)\nI tried what I mentioned above with very high perm, the pit is filled very quickly in a matter of days, which isn't realistic:\n\n(after 5 days)\nThe question would be what should be the value of the empty pit material properties (perm and porosity)? porosity I guess it should be 1, but what would be the appropriate perm? as this will affect the rate of pit filling\nand just wondering if this is the right approach to modelling this kinda seepage?\nKind regards,\nTraiwit\nI will tag the hydro expert here: @WilkAndy",
          "url": "https://github.com/idaholab/moose/discussions/20768",
          "updatedAt": "2022-06-14T08:57:15Z",
          "publishedAt": "2022-04-12T03:27:55Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "I agree that the porosity should be ~1 and the perm should be \"large\": probably 1000 times larger than your largest perm is a good choice.\nThe pit shouldn't fill that fast.  Are you using unsaturated physics, or fully-saturated physics?",
                  "url": "https://github.com/idaholab/moose/discussions/20768#discussioncomment-2548993",
                  "updatedAt": "2022-06-14T08:57:18Z",
                  "publishedAt": "2022-04-12T03:49:11Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @WilkAndy,\nI'm using fully-saturated physics for drainage (due to convergence, and Abaqus comparison), hence I used it for seepage too. Should I switch to unsaturated in this case?\n[Modules]\n  [./FluidProperties]\n    [./the_simple_fluid]\n      type = SimpleFluidProperties\n    [../]\n  [../]\n[]\n[PorousFlowFullySaturated]\n  porepressure = porepressure\n  coupling_type = Hydro\n  gravity = '0 0 -9.81'\n  fp = the_simple_fluid\n  time_unit = days\n  add_darcy_aux = false\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/20768#discussioncomment-2549010",
                          "updatedAt": "2022-06-14T08:57:19Z",
                          "publishedAt": "2022-04-12T03:55:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Definitely you need PorousFlowUnsaturated.  At the moment, your pit initially contains water at zero porepressure.  That's why it doesn't take long to \"fill\": your definition of \"fill\" is just moving a bit of water into the pit to increase porepressure to hydrostatic.",
                          "url": "https://github.com/idaholab/moose/discussions/20768#discussioncomment-2549035",
                          "updatedAt": "2022-06-14T08:57:21Z",
                          "publishedAt": "2022-04-12T04:04:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @WilkAndy, this actually solves the problem. Thank you!\n[PorousFlowUnsaturated]\n  porepressure = porepressure\n  coupling_type = Hydro\n  gravity = '0 0 -9.81'\n  fp = the_simple_fluid\n  relative_permeability_exponent = 2\n  relative_permeability_type = Corey\n  residual_saturation = 0.01\n  van_genuchten_alpha = 1E-6\n  van_genuchten_m = 0.6\n  time_unit = years\n[]\n\nthis is the pwp after 2 years",
                          "url": "https://github.com/idaholab/moose/discussions/20768#discussioncomment-2549231",
                          "updatedAt": "2022-06-14T08:57:21Z",
                          "publishedAt": "2022-04-12T05:11:14Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Generate function call graphs with Doxygen",
          "author": {
            "login": "bielsnohr"
          },
          "bodyText": "I'm doing some investigation into MOOSE internal operation, and it would be helpful to generate call graphs for some of the functions that appear in main.C (or near the top of the execution order) of a MOOSE app (e.g. AppFactory::createSharedApp()). I've done this with other programs previously using Doxygen, which usually works out of the box, however it is not working for MOOSE.\nUnder the framework/ directory, I have attempted two things:\n\nTurn on individual call graphs by going to the comment strings for the relevant functions and inserting \\callgraph\nTurn on all call graphs with the CALL_GRAPH=YES option in the Doxyfile\n\nNeither yield any call graphs in the locally generated HTML documentation pages.\nThoughts and advice?",
          "url": "https://github.com/idaholab/moose/discussions/20763",
          "updatedAt": "2024-05-12T11:59:30Z",
          "publishedAt": "2022-04-11T16:13:08Z",
          "category": {
            "name": "Q&A Tools"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "bielsnohr"
                  },
                  "bodyText": "I was a bit hasty with this question. Setting CALL_GRAPH=YES in the Doxyfile did in fact generate call graphs. I believe I was initially looking at the incorrect portion of the documentation.",
                  "url": "https://github.com/idaholab/moose/discussions/20763#discussioncomment-2546237",
                  "updatedAt": "2024-05-12T11:59:30Z",
                  "publishedAt": "2022-04-11T16:42:11Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Trying to apply BC on a mesh generated by gmsh",
          "author": {
            "login": "AlexSacMorane"
          },
          "bodyText": "Dear all,\nI am a new user of Moose so I have a basic problem. Even if I have looked on the forum and on Moose documentation, my problem is staying here.\nI try to study a diffusive problem on a mesh generated by gmsh but I have the following error problem.\n*** ERROR ***\nTask init_mesh is not registered to build MeshGenerator derived objects\nMoreover, I have converted my .msh to a .vtu with meshio-convert and use this .vtu in my .i but I get a new error.\n=   BAD TERMINATION OF ONE OF YOUR APPLICATION PROCESSES\n=   PID 24257 RUNNING AT ALEX-WORKING\n=   EXIT CODE: 11\n=   CLEANING UP REMAINING PROCESSES\n=   YOU CAN IGNORE THE BELOW CLEANUP MESSAGES\nYOUR APPLICATION TERMINATED WITH THE EXIT STRING: Segmentation fault (signal 11)\nThis typically refers to a problem with your application.\nPlease see the FAQ page for debugging suggestions\nI do not understand what happened here.\nI stay available, thank for all the help you can give me.\nYou will find in the attachments my .msh, .geo, .i\ntuto_gmsh_moose.zip",
          "url": "https://github.com/idaholab/moose/discussions/20740",
          "updatedAt": "2022-06-12T09:39:00Z",
          "publishedAt": "2022-04-07T23:33:04Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Task init_mesh is not registered to build MeshGenerator derived objects means you are missing enclosing brackets on a mesh generator.\nSo you have something like\n[Mesh]\n  type = FileMeshGenerator\n\ninstead of\n[Mesh]\n  [fmg]\n    type = FileMeshGenerator\n\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20740#discussioncomment-2527441",
                  "updatedAt": "2022-06-12T09:39:10Z",
                  "publishedAt": "2022-04-08T00:30:55Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "AlexSacMorane"
                          },
                          "bodyText": "Thank it helps.\nI have changed a bit the simulation (I am now working on 2D). I have added the enclosing brackets. But I get again an error message.\n*** ERROR ***\nmap_find() error: key \"26\" not found in file ../src/mesh/gmsh_io.C on line 605\nYou will find in the attachments my .i .msh .geo\nTest_gmsh_moose.zip\nI stay available",
                          "url": "https://github.com/idaholab/moose/discussions/20740#discussioncomment-2531169",
                          "updatedAt": "2022-06-12T09:39:29Z",
                          "publishedAt": "2022-04-08T13:46:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nAnything special about this mesh? What kind of elements does it contain?\nI tried converting it to vtu to see what it looked like and I only saw an outer rectangular edge, no inside 2D elements?\nGuillaume",
                          "url": "https://github.com/idaholab/moose/discussions/20740#discussioncomment-2545326",
                          "updatedAt": "2022-06-12T09:39:33Z",
                          "publishedAt": "2022-04-11T14:42:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "AlexSacMorane"
                          },
                          "bodyText": "Hello,\nThank you for your answer. I have rechecked my .msh file. You are right the mesh has disappeared. I have exported the .msh again and it seems it is working at this time. I do not understand why on the first try nodes were not exported.\nRegards\nAlexandre",
                          "url": "https://github.com/idaholab/moose/discussions/20740#discussioncomment-2545771",
                          "updatedAt": "2022-06-15T14:11:27Z",
                          "publishedAt": "2022-04-11T15:36:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok great! Glad this works now",
                          "url": "https://github.com/idaholab/moose/discussions/20740#discussioncomment-2545788",
                          "updatedAt": "2022-10-06T06:08:16Z",
                          "publishedAt": "2022-04-11T15:39:34Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "use displaced_mesh in the DGKernels",
          "author": {
            "login": "xiaojbing"
          },
          "bodyText": "I use displacements = disp_x disp_y in the [Mesh] block, and I also want to use the use_displaced_mesh = true  in other block to update the coordinate in the equations. However, in the [DGKernels] ,if I don't write boundary = , and only write use_displaced_mesh = true in the block, it will be crashed; and If I write both the boundary = and  use_displaced_mesh = true ,it can run. but seems that the results does not make sense. Is there any way to solve this contradictory problem?",
          "url": "https://github.com/idaholab/moose/discussions/20746",
          "updatedAt": "2022-07-07T08:54:01Z",
          "publishedAt": "2022-04-08T11:27:02Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "linked to #20583",
                  "url": "https://github.com/idaholab/moose/discussions/20746#discussioncomment-2545503",
                  "updatedAt": "2022-07-07T08:54:10Z",
                  "publishedAt": "2022-04-11T14:59:29Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Time dependent Material Objects",
          "author": {
            "login": "makeclean"
          },
          "bodyText": "Hi All\nLooking at the documentation it seems that PiecewiseLinearInterpolationMaterials are aware of the standard variables, presumably x,y and z c.f. https://mooseframework.inl.gov/moose/source/materials/ADPiecewiseLinearInterpolationMaterial.html\n[Materials]\n  [./mat]\n    type = PiecewiseLinearInterpolationMaterial\n    property = matprop\n    variable = x\n    x = '0 1'\n    y = '0 10'\n    outputs = all\n  [../]\n[]\n\nWhen I try to u 't' as in a regular function for time, MOOSE complains that it can't find the variable. I've hacked it to do something like\n[AuxVariables]\n  [time]\n  []\n[]\n[AuxKernels]\n  [time]\n    type = FunctionAux\n    variable = time\n    function = 't'\n    execute_on = timestep_begin\n  []\n\nIs that the best/right way to allow time dependent material objects?",
          "url": "https://github.com/idaholab/moose/discussions/20760",
          "updatedAt": "2022-06-17T17:34:14Z",
          "publishedAt": "2022-04-11T14:40:33Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nIt depends how you want to provide this dependence. If you have a functional expression, I like to use ParsedMaterials, which can use t in the expression.\nThis material you are using uses a variable as its abscissa. This is a little overkill for time.\nAnother option is to use a function:\nwith https://mooseframework.inl.gov/moose/source/materials/GenericFunctionMaterial.html\nThis is similar to ParsedMaterials for simple time dependence, but the spatial dependence may be more complex with this form.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20760#discussioncomment-2545456",
                  "updatedAt": "2022-06-17T17:34:25Z",
                  "publishedAt": "2022-04-11T14:55:11Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "makeclean"
                  },
                  "bodyText": "I guess I was also trying to highlight, given my experience with functions, why 't' didn't just work - for consistency I would have expected it to.\nHowever, that gets me moving :) Thanks!",
                  "url": "https://github.com/idaholab/moose/discussions/20760#discussioncomment-2545481",
                  "updatedAt": "2022-06-17T17:34:24Z",
                  "publishedAt": "2022-04-11T14:57:42Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Changes flux sign after average concentration reaches certain value",
          "author": {
            "login": "avtarsinghh1991"
          },
          "bodyText": "Hello MOOSE Experts\nI am solving diffusion equation. I want to change the sign of the flux from positive to negative or negative to positive if the average concentration value in the postprocessor calculation reaches certain values.\nAlgorithm should be something like this\nlets say, initially the flux is -ve\n\nfor n number_of_cycles\nif average_concentration < a \n       flux = +ve\nelseif average_concentration > b\n       flux  = -ve\nend\nend\n\nPlease guide me how should I proceed to put the cycling effect in the code.\nThanks in advance\nBest\nAvtar",
          "url": "https://github.com/idaholab/moose/discussions/20731",
          "updatedAt": "2022-06-16T19:42:11Z",
          "publishedAt": "2022-04-07T03:48:17Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nIs this the flux in the volume or at a boundary?\nEither way, you will want to work with a ParsedMaterial:\nhttps://mooseframework.inl.gov/source/materials/ParsedMaterial.html\nThe parsed expression will allow both if statements and using postprocessor values.\nIf you find that performance is not satisfactory then you can code that in a regular material as well, you can access postprocessor values from materials, and have the if statement in the material's computeQpProperties routine.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2520707",
                  "updatedAt": "2022-06-16T19:42:11Z",
                  "publishedAt": "2022-04-07T04:17:40Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "Hello Guillaume\nFlux is applied at the boundary.\nCan you please suggest any example in which if else condition is applied in Parsed Function?\n\"If you find that performance is not satisfactory then you can code that in a regular material as well, you can access postprocessor values from materials, and have the if statement in the material's computeQpProperties routine.\"\nIs there any example for this one as well?\nBest\nAvtar",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2523760",
                          "updatedAt": "2022-06-16T19:42:11Z",
                          "publishedAt": "2022-04-07T13:32:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "Edit: I am applying flux as the boundary condition.\n[./flux_bc]\n   type = FunctionNeumannBC\n   variable = diffused\n   boundary = 'flux1'\n   function = FluxVal\n [../]\n\nCan I still use ParsedMaterial for this one?",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527425",
                          "updatedAt": "2022-06-16T19:42:11Z",
                          "publishedAt": "2022-04-08T00:24:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "FunctionNeumannBC works with functions, not material properties.\nSo you cant use parsed material but you can use ParsedFunction\nhttps://mooseframework.inl.gov/source/functions/MooseParsedFunction.html",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527463",
                          "updatedAt": "2022-06-16T19:42:12Z",
                          "publishedAt": "2022-04-08T00:35:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "here the function will be the entire flux, not just the diffusivity btw",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527465",
                          "updatedAt": "2022-09-12T12:50:32Z",
                          "publishedAt": "2022-04-08T00:35:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "Thanks Guillaume\nCan you please explain the meaning of following if condition.\nExamples include 4e4+1e2*t, sqrt(x*x+y*y+z*z), and if(t<=1.0, 0.1*t, (1.0+0.1)*cos(pi/2*(t-1.0)) - 1.0). \nI understand the first if (t<1.0, ?, ?) but what is the meaning of second and third one.",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527636",
                          "updatedAt": "2022-09-12T12:50:33Z",
                          "publishedAt": "2022-04-08T01:19:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "Hello @GiudGiud\nHere avg_conc_particle is the postprocessor function, Switch is the factor which I am multiplying with the flux to change its direction. I am getting errors. It seems something is wrong in the following input. Please help.\n  [./FluxVal_temp]\n    type = ParsedFunction\n    value = Switch*(Th_Cap/1000)*C_Rate/Faraday\n    vars = 'C_Rate Faraday Th_Cap Density'   # theoretical_capacity (Ah/g) *crate (1/h)/F(As/mol)\n    vals = '1 96485.3415 300 4750000'\n  [../]\n\n [./Charge_dischage_switch_1]\n    type = ParsedFunction\n    value = if(avg_conc_particle<10000, Switch = 1)\n    vars = 'avg_conc_particle' \n  [../]\n\n  [./Charge_dischage_switch_2]\n    type = ParsedFunction\n    value = if(avg_conc_particle>10000, Switch = -1)\n    vars = 'avg_conc_particle' \n  [../]\n\nBest\nAvtar",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527666",
                          "updatedAt": "2022-09-12T12:50:33Z",
                          "publishedAt": "2022-04-08T01:27:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "So the syntax is if(condition, value if condition is true, value if condition is false)\nI think you want this:\n  [Switch]\n    type = ParsedFunction\n    value = if(avg_conc_particle>10000,  -1, 1)\n    vars = 'avg_conc_particle' \n  [../]\n\nSwitch is then the name of the function you can use elsewhere in the input file",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527802",
                          "updatedAt": "2022-09-12T12:50:35Z",
                          "publishedAt": "2022-04-08T02:08:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "@GiudGiud\nThank you very much. However, I am getting following error\n*** ERROR ***\n/home/asingh/projects/babbler/Isotropic_2D/Isotropic.i:415: expected '=' after parameter name '-1', got ','\n\n415 line is\nvalue = if(avg_conc_particle>10000,  -1, 1)",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527824",
                          "updatedAt": "2023-01-14T23:57:27Z",
                          "publishedAt": "2022-04-08T02:13:26Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "needs to be under quotes i think",
                  "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527842",
                  "updatedAt": "2022-06-16T19:42:11Z",
                  "publishedAt": "2022-04-08T02:19:01Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "@GiudGiud\nPut under quotes as\n value = if(avg_conc_particle>=10000, '-1', '1')\nstill following error\n*** ERROR ***\n/home/asingh/projects/babbler/Isotropic_2D/Isotropic.i:415: invalid character '\"' - did you leave a field value blank after a previous '='?",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527855",
                          "updatedAt": "2022-06-16T19:42:11Z",
                          "publishedAt": "2022-04-08T02:22:34Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "value = 'if(avg_conc_particle>=10000, -1, 1)'",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527862",
                          "updatedAt": "2022-06-16T19:42:11Z",
                          "publishedAt": "2022-04-08T02:23:42Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "avtarsinghh1991"
                  },
                  "bodyText": "It started working with the following\n  [Switch]\n    type = ParsedFunction\n    value = 'if(ave_conc_particle>=10000.0, -1, 1)'\n    vars = 'ave_conc_particle' \n    vals = 'ave_conc_particle'\n  [../]\n\nSorry the comment deleted by mistake.\nThanks",
                  "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2527911",
                  "updatedAt": "2022-06-16T19:42:11Z",
                  "publishedAt": "2022-04-08T02:37:41Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "avtarsinghh1991"
                  },
                  "bodyText": "@GiudGiud\nJust curious, is it possible to include following algorithm or I have write the source file for it.\nSwitch = -1  % Initial value of Switch\n\nfor time_loop\n            if (Switch.eq.1.and.ave_conc_particle.ge.50000)then     \n                Switch=-1\n            elseif (Switch.eq.-1.and.ave_conc_particle.le.10000)then    \n                Switch=1                                  \n            endif\nend\n\n\nBest\nAvtar",
                  "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2528200",
                  "updatedAt": "2022-06-16T19:42:12Z",
                  "publishedAt": "2022-04-08T04:01:19Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "you can nest ifs\nif(t=0, -1, if (ave_conc_particle > 50000, -1, if(ave_conc_particle < 10000, 1, -1)))\nnote that some of the logic simplifies out here.\nIf switch is 1 and ave_conc_particle > 50000\nswitch = -1\nis the same as just\nif (ave_conc_particle > 50000)\nswitch = -1\nsince if switch is not 1, it is -1 right?",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2528223",
                          "updatedAt": "2022-06-16T19:42:12Z",
                          "publishedAt": "2022-04-08T04:12:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "Thanks @GiudGiud\nI have a small doubt here.\nLets say the initial value of ave_conc_particle=50000 and switch = -1. Now, I do not want to change switch value unless it reaches 10000. Means, for ave_conc_particle=50000 to 10000, switch = -1.\nFor this, if(avg_conc_particle>=10000, '-1', '1') condition works absolutely fine.\nAs soon as, ave_conc_particle=10,000 or less, I need to change switch=1 but only once. It should not change with ave_conc_particle increases from 10000 to 50000.\nBut with this condition, if(avg_conc_particle>=10000, '-1', '1'), as soon as it increases 10,000 switch sign will change again to -1 which I don't want to. I want to keep the Switch = 1 as avg_conc_particle increases from 10,000 to 50,000.\nThis way, I want to do cycling.\nBasically, for ave_conc_particle decreases from 50,000 to 10,000, switch=-1\nand for ave_conc_particle increases from 10,000 to 50,000, switch=1.\nI hope you got my point. Please let me know if there is any solution for this in MOOSE.\nBest\nAvtar",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2541283",
                          "updatedAt": "2022-06-16T19:42:17Z",
                          "publishedAt": "2022-04-11T01:25:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nOk I think I see what you mean. You need to retrieve the previous value of the function to perform this. Like this for example:\n[Functions]\n  [function_a]\n    type = ParsedFunction\n    value = 'if(t=0, -1, if (ave_conc_particle > 50000, -1, if(ave_conc_particle < 10000, 1, old_value)))'\n    vars = 'ave_conc_particle old_value'\n    vals = 'ave_conc_particle old_value'\n  []\n[]\n\n[Postprocessors]\n  [ave_conc_particle]\n...\n  []\n  [old_value]\n    type = FunctionValuePostprocessor\n    function = function_a\n    execute_on = 'INITIAL TIMESTEP_END'\n  []",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2544955",
                          "updatedAt": "2022-06-16T19:42:17Z",
                          "publishedAt": "2022-04-11T13:59:34Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "Hi Guillaume\nExactly, thank you very much. I will let you know if there will be any issue.\nBest\nAvtar",
                          "url": "https://github.com/idaholab/moose/discussions/20731#discussioncomment-2545246",
                          "updatedAt": "2022-06-16T19:42:18Z",
                          "publishedAt": "2022-04-11T14:30:52Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Upcoming Webinar- Improving MOOSE workflows through Coreform Cubit",
          "author": {
            "login": "jf503"
          },
          "bodyText": "On April 8th (9 am Mountian) Coreform will introduce two MOOSE-related projects they have been working on for the past few years: adding isogeometric analysis (IGA) to MOOSE, and a MOOSE editor integrated with Coreform Cubit. The MOOSE editor integrated with Coreform Cubit has been designed to accelerate the creation and debugging of MOOSE input files.  Both of these features are in a beta state and will be released later this year; Coreform is seeking early adopters who are interested in testing the functionality and providing feedback as we polish.\nRegister here",
          "url": "https://github.com/idaholab/moose/discussions/20708",
          "updatedAt": "2022-06-14T15:23:50Z",
          "publishedAt": "2022-04-04T18:58:18Z",
          "category": {
            "name": "News"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Traiwit"
                  },
                  "bodyText": "awesome! but this will be at 1 am Sydney, Australia time, hope you guys have a recording of the session afterwards :)",
                  "url": "https://github.com/idaholab/moose/discussions/20708#discussioncomment-2505399",
                  "updatedAt": "2022-06-14T15:23:50Z",
                  "publishedAt": "2022-04-05T05:11:05Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GregVernon"
                          },
                          "bodyText": "Yes, we record all our webinars and post them to our YouTube channel shortly after - usually within 48 hours.",
                          "url": "https://github.com/idaholab/moose/discussions/20708#discussioncomment-2509806",
                          "updatedAt": "2022-06-14T15:23:50Z",
                          "publishedAt": "2022-04-05T16:57:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "awesome, thank you!",
                          "url": "https://github.com/idaholab/moose/discussions/20708#discussioncomment-2512201",
                          "updatedAt": "2022-06-14T15:23:50Z",
                          "publishedAt": "2022-04-06T00:47:02Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GregVernon"
                  },
                  "bodyText": "@Traiwit -- The webinar has been uploaded: https://www.youtube.com/watch?v=UmS-pAuBnEU",
                  "url": "https://github.com/idaholab/moose/discussions/20708#discussioncomment-2541123",
                  "updatedAt": "2022-06-14T15:23:50Z",
                  "publishedAt": "2022-04-11T00:15:05Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}