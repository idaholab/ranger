{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMi0wMy0xMVQxNDozMzoxMS0wNzowMM4AO_2U"
    },
    "edges": [
      {
        "node": {
          "title": "PorousFlow - Excavation construction process",
          "author": {
            "login": "fcastiloo"
          },
          "bodyText": "Hi MOOSE,\nI am new in the MOOSE world. I am simulating an excavation process with PorousFlow module. I think I understand how it works and the coupling among physics. I also studied the simulation of a coal mine where the excavated rock gets permeability zero.\nBut I was wondering if it is possible to update the mesh and somehow remove the nodes where the excavation occurs, hence, I can also update the boundary conditions after the excavation. I know I can pass information between meshes with MultyApps, but I could not find a good example. Also, I would like to have a unique output file where I can see how the mesh changes over time. Please let me knwo if this doesnt make sense.\nThanks and regards,\nFelipe",
          "url": "https://github.com/idaholab/moose/discussions/20601",
          "updatedAt": "2022-07-26T16:05:42Z",
          "publishedAt": "2022-03-21T18:30:06Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "I would like others to comment on this, but one way is to use BlockDeletionGenerator, https://mooseframework.inl.gov/source/meshgenerators/BlockDeletionGenerator.html .   Please note that your simulation might \"go crazy\" when you suddenly delete a block of elements, and you might have to soften the material before deleting it.",
                  "url": "https://github.com/idaholab/moose/discussions/20601#discussioncomment-2410156",
                  "updatedAt": "2022-07-26T16:05:48Z",
                  "publishedAt": "2022-03-21T21:18:20Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "fcastiloo"
                          },
                          "bodyText": "Hi,\nThanks! The only problem is that with BlockDeletionGenerator, every time the mesh changes, I will have to make a new MOOSE input file.\nMaybe someone else has another idea. Usually, in this kind of problems, the  simulation software allow the \"deactivation\" of the nodes. But my experience is only as user.",
                          "url": "https://github.com/idaholab/moose/discussions/20601#discussioncomment-2410487",
                          "updatedAt": "2022-07-26T16:06:49Z",
                          "publishedAt": "2022-03-21T22:37:22Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nSo you'll want to use a https://mooseframework.inl.gov/source/userobject/CoupledVarThresholdElementSubdomainModifier.html\nThis should be able to change the subdomain IDs of elements, and you can restrict them out of the domain of application of kernels that way, and it should also be able to update the sidesets for applying boundary conditions.\nOne restriction is that you have to frame the conditions for the mesh modification as a variable threshold. Hope that works for you\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20601#discussioncomment-2410545",
                  "updatedAt": "2022-07-26T16:06:49Z",
                  "publishedAt": "2022-03-21T22:50:04Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "fcastiloo"
                          },
                          "bodyText": "Hi GuidGuid,\nThanks!! This looks like what I need. One naive question: How can I define a rectangule as a function in MOOSE?",
                          "url": "https://github.com/idaholab/moose/discussions/20601#discussioncomment-2414894",
                          "updatedAt": "2022-07-26T16:06:51Z",
                          "publishedAt": "2022-03-22T13:30:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "What do you mean a rectangle? This doesnt take a rectangle, this takes a single real\nIf this is for something else, you can make a 'rectangle' (function is 0 outside a rectangle) with both of those:\nhttps://mooseframework.inl.gov/source/functions/PiecewiseMulticonstant.html\nhttps://mooseframework.inl.gov/source/functions/MooseParsedFunction.html",
                          "url": "https://github.com/idaholab/moose/discussions/20601#discussioncomment-2415155",
                          "updatedAt": "2022-07-26T16:06:51Z",
                          "publishedAt": "2022-03-22T14:06:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "fcastiloo"
                          },
                          "bodyText": "Thanks! In the example (https://mooseframework.inl.gov/source/userobject/CoupledVarThresholdElementSubdomainModifier.html), in the overview section, a function of a circle is defined and then re-defined as an auxvar. I was wondering how to define a rectangule instead of a circle. But it looks like I can do that with PasedFunction.\nThanks again!",
                          "url": "https://github.com/idaholab/moose/discussions/20601#discussioncomment-2415673",
                          "updatedAt": "2022-07-26T16:06:51Z",
                          "publishedAt": "2022-03-22T15:14:07Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "mass fraction at PorousFlowPeacemanBorehole",
          "author": {
            "login": "lynnmunday"
          },
          "bodyText": "I have a single phase, 2 component simulation (variables are massFracCold , massFracHot, Pore_Pressure).  Injection is with massFracCold using a PorousFlowPointSourceFromPostprocessor and production is with a PorousFlowPeacemanBorehole.  When I look at the exodus output for the massFraction for each phase, they vary between 0 and 1 everywhere in the domain except at the peaceman borehole.  At the peaceman borehole, which coincides with a node, the massfraction for the injected phase (massFracCold) just keeps climbing and the initial phase (massFracHot) that is being displaced levels off.  It's like the values at the production node are being accumulated.  Is this the expected behavior at a production point?\nHere are what I think are the important parts of my input file (Some of these are falcon objects in a PR that has not been merged yet):\n[Variables]\n  [Pore_Pressure]\n  []\n  [massFracCold]\n    initial_condition = 0.00001\n  []\n  [massFracHot]\n    initial_condition = 0.99999\n  []\n[]\n\n[PorousFlowFullySaturated]\n  porepressure = Pore_Pressure\n  mass_fraction_vars = 'massFracCold massFracHot'\n  coupling_type = Hydro\n  fp = simple_fluid\n  stabilization = Full\n[]\n\n[UserObjects]\n  [kg_out_uo]\n    type = PorousFlowSumQuantity\n  []\n[]\n\n[Modules]\n  [FluidProperties]\n    [simple_fluid]\n      type = SimpleFluidProperties\n      viscosity = 0.0001\n    []\n  []\n[]\n\n[DiracKernels]\n  [inject_fluid_mass]\n    type = PorousFlowReporterPointSourcePP\n    mass_flux = inject_mass_flux\n    x_coord_reporter = 'inject_node/node_x'\n    y_coord_reporter = 'inject_node/node_y'\n    z_coord_reporter = 'inject_node/node_z'\n    variable = massFracCold\n  []\n  [withdraw_fluid]\n    type = PorousFlowPeacemanBorehole\n    fluid_phase = 0\n    SumQuantityUO = kg_out_uo\n    bottom_p_or_t = insitu_pp_borehole\n    character = 1\n    line_length = 1\n    x_coord_reporter = 'prod_node/node_x'\n    y_coord_reporter = 'prod_node/node_y'\n    z_coord_reporter = 'prod_node/node_z'\n    weight_reporter = 'prod_node/node_value'\n    unit_weight = '0 0 0'\n    use_mobility = true\n    variable = Pore_Pressure\n  []\n[]",
          "url": "https://github.com/idaholab/moose/discussions/20589",
          "updatedAt": "2022-06-16T10:32:17Z",
          "publishedAt": "2022-03-18T00:00:10Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "lynnmunday"
                  },
                  "bodyText": "@cpgr or @WilkAndy",
                  "url": "https://github.com/idaholab/moose/discussions/20589#discussioncomment-2384279",
                  "updatedAt": "2022-06-16T10:32:38Z",
                  "publishedAt": "2022-03-18T00:00:52Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "cpgr"
                  },
                  "bodyText": "So is massfrachot being withdrawn and massfraccold not? You might need another PeacemanBorehole for the massfraccold variable and use the mass_fraction_component input parameter to specify the cold mass fraction?\nAndy would probably know better than me so hopefully he can chime in!",
                  "url": "https://github.com/idaholab/moose/discussions/20589#discussioncomment-2384356",
                  "updatedAt": "2022-06-16T10:33:27Z",
                  "publishedAt": "2022-03-18T00:30:55Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "Are you sure you have 2 components?  I think you have 3 components: MassFracCold, MassFracHot and 1 - (MassFracCol + MassFracHot).\nYou will have to know the order of the unknowns: what Variable is associated with which fluid-component equation.  That's defined at the top of https://mooseframework.inl.gov/source/actions/PorousFlowFullySaturated.html",
                  "url": "https://github.com/idaholab/moose/discussions/20589#discussioncomment-2384480",
                  "updatedAt": "2022-06-16T10:33:34Z",
                  "publishedAt": "2022-03-18T01:00:46Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Sorry for being terse - i'm in a day-long workshop :-)",
                          "url": "https://github.com/idaholab/moose/discussions/20589#discussioncomment-2384482",
                          "updatedAt": "2022-06-16T10:33:32Z",
                          "publishedAt": "2022-03-18T01:01:16Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "lynnmunday"
                  },
                  "bodyText": "@WilkAndy I didn't read your tutorial close enough!  Thanks for pointing me to the documentation for that action.  I did have three components.  I fixed that and put in another peaceman borehole for the new fluid like @cpgr pointed out and used the mass_fraction and it all seems to be working.",
                  "url": "https://github.com/idaholab/moose/discussions/20589#discussioncomment-2392548",
                  "updatedAt": "2022-06-16T10:33:52Z",
                  "publishedAt": "2022-03-19T02:53:01Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "outer_boundary_id  in PeripheralTriangleMeshGenerator",
          "author": null,
          "bodyText": "I want to use PeripheralTriangleMeshGenerator to generate a triangulated mesh between a generated outer circle boundary and a provided inner mesh.  The outer_boundary_id is set to define the mesh outer boundary. Then I use FancyExtruderGenerator to extrude the 2D mesh into 3D. But when I define  boundary condition for the radial boundary in my simulation, an error occures saying that this boundary ID does not exist.\nNot sure why this is the case?",
          "url": "https://github.com/idaholab/moose/discussions/20582",
          "updatedAt": "2022-03-18T12:14:52Z",
          "publishedAt": "2022-03-17T12:42:17Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nAdd show_info = true to each mesh generator blocks to see if the boundary wasnt defined well in the first place or if it got removed by extrusion.\nYou can use another mesh generator such as https://mooseframework.inl.gov/source/meshgenerators/SideSetsAroundSubdomainGenerator.html with a non-fixed normal to paint a radial boundary around a mesh.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20582#discussioncomment-2381062",
                  "updatedAt": "2022-03-17T14:14:06Z",
                  "publishedAt": "2022-03-17T14:13:55Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": null,
                          "bodyText": "Thank you. According to your suggestion, I added show_info= true and found that the ID on the outer boundary was defined with a fixed value of 10000. I can use this ID in my simulation.",
                          "url": "https://github.com/idaholab/moose/discussions/20582#discussioncomment-2387342",
                          "updatedAt": "2022-03-18T12:14:42Z",
                          "publishedAt": "2022-03-18T12:14:42Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "[PorousFlow] why my drainage is less when I increase 'flux_function' to a certain value?",
          "author": {
            "login": "Traiwit"
          },
          "bodyText": "Hi guys,\nso I'm using PorousFlowPiecewiseLinearSink for my drain BC\n   [./drain_DRAINSRF_EOS_PITFILL]\n      type = PorousFlowPiecewiseLinearSinkBEH\n      variable = porepressure\n      boundary = 'DRAINSRF_UG'\n      pt_vals = '0 1e9'\n      multipliers = '0 1e9'\n      flux_function = 1\n      PT_shift = 0\n      v = min\n      use_mobility = true\n      fluid_phase = 0\n     [../]\n\nbelow is my drain surface 'DRAINSRF_UG' generated externally (Abaqus)\n\nand this is what I got from my BC, as you can see some of the lower parts (drives and stopes) are not being drained. This is the phreatic surface (isosurface where porepressure = 0)\n\nSo I thought, increase the flux_function would drain more > bigger phreatic surface, but it's not the case, here is when flux_function = 1e2, I drain less compared to when flux_function = 1\n\nNot sure why this is the case?\nNoted: I find this solver setting gives me the smoothes results, other standard settings dont give me anything as nice.\n  [Executioner]\n    type = Steady\n    solve_type = NEWTON\n    petsc_options = '-snes_converged_reason'\n    petsc_options_iname = '-pc_type -pc_hypre_type -pc_hypre_boomeramg_strong_threshold -pc_hypre_boomeramg_agg_nl  -pc_hypre_boomeramg_agg_num_paths -pc_hypre_boomeramg_max_levels  -pc_hypre_boomeramg_coarsen_type   -pc_hypre_boomeramg_interp_type -pc_hypre_boomeramg_P_max -pc_hypre_boomeramg_truncfactor'\n    petsc_options_value = 'hypre    boomeramg 0.5 0 4 25 Falgout ext+i 2 0.2'\n    nl_rel_tol = 1e-6\n    l_max_its = 300\n    nl_max_its = 100\n  []\n\nPlease let me know if you have any idea in mind, thank you!\n@GiudGiud could you please help me tag any expert in this field, I know @WilkAndy is an expert on this topic",
          "url": "https://github.com/idaholab/moose/discussions/20545",
          "updatedAt": "2022-07-26T15:01:39Z",
          "publishedAt": "2022-03-14T05:15:24Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "I don't know the answer!\n\nCould it be the v = min in your version of the BC?  i don't know what that is doing.\nPerhaps when you run further in time, or tighten the tolerances, you'll get the expected behaviour.  Eg, when flux_function = 100, when using the same nl_tols then you might be actually 2 orders of magnitude \"less converged\" than when flux_function = 1.\nPerhaps nonlinear effects are coming into play: if you massively drawdown a section when flux_function = 100 and cause desaturation, then perhaps relative permeability prevents water from moving.\nIf you save_in the fluxes, do you get more or less when flux_function = 100?\n\nWell, those are some thoughts - tell us if they spark some understanding of this situation.  It's always difficult to debug huge models!  Thanks for the petsc_options info.",
                  "url": "https://github.com/idaholab/moose/discussions/20545#discussioncomment-2354621",
                  "updatedAt": "2022-07-26T15:02:13Z",
                  "publishedAt": "2022-03-14T06:12:36Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Thank you for getting back to me promptly @WilkAndy\nThe reason I mention the petsc_options because, even with flux_function = 1, but different pectsc_options, i got totally different results.\nHere is an example:  (this is an un-useable result IMO)\n\nfrom\n    petsc_options_iname = '-pc_type -sub_pc_type  -pc_asm_overlap'\n    petsc_options_value = ' asm      ilu           2              '\n\nfor v = min, min is basically the characteristic length of the element near the surface, this gives a minimal change to the solution (I just want to exactly follow Abaqus BCs)\nI'm using a FullySaturated action, I also tried UnSaturated action, minimal change, also note that this is a steady-state run\nI will try to address the save_in fluxes and other points tomorrow.\nThank you,\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/20545#discussioncomment-2357072",
                          "updatedAt": "2022-07-26T15:02:17Z",
                          "publishedAt": "2022-03-14T12:01:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "This suggests to me that your model hasn't properly converged, or there are multiple solutions.  I'm struggling to see why there might be multiple solutions here, but it's quite common in nonlinear/dissipative models.  Assuming there is a unique solution, the result should not depend on choice of petsc linear solver.\nCan you do some transient steps that lead up to the steady-state, eg take timestep 1s, 10s, 1e2, 1e3, ..., 1e10 or something similar?",
                          "url": "https://github.com/idaholab/moose/discussions/20545#discussioncomment-2360991",
                          "updatedAt": "2022-07-26T15:02:31Z",
                          "publishedAt": "2022-03-14T22:13:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @WilkAndy,\nSure i'm following the setting from the ground water example\n[Executioner]\n  type = Transient\n  solve_type = Newton\n  dt = 1E6\n  [TimeStepper]\n    type = FunctionDT\n    function = 'max(1E6, t)'\n  []\n  end_time = 1E12\n  nl_abs_tol = 1E-13\n[]\n\nI will get back to you very soon\nthe model is massive, will take quite a bit of time",
                          "url": "https://github.com/idaholab/moose/discussions/20545#discussioncomment-2361414",
                          "updatedAt": "2022-07-26T15:02:37Z",
                          "publishedAt": "2022-03-15T00:10:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @WilkAndy, so the problem was that my nl_rel_tol wasn't low enough, I set it to 1e-6 for the most cases in the past\nwhen I see the jump of R from e6 to e1 (R initial is around 5e11), I thought it wouldn't go any further\n\nbut then I let it solve further till the system breakdown, it could reach R = e-2, then changed nl_abs_tol to that, and I got the results that I want (very good match Abaqus).\n\nthe wireframe is Abaqus, the surface is moose\n\nThank you for your help!\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/20545#discussioncomment-2376816",
                          "updatedAt": "2022-11-10T08:10:46Z",
                          "publishedAt": "2022-03-17T00:15:57Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Phew !    I'm always stressed that something's not working in the code, so nice to know it was just some stupid tolerances :-)",
                          "url": "https://github.com/idaholab/moose/discussions/20545#discussioncomment-2376876",
                          "updatedAt": "2022-11-10T08:10:47Z",
                          "publishedAt": "2022-03-17T00:36:02Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to output creep strain rate in the class \"PowerLawCreepStressUpdate\"",
          "author": {
            "login": "xchengood"
          },
          "bodyText": "Hi Moose experts or users,\nCould anyone share advice about how to output creep strain rate in PowerLawCreepStressUpdate with me? The power-law creep model just describes the secondary steady-state case and it cannot reflect whole creep behavior usually including three stages. Thank you.",
          "url": "https://github.com/idaholab/moose/discussions/20575",
          "updatedAt": "2022-06-06T14:54:32Z",
          "publishedAt": "2022-03-16T15:33:32Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "recuero"
                  },
                  "bodyText": "The creep strain rate in PowerLawCreepStressUpdate is an internal local variable, so it can't be outputted as of now. You can output creep_strain instead, from which you could compute its rate.\nYeah, this is a fairly basic model. Blackbear (https://github.com/idaholab/blackbear), a MOOSE app, couples a library with more advanced creep models, in case you are interested.",
                  "url": "https://github.com/idaholab/moose/discussions/20575#discussioncomment-2375802",
                  "updatedAt": "2022-06-06T14:54:31Z",
                  "publishedAt": "2022-03-16T20:50:40Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "xchengood"
                          },
                          "bodyText": "Hi @recuero. Thank you for your advice. Could you tell me more about if there is an easy way to accurately compute creep strain rate from creep_strain? I saw there are many equations reported in the literature, which are not convenient to solve the rate from outputted strain.",
                          "url": "https://github.com/idaholab/moose/discussions/20575#discussioncomment-2376203",
                          "updatedAt": "2022-06-06T14:54:31Z",
                          "publishedAt": "2022-03-16T21:55:28Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "recuero"
                          },
                          "bodyText": "Probably the most convenient is to compute it from the stress by making use of the power law equation and the input parameters. This class implements the typical A * stress^{n} Norton model with some extra parameters.",
                          "url": "https://github.com/idaholab/moose/discussions/20575#discussioncomment-2376324",
                          "updatedAt": "2022-06-06T14:54:31Z",
                          "publishedAt": "2022-03-16T22:15:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "xchengood"
                          },
                          "bodyText": "I see. Appreciate your help.",
                          "url": "https://github.com/idaholab/moose/discussions/20575#discussioncomment-2376337",
                          "updatedAt": "2022-06-06T14:54:31Z",
                          "publishedAt": "2022-03-16T22:18:09Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "mambaforge3 installation problem",
          "author": {
            "login": "WilkAndy"
          },
          "bodyText": "Hey everyone,\nI decided to attempt to completely wipe my MOOSE and reinstall everything (due to an ugly non-MOOSE problem i was having).   I just rm -Rf /opt/moose and deleted some stuff from my .zshrc.  I started to follow the instructions at https://mooseframework.inl.gov/getting_started/installation/conda.html but got stuck on the 2nd step (!!)\nwil04q@FOURIER-PH: /Users/wil04q/> bash Mambaforge-MacOSX-x86_64.sh -b -p ~/mambaforge3\nPREFIX=/Users/wil04q/mambaforge3\nUnpacking payload ...\nMambaforge-MacOSX-x86_64.sh: line 362: /Users/wil04q/mambaforge3/conda.exe: Input/output error\nMambaforge-MacOSX-x86_64.sh: line 365: /Users/wil04q/mambaforge3/preconda.tar.bz2: No such file or directory\n\nAny ideas how to fix this?\na",
          "url": "https://github.com/idaholab/moose/discussions/20573",
          "updatedAt": "2022-06-10T17:10:15Z",
          "publishedAt": "2022-03-16T10:37:14Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "Can you try using sh instead of bash (just for funzies). I think I've seen something like this in the past for a bad interpreter parameter.",
                  "url": "https://github.com/idaholab/moose/discussions/20573#discussioncomment-2372428",
                  "updatedAt": "2022-06-10T17:10:35Z",
                  "publishedAt": "2022-03-16T12:28:25Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Hi @milljm : I got the same error using sh and bash.  I'm wondering whether this is a recent error in mambaforge, as there is an issue with identical error message opened 16 days ago at mamba-org/mamba#1543 .    FYI, the command brew install miniforge also gives the same error message.\nI ended up installing anaconda for python3.7 as per https://docs.anaconda.com/anaconda/install/mac-os/ .  I then followed the instructions at https://mooseframework.inl.gov/getting_started/installation/conda.html , replacing mamba with conda, viz\nconda config --add channels https://conda.software.inl.gov/public\nconda init\nconda create --name moose -q -y\nconda activate moose\nconda install moose-tools moose-libmesh\nconda deactivate\nconda activate moose\n\nand also adding conda activate moose to the bottom of my .zshrc.\nDo you think that's OK for now?\na",
                          "url": "https://github.com/idaholab/moose/discussions/20573#discussioncomment-2375932",
                          "updatedAt": "2022-06-10T17:10:40Z",
                          "publishedAt": "2022-03-16T21:09:55Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@WilkAndy\nyou can use conda that should work well too, just a little slower than mamba.\nWe'll keep an eye out to see if others are affected with mamba",
                          "url": "https://github.com/idaholab/moose/discussions/20573#discussioncomment-2375966",
                          "updatedAt": "2022-06-10T17:10:47Z",
                          "publishedAt": "2022-03-16T21:15:07Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Divergence of vector AuxVariable in AuxKernel",
          "author": {
            "login": "RossMech"
          },
          "bodyText": "Hello everyone,\nI would like to ask if one can calculate divirgence of vector AuxVariable as scalar AuxVariable with some kind of AuxKernel? If there is no such functionality implemented, then how it is possible to call divergence operator inside of AuxKernel source code?\nThank you for the answer in advance!\nBest regards,\nRostyslav Nizinkovskyi.",
          "url": "https://github.com/idaholab/moose/discussions/20554",
          "updatedAt": "2022-08-01T06:34:24Z",
          "publishedAt": "2022-03-15T10:22:08Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThere is this one:\nhttps://mooseframework.inl.gov/source/auxkernels/INSDivergenceAux.html\nin the Navier Stokes module. What modules are you currently using?\nNevermind the description in the documentation, it does compute the divergence.\nI ll fix the docs in an upcoming PR\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20554#discussioncomment-2368499",
                  "updatedAt": "2022-08-01T06:34:24Z",
                  "publishedAt": "2022-03-15T22:22:08Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "RossMech"
                          },
                          "bodyText": "Thank you for the answer. I will try to implement it in the model!",
                          "url": "https://github.com/idaholab/moose/discussions/20554#discussioncomment-2372601",
                          "updatedAt": "2022-08-01T06:34:24Z",
                          "publishedAt": "2022-03-16T12:52:32Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Change Executioner parameters during run",
          "author": {
            "login": "reverendbedford"
          },
          "bodyText": "I would like to change an executioner parameter during a simulation run (as a function of time).  Specifically I want to switch automatic_scaling or possibly adjust rtol or atol to deal with a radical change in the how my model is loaded, which occurs sometime pretty late in the simulation.  These parameters are not controllable, according to the docs, so I can't use the [Control] system.  Is there any other way to do something like this?",
          "url": "https://github.com/idaholab/moose/discussions/20548",
          "updatedAt": "2022-07-18T16:09:09Z",
          "publishedAt": "2022-03-14T13:50:04Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "I recall there is a parameter to recompute the scaling factor at every step. Probably something like compute_scaling_once = false.",
                  "url": "https://github.com/idaholab/moose/discussions/20548#discussioncomment-2357882",
                  "updatedAt": "2022-07-17T00:39:23Z",
                  "publishedAt": "2022-03-14T13:56:54Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "reverendbedford"
                          },
                          "bodyText": "Yes, I tried that but it's not helping.\nI'm in a situation where automatic scaling is very helpful and probably required to get convergence for a large part of the simulation time.  But then I change my BCs radically near the end of the run (contact stops occuring) and if I keep automatic scaling on (either fixed or recomputed) nonlinear convergence \"bottoms out\"  and won't go below the tolerances I have configured for the bulk of the simulation.\nI could increase nl_atol or nl_rtol  for the whole simulation but then I would get less accuracy than I want for the bulk of the simulation.  So it would be better to be able to control those as a function of time.  I could also switch automatic_scaling off at some point, if that was possible.",
                          "url": "https://github.com/idaholab/moose/discussions/20548#discussioncomment-2357903",
                          "updatedAt": "2022-07-17T00:39:23Z",
                          "publishedAt": "2022-03-14T14:00:43Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Currently not. Though there is interest for this feature, so either making a bunch of executioner parameters controllable, or making them be functions instead of single scalar/boolean values.\nMOOSE team is pretty busy rn so I dont think this will come soon unless outside contributors pitch in",
                  "url": "https://github.com/idaholab/moose/discussions/20548#discussioncomment-2361513",
                  "updatedAt": "2022-07-17T00:39:23Z",
                  "publishedAt": "2022-03-15T00:40:51Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "reverendbedford"
                          },
                          "bodyText": "Thanks.  I take it it's not as easy as just marking those parameters as controllable :)",
                          "url": "https://github.com/idaholab/moose/discussions/20548#discussioncomment-2362023",
                          "updatedAt": "2022-07-17T00:39:28Z",
                          "publishedAt": "2022-03-15T02:51:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Actually for some of them it very well might be. Also make sure the class holds a reference to the scalar/boolean and not a value",
                          "url": "https://github.com/idaholab/moose/discussions/20548#discussioncomment-2362342",
                          "updatedAt": "2022-07-17T00:39:28Z",
                          "publishedAt": "2022-03-15T04:45:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "No, it's currently a no-go. Because NonlinearSystemBase doesn't have access to the outer FEProblemSolve. If you attempt to declare a parameter in FEProblemSolve as controllable, you'll have to store a reference in FEProblemSolve, and provide getters for others. This looks like a design issue to me.",
                          "url": "https://github.com/idaholab/moose/discussions/20548#discussioncomment-2365442",
                          "updatedAt": "2022-07-17T00:39:28Z",
                          "publishedAt": "2022-03-15T14:17:31Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Methodology for solving computational homogenization problems",
          "author": {
            "login": "abarun22"
          },
          "bodyText": "Dear all,\nI am finally down to the problem of selecting the right approach for performing homogenization calculations for my work.  (#18776) can be referred for the background information related to this work. The sub-model that is currently in use is driven by a stress tensor and solved by a global strain approach. I initially found this to be suitable to my requiremements when things are raw and not matured. As i tend to refine my approach to the solution of this multi-level FE problem i found out that the sub-model i am executing is supposed to be driven by a macroscopic deformation gradient, rather than a conventional stress tensor. The attached paper can be referred back to understand the specifics involved in this approach.\nGeers_computational_homogenization.pdf\nAs you can refer from section 4.2 the micro-scale problem is mainly influenced by the macro deformation gradient for each gauss point, that plays a key role in the macro-micro kinematcis and the ensuing boundary conditions. Please could you suggest if there are any such alternate methods available in MOOSE that can execute an RVE model purely through the application of macro deformation gradient? Also i will need to homogenize the PK stress tensor and tangent stiffness matrix and so i want the sub-model to be operating under a finite strain space. Can this be a possibility?\nKind regards,\nArun",
          "url": "https://github.com/idaholab/moose/discussions/19997",
          "updatedAt": "2022-06-15T15:00:10Z",
          "publishedAt": "2022-01-10T18:17:50Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@SudiptaBiswas @sapitts",
                  "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-1987212",
                  "updatedAt": "2022-06-15T15:00:16Z",
                  "publishedAt": "2022-01-18T01:40:07Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "jiangwen84"
                  },
                  "bodyText": "It is possible but I do not think it is even been solved before yet. For this, you need a multi-app models in which the master app is the macro problem and sub apps are the micro problem. If my understanding is correct, at each quadrature point of the macro problem, you need to solve a micro problem. For that you need to transfer the information, such as macro deformation gradient and homogenized PK stress and tangential stiffness from/to master to/from sub apps. That means you need implement customized transfer and figure out how to calculate/store those data.",
                  "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-1987468",
                  "updatedAt": "2022-06-15T15:00:17Z",
                  "publishedAt": "2022-01-18T03:13:33Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "abarun22"
                          },
                          "bodyText": "Thanks Wen. Thats indeed what i am working at the moment. I did create a method earlier for the customized transfer of key data items you listed here. I am currently trying to check how i can set up the RVE model, essentially the periodic boundary conditions driven by the macro deformation gradient tensor FM. Moose currently can handle the general PBC's by ensuring equal displacements along the periodic boundaries, u+ = u-.\nFor an FM driven RVE you may want to say (FM - I) (X+ - X-) = u+ - u-. Here I is the identity tensor and X being the position vector in the dimensional space.\nRe-writing this equation for the repsective periodic faces we can say\n(FM - I) X+ - u+ = (FM - I) X- - u-\nThe LHS and RHS literally implies the displacement quantities for the opposite periodic faces and this would seem analogous to U+ = U- and eventually required to be implemented in to PBC's. My intention here is to check if there are any possibilities to represent this expression ((FM - I) X- u) as PBC constraints through existing features available in MOOSE. Probably somebody might've tried similar attempts while addressing computational homogenization problems. Any thoughtful ideas here would be much appreciated.\nKind regards,\nArun",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2017573",
                          "updatedAt": "2022-06-15T15:00:16Z",
                          "publishedAt": "2022-01-21T17:54:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "MOOSE uses GlobalStrain approach to enforce periodic BCs for mechanics problems. See https://mooseframework.inl.gov/syntax/Modules/TensorMechanics/GlobalStrain/",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2018056",
                          "updatedAt": "2022-06-15T15:00:17Z",
                          "publishedAt": "2022-01-21T18:57:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abarun22"
                          },
                          "bodyText": "Hi Wen,\nThanks for the suggestions. More questions from my side.\n\nIt seems like the global strain approach is another way of enforcing periodicity constraints while running an RVE sub-model, however driven by a macro stress tensor. I wonder whether this model gives equivalent results as that of the conventional RVE models for computational homogenization driven by a macro deformation gradient. I was particularly keen to know how the micro-fluctuation field is super-imposed in the calculation of current configuration in MOOSE as it was the case for the FM driven analysis\ngiven here Geers_Kuznetsova_EncyclopCompMech_Chapter.pdf in section 4.2.\nI would want to see the global strain approach to be extended to large strain material models, so that calculation of PK1 (for homogenization) makes relevance there. I am not sure how extensive this work is, if one wants to take initiative and do the extension activities.\nIs it necessary to use CPFE material models alongside global strain models to be able to generate the right results reflecting the micro material-behavour at this scale. At the current level of implementation CPFE models aren't supported and so additional work required here.\nDo you see the homogenized tangent stiffness matrix to be returned to the macro model along with PK1?\nKind regards,\nArun",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2033316",
                          "updatedAt": "2022-06-15T15:00:17Z",
                          "publishedAt": "2022-01-24T11:52:38Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@jiangwen84",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2084022",
                          "updatedAt": "2022-07-11T09:23:57Z",
                          "publishedAt": "2022-01-31T19:11:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "SudiptaBiswas"
                          },
                          "bodyText": "We have a publication, where you can find more about the applicability of the GlobalStrain approach.  It has mostly been used for RVE based mesoscale simulations. https://www.sciencedirect.com/science/article/pii/S0168874X20301165",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2085824",
                          "updatedAt": "2022-07-11T09:23:57Z",
                          "publishedAt": "2022-02-01T01:42:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abarun22"
                          },
                          "bodyText": "Hi Sudipta,\nI find GlobalStrain approach to be suitable for solving RVE homogenization problems but with certain adjustments. Once after the RVE solution phase is completed i may need to add up the macro-displacement field with the fluctuation field to arrive at the current configuration. The macro-deformation gradient is further added up with the deformation gradient due to fluctuation field in order to obtain the micro-deformation gradient. This would then help me to compute the Piola stresses needed to be scaled to the macro gauss points. I would be required to work in a large strain setting if want to compute these stress measures and accomplish the task of homogenization. May i ask your help in porting the global strain models to work under an incremental strain setting #18776, so that we provide an interface to access large strain material models. Without this activity we may not be able to achieve the correct set of stress measures for homogenization.\nThanks and regards,\nArun",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2090838",
                          "updatedAt": "2022-07-11T09:23:57Z",
                          "publishedAt": "2022-02-01T17:43:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "SudiptaBiswas"
                          },
                          "bodyText": "Hi Arun, Unfortunately, I won't have the opportunity to work on it any time soon.",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2145886",
                          "updatedAt": "2022-07-11T09:23:57Z",
                          "publishedAt": "2022-02-10T01:07:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "reverendbedford"
                          },
                          "bodyText": "This was done as part of the new tensor_mechanics \"Lagrangian\" kernels.  See https://mooseframework.inl.gov/modules/tensor_mechanics/Homogenization.html.  You can drive the RVE with either an imposed 1st PK stress tensor, an imposed deformation gradient, or a combination of both.",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2154725",
                          "updatedAt": "2022-07-11T09:24:00Z",
                          "publishedAt": "2022-02-11T03:48:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abarun22"
                          },
                          "bodyText": "Thanks for suggesting this method. It indeed looks very much interesting. Before integrating this RVE model, i wanted to clarify certain things, mainly on the front of data quantities that needed to be passed between the macro and RVE models to accomplish the workflow. Looking at the system documentation, it seems like this method primarily aims at imposing scale transition constraints based on the targets set by the user. These targets are either the stress or deformation gradient measures for a model that exhibits a large strain kinematic behaviour. My question is how do we know these targets before we intend to run the RVE model. Essentially the effective properties (PK1) that we might expect to compute from a typical homogenization scheme, are volume averaged and are equivalent to these targets which are eventually transferred to the macro gauss points. This scenario now presents with a dilemma as to what quantities are to be passed from and to the macro gauss points. Any clarification on this would be highly appreciated.",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2228040",
                          "updatedAt": "2022-07-11T09:24:04Z",
                          "publishedAt": "2022-02-22T11:53:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "reverendbedford"
                          },
                          "bodyText": "The imposed deformation gradient on the microscale problems would come from the displacement gradient in the macroscale problem.  The stress contributing to the residual in the macroscale problem would be the averaged PK1 stress calculated via the homogenization system over the microscale problems.\nIf you're asking about how to connect the microscale and macroscale problems I haven't done anything like that in the past.",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2228901",
                          "updatedAt": "2022-07-11T09:24:01Z",
                          "publishedAt": "2022-02-22T14:17:35Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "abarun22"
                  },
                  "bodyText": "Hi Mark,\nI started working towards integrating this system in to my workflow. I am keen to know the requirement for item 3 in your previous note. Please could you let me know?",
                  "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2297166",
                  "updatedAt": "2022-06-15T15:00:22Z",
                  "publishedAt": "2022-03-04T18:49:04Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "reverendbedford"
                          },
                          "bodyText": "Sorry, I missed the notification you replied.\n\nYou need that derivative in the macroscale problem to solve for equilibrium.\nPresumably you would calculate it as a scalar AuxVariable in your microscale problems with some sort of user object and then transfer it to the material property (\"pk1_jacobian\") in the macroscale problem.\nThe usual MOOSE way.  You can either use newton's method or PJFNK.  If you are careful with your Jacobians I would use newton.\nYes, there will be iterations on both the macroscale problem (equilibrium of the macroscale stress field) and on the microscale problems (equilibrium on the microscale + complying with the deformation gradient constraints).",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2297434",
                          "updatedAt": "2022-06-15T15:00:22Z",
                          "publishedAt": "2022-03-04T19:53:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abarun22"
                          },
                          "bodyText": "Hi Mark,\nI was trying to think of a framework from the multi-scale perspective and wanted to clarify the following.\n\nConcerning the derivative of first piola stress with respect to the macro deformation gradient, i am interested in the following relation when visualized from a macro model.\n\nThe variable _pk1_stress_hom is volume averaged and supposed to be transferred from the micro model. My concern is whether this quantity is already present in the volume averaged condition or i may need to do that explicitly in the micro-model before i transfer that to the macro. For example when you look at this line _pk1_stress[_qp](_indices[_h].first, _indices[_h].second) this does not seem to be a volume averaged variable, as it has been referenced for a quadrature point and not for a domain.\nI planned to compute this derivative from within the macro model as this seems the most optimal place to incorporate this material property. I guess just naming this variable as _pk1_jacobian and placing the calculations inside computeQpPK1Stress() will do the job.\nI presume that Newton's method will make use of the jacobian that we derive. How different is PJFNK from Newton's in this case?\nKind regards,\nArun",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2317047",
                          "updatedAt": "2022-06-15T15:00:23Z",
                          "publishedAt": "2022-03-08T14:30:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "reverendbedford"
                          },
                          "bodyText": "If you do things as I've suggested (use the system to impose the macroscale deformation) you will need to calculate the volume-averaged stress yourself.  You can use a postprocessor to average the \"pk1\" material property over the microscale domain.\nI don't think so.  You will need to calculate the derivative in the microscale problems and then transfer the information to your macroscale problem.\nAssuming you get your Jacobian correct Newton's method will likely convergence quicker (fewer iterations) and is generally faster for \"standard\" one scale mechanics problems.  But your situation is rather different.  If you don't want to get your Jacobian correct than you might use PJFNK, which is less sensitive to problems with the Jacobian.",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2328593",
                          "updatedAt": "2022-06-15T15:00:23Z",
                          "publishedAt": "2022-03-10T03:39:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abarun22"
                          },
                          "bodyText": "Hi Mark,\nI wanted to recall one of my earlier question and clarify that before i move on with further activities. I am still not very clear how different are the homogenized RVE stresses as against the original macro stresses, since the method is based entirely on constraining the stresses or strains through the construction of residual. The stresses may not vary much even when the deformation gradients are allowed to drive the RVE model. If these arguments are valid, could this be relieved by adding the macro deformation gradient to the deformation gradient computed by the system? The later one is computed by the gradient of the micro-fluctuation field against the original RVE configuration. In that case we could also use the macro stresses instead of macro deformation gradients to drive the RVE. Do you see if these modifications are reasonable and compatible with the system assumptions?\nKind regards,\nArun",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2360162",
                          "updatedAt": "2022-08-31T16:23:13Z",
                          "publishedAt": "2022-03-14T19:36:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "reverendbedford"
                          },
                          "bodyText": "That's what the system already does.  Please review the math in the documentation.\nThe displacements used in solving for the stresses in the microscale problem are the superposition of the  macroscale displacements and the microscale displacements.  If you entirely impose deformation gradient constraints, as I've suggested, the macroscale displacements are affine with the macroscale deformation gradient (your \"macro deformation gradient\".  The microscale displacements (your \"micro-flucation field\") are periodic but otherwise unconstrained.",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2362063",
                          "updatedAt": "2022-08-31T16:23:13Z",
                          "publishedAt": "2022-03-15T03:04:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abarun22"
                          },
                          "bodyText": "Yes Mark, i see that the macro displacements are superposed over the micro-scale displacements while formulating the constraints. That's the key in coupling the macro model with the fine scale model and we might be able to see the influence of one on the other. I am currently working on developing a relevant transfer scheme for carrying the tensors between the scales. Do you see any other issues concerning this model to be going in to my work? If things are OK, i shall look further in to integrating the system with my framework.\nKind regards,\nArun",
                          "url": "https://github.com/idaholab/moose/discussions/19997#discussioncomment-2363832",
                          "updatedAt": "2022-08-31T16:23:13Z",
                          "publishedAt": "2022-03-15T10:01:16Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Show kernels for variables",
          "author": {
            "login": "rtaylo45"
          },
          "bodyText": "Hello,\nIs there a debug flag, similar to show_material_props, which shows which kernels are attached to which variables?\nThanks,\nZack",
          "url": "https://github.com/idaholab/moose/discussions/20536",
          "updatedAt": "2022-03-14T15:03:23Z",
          "publishedAt": "2022-03-11T19:37:32Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nDont think so. But verbose output for the kernel_coverage_check would do the trick if you're willing to dive in\nhttps://mooseframework.inl.gov/framework_development/sanity_checking.html#!\nHere's the list of all the Debug flags btw\nhttps://mooseframework.inl.gov/syntax/Debug/index.html\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20536#discussioncomment-2342407",
                  "updatedAt": "2022-03-11T21:33:21Z",
                  "publishedAt": "2022-03-11T21:33:11Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}