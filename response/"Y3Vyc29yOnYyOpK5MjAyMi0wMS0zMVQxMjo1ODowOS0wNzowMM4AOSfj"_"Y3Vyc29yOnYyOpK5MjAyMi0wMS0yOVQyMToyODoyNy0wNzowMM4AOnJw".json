{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMi0wMS0yOVQyMToyODoyNy0wNzowMM4AOnJw"
    },
    "edges": [
      {
        "node": {
          "title": "Error in visualization of vonmises stress",
          "author": {
            "login": "echo1115"
          },
          "bodyText": "Hello everyone,\nWhen analyzing circular plates with holes, i applied pressure to the internal holes. However, by using the postprocessing software ParaView, the visualization of vonmises stress is always close to zero, while the visualization of strain is reasonable.",
          "url": "https://github.com/idaholab/moose/discussions/19668",
          "updatedAt": "2022-09-30T01:42:42Z",
          "publishedAt": "2021-12-19T13:14:47Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nIt seems to be exactly 0 here. What time are you plotting this at?\nGuillaume\nPS: please paste input files (in quotes for formatting) rather than post screenshots.",
                  "url": "https://github.com/idaholab/moose/discussions/19668#discussioncomment-1844206",
                  "updatedAt": "2022-09-30T01:42:42Z",
                  "publishedAt": "2021-12-19T21:29:07Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@echo1115 any update on this?",
                          "url": "https://github.com/idaholab/moose/discussions/19668#discussioncomment-2084034",
                          "updatedAt": "2022-09-30T01:42:42Z",
                          "publishedAt": "2022-01-31T19:13:03Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Conda install produces an \"Unsolveable Error\" with no other information",
          "author": {
            "login": "Sriram2631"
          },
          "bodyText": "Bug Description\n\nSteps to Reproduce\n\nImpact",
          "url": "https://github.com/idaholab/moose/discussions/19948",
          "updatedAt": "2022-02-23T06:54:40Z",
          "publishedAt": "2021-12-27T12:52:10Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Sriram2631"
                  },
                  "bodyText": "Following the steps for installation, the conda install command produces an \"Unsolveable Error\" and provides no further information. Unsure whether this is an issue with conda or MOOSE or with my linux system itself.\nFor reference: OS - Ubuntu 20.04.3 LTS",
                  "url": "https://github.com/idaholab/moose/discussions/19948#discussioncomment-1907539",
                  "updatedAt": "2022-01-04T18:17:57Z",
                  "publishedAt": "2021-12-27T12:55:31Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "loganharbour"
                  },
                  "bodyText": "Converted to a discussion.\n@Sriram2631 can you please provide more information? What steps did you do exactly? Show the commands and paste the entire error.",
                  "url": "https://github.com/idaholab/moose/discussions/19948#discussioncomment-1907542",
                  "updatedAt": "2022-01-04T18:18:35Z",
                  "publishedAt": "2022-01-04T18:18:25Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@Sriram2631",
                          "url": "https://github.com/idaholab/moose/discussions/19948#discussioncomment-2084029",
                          "updatedAt": "2022-01-31T19:12:32Z",
                          "publishedAt": "2022-01-31T19:12:32Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Presplitting mesh and Manual Periodic boundaries",
          "author": {
            "login": "KhaledNabilSharafeldin"
          },
          "bodyText": "Hello,\nCurrently I have a large mesh for which, when I try to run a problem with pre-split mesh and manual periodic boundaries, I get this error\n[59] ./include/libmesh/remote_elem.h, line 120, compiled Sep  9 2021 at 12:30:06\n\n\n*** ERROR ***\nError: not implemented!\n\nif i comment out this BC it works fine:\n  [./Periodic]\n     [./manual_rx1]\n       variable = 'rho1x  rho1y   rho1z   rho2x   rho2y   rho2z   rho3x   rho3y   rho3z   rho4x  rho4y   rho4z   rho5x   rho5y   rho5z   rho6x   rho6y   rho6z rho7x  rho7y   rho7z   rho8x   rho8y   rho8z   rho9x   rho9y   rho9z   rho10x  rho10y   rho10z   rho11x   rho11y   rho11z   rho12x   rho12y   rho12z cxx cxy cxz cyx cyy cyz czx czy czz zx zy zz'       \n       primary = 'left1'\n       secondary = 'right1'\n       translation = '5 0 0'\n     [../]\n\n     \n     [./manual_ry1]\n       variable = 'rho1x  rho1y   rho1z   rho2x   rho2y   rho2z   rho3x   rho3y   rho3z   rho4x  rho4y   rho4z   rho5x   rho5y   rho5z   rho6x   rho6y   rho6z rho7x  rho7y   rho7z   rho8x   rho8y   rho8z   rho9x   rho9y   rho9z   rho10x  rho10y   rho10z   rho11x   rho11y   rho11z   rho12x   rho12y   rho12z cxx cxy cxz cyx cyy cyz czx czy czz zx zy zz'\n       primary = 'back1'\n       secondary = 'front1'\n       translation = '0 5 0'\n     [../]\n     [./manual_rz1]\n       variable = 'rho1x  rho1y   rho1z   rho2x   rho2y   rho2z   rho3x   rho3y   rho3z   rho4x  rho4y   rho4z   rho5x   rho5y   rho5z   rho6x   rho6y   rho6z rho7x  rho7y   rho7z   rho8x   rho8y   rho8z   rho9x   rho9y   rho9z   rho10x  rho10y   rho10z   rho11x   rho11y   rho11z   rho12x   rho12y   rho12z cxx cxy cxz cyx cyy cyz czx czy czz zx zy zz'\n       primary = 'bottom1'\n       secondary = 'top1'\n       #translation = '0 0 1.0515947'\n       #translation = '0 0 1.042052099'\n       #translation = '0 0 1.024085683'\n       #translation = '0 0 1.414213562'\n       translation = '0 0 5.303300859'\n      #  translation = '0 0 5.120428415'\n      #  translation = '0 0 4.093776102'\n       #translation = '0 0 5'\n     [../]\n\nThanks in advance!",
          "url": "https://github.com/idaholab/moose/discussions/19659",
          "updatedAt": "2022-07-07T06:01:51Z",
          "publishedAt": "2021-12-16T23:26:24Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou should first try using the distributed mesh option, passing --distributed-mesh on the command line.\nPre-splitting the mesh is used to pay once the cost of partitioning then be able to skip that step later on. Distributing the mesh is the real memory saver here.\nThis error seems like something you are trying to use is not implemented. Can you try the automatic periodic boundary conditions?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/19659#discussioncomment-1829424",
                  "updatedAt": "2022-07-07T06:01:47Z",
                  "publishedAt": "2021-12-16T23:33:29Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "KhaledNabilSharafeldin"
                          },
                          "bodyText": "--use-distributed-mesh doesn't work for this mesh unfortunately, but if i use a machine with higher memory it does work. That's why I am looking into using pre-split mesh.\nusing auto_direction for periodic condition doesn't seem to work either.\n    [./Periodic]\n     [./all]\n       variable = 'rho1x  rho1y   rho1z   rho2x   rho2y   rho2z   rho3x   rho3y   rho3z   rho4x  rho4y   rho4z   rho5x   rho5y   rho5z   rho6x   rho6y   rho6z rho7x  rho7y   rho7z   rho8x   rho8y   rho8z   rho9x   rho9y   rho9z   rho10x  rho10y   rho10z   rho11x   rho11y   rho11z   rho12x   rho12y   rho12z cxx cxy cxz cyx cyy cyz czx czy czz zx zy zz'       \n        auto_direction = 'x y z'\n     [../]\n [../]",
                          "url": "https://github.com/idaholab/moose/discussions/19659#discussioncomment-1829617",
                          "updatedAt": "2022-07-07T06:01:46Z",
                          "publishedAt": "2021-12-17T00:00:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "What do you mean it doesnt work? What errors are you getting?",
                          "url": "https://github.com/idaholab/moose/discussions/19659#discussioncomment-1829728",
                          "updatedAt": "2022-07-07T06:01:46Z",
                          "publishedAt": "2021-12-17T00:04:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KhaledNabilSharafeldin"
                          },
                          "bodyText": "Same as before:\n./include/libmesh/remote_elem.h, line 120, compiled Sep  9 2021 at 12:30:06\n\n\n*** ERROR ***\nError: not implemented!",
                          "url": "https://github.com/idaholab/moose/discussions/19659#discussioncomment-1829797",
                          "updatedAt": "2022-07-07T06:01:45Z",
                          "publishedAt": "2021-12-17T00:06:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KhaledNabilSharafeldin"
                          },
                          "bodyText": "and --use-distributed-mesh runs out of memory",
                          "url": "https://github.com/idaholab/moose/discussions/19659#discussioncomment-1829822",
                          "updatedAt": "2022-07-07T06:03:30Z",
                          "publishedAt": "2021-12-17T00:08:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "What are all these variables? All Lagrange first order or anything different?\nHave you tried running this case in serial or with very few processes with a replicated mesh?",
                          "url": "https://github.com/idaholab/moose/discussions/19659#discussioncomment-1841139",
                          "updatedAt": "2022-07-07T06:03:30Z",
                          "publishedAt": "2021-12-18T16:29:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "as was noted on another post, --distributed-mesh is the correct command line option. Closing this.",
                          "url": "https://github.com/idaholab/moose/discussions/19659#discussioncomment-2084015",
                          "updatedAt": "2022-07-07T06:03:30Z",
                          "publishedAt": "2022-01-31T19:10:09Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Diverged line searches after a restart",
          "author": {
            "login": "mangerij"
          },
          "bodyText": "I have a fairly large input file with a lot of moving parts that converges just fine and gives the correct output.\nI then take the output as an initial condition for precisely the same input file and I get diverged line searches on the first time step after the second nonlinear iteration.\nI find that if I increase my time step to around where it was when the original calculation was used, it converges no problem. But if it is too small, then I get diverged line searches.\nHas anyone encountered this before?",
          "url": "https://github.com/idaholab/moose/discussions/20167",
          "updatedAt": "2022-07-09T08:32:13Z",
          "publishedAt": "2022-01-28T16:46:31Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\ndoes it look like it s converging between 1st and 2nd iteration?\nDoes it converge without a line search? \u2018Line_search=none\u2019 in the Executioner parameter\nDid you restart everything, even the auxvaruables?\nAre you using the default 1st order implicit time scheme?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20167#discussioncomment-2068907",
                  "updatedAt": "2022-07-09T08:32:14Z",
                  "publishedAt": "2022-01-28T19:32:19Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "mangerij"
                          },
                          "bodyText": "Yes, converges perfectly between first and second nonlinear iterations.\nTurning line search off does not let it converge.\nI am restarting all auxvariables yes.\nAnd yes, using implicit-euler.\nAnd I should mention that I avoided this problem by taking larger time steps.  But I found this issue to be strange to me and took me a while to figure it out.",
                          "url": "https://github.com/idaholab/moose/discussions/20167#discussioncomment-2079530",
                          "updatedAt": "2022-07-09T08:32:15Z",
                          "publishedAt": "2022-01-31T07:59:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@fdkong does the default line search have some sort of history / informed by previous searches feature?",
                          "url": "https://github.com/idaholab/moose/discussions/20167#discussioncomment-2082132",
                          "updatedAt": "2022-07-09T08:32:16Z",
                          "publishedAt": "2022-01-31T15:00:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "fdkong"
                          },
                          "bodyText": "@fdkong does the default line search have some sort of history / informed by previous searches feature?\n\nNo, linesearch does not store history.\nThe issue happened here might be caused by an incomplete restart. If we restart correctly, the nonlinear and linear residuals should be the same.\nWe could enable checkpoint files and restart from the previous time step for debugging. Then compare the solver behaviors of the restarted simulation with the original one at the same time step.\n\nI then take the output as an initial condition for precisely the same input file\n\n@mangerij\nWhat kind of files you restart with? Exodus or check point?",
                          "url": "https://github.com/idaholab/moose/discussions/20167#discussioncomment-2082270",
                          "updatedAt": "2022-07-09T08:32:16Z",
                          "publishedAt": "2022-01-31T15:22:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mangerij"
                          },
                          "bodyText": "Exodus. What is a checkpoint file? Sorry I cannot keep up to date with all the goodies in the framework.\nBy the way, this is probably what happened? Since I am testing something and didn't set an end to the simulation, I just killed the solve by ctrl+C to terminal.",
                          "url": "https://github.com/idaholab/moose/discussions/20167#discussioncomment-2082687",
                          "updatedAt": "2022-07-09T08:32:19Z",
                          "publishedAt": "2022-01-31T16:18:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "See this page\nhttps://mooseframework.inl.gov/application_usage/restart_recover.html\nCheckpoint is the more official way of restarting simulations.\nSo the exodus was generated after a Ctrl+C ? You could have been unlucky there and stopped it during writing",
                          "url": "https://github.com/idaholab/moose/discussions/20167#discussioncomment-2082765",
                          "updatedAt": "2022-07-09T08:32:19Z",
                          "publishedAt": "2022-01-31T16:27:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "fdkong"
                          },
                          "bodyText": "Exodus.\n\nThen I won't be surprised you got different behaviors by restarting from Exodus.  You only got the solution back from Exodus, but you lost other things.\nA better way to do restart is to use checkpoint.",
                          "url": "https://github.com/idaholab/moose/discussions/20167#discussioncomment-2082892",
                          "updatedAt": "2022-07-09T08:32:19Z",
                          "publishedAt": "2022-01-31T16:42:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "fdkong"
                          },
                          "bodyText": "So the exodus was generated after a Ctrl+C ? You could have been unlucky there and stopped it during writing\n\nNot only that. checkpoint has extra information to restart the exact simulation ...",
                          "url": "https://github.com/idaholab/moose/discussions/20167#discussioncomment-2082969",
                          "updatedAt": "2022-07-09T08:32:19Z",
                          "publishedAt": "2022-01-31T16:52:57Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Finite Volume - FVDiffusion, ADGenericFunctorMaterial Error",
          "author": {
            "login": "czadeh"
          },
          "bodyText": "Hi,\nI was reading the page about FVKernels and tried the first example (pasted below).\n[Mesh]\n  type = GeneratedMesh\n  dim = 2\n  nx = 10\n  ny = 10\n[]\n\n[Variables]\n  [v]\n    family = MONOMIAL\n    order = CONSTANT\n    fv = true\n    initial_condition = 7\n  []\n[]\n\n[Kernels]\n[]\n\n[FVKernels]\n  [./time]\n    type = FVTimeKernel\n    variable = v\n  [../]\n  [diff]\n    type = FVDiffusion\n    variable = v\n    coeff = coeff\n  []\n[]\n\n[FVBCs]\n  [left]\n    type = FVDirichletBC\n    variable = v\n    boundary = left\n    value = 7\n  []\n  [right]\n    type = FVDirichletBC\n    variable = v\n    boundary = right\n    value = 42\n  []\n[]\n\n[Materials]\n  [diff]\n    type = ADGenericFunctionMaterial\n    prop_names = 'coeff'\n    prop_values = '.2'\n  []\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = 'PJFNK'\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = 'hypre boomeramg'\n  num_steps = 20\n  dt = 0.1\n[]\n\n[Outputs]\n  exodus = true\n[]\n\nI made a new project to try this out and just updated conda and MOOSE. However, when I try to execute with this input file I receive the following error:\n*** ERROR ***\nThe following error occurred in the object \"MOOSE Problem\", of type \"FEProblem\".\n\nFunctor coeff, requested by diff, does not exist in our subproblem.\n\nStack frames: 11\n0: libMesh::print_trace(std::ostream&)\n1: moose::internal::mooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)\n2: callMooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, MooseApp*)\n3: SubProblem::initialSetup()\n4: FEProblemBase::initialSetup()\n5: Transient::init()\n6: MooseApp::executeExecutioner()\n7: MooseApp::run()\n8: ../fox-opt(+0x3163) [0x5571e0306163]\n9: __libc_start_main\n10: ../fox-opt(+0x33ea) [0x5571e03063ea]\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1\n:\nsystem msg for write_line failure : Bad file descriptor\n\nI do not know why this error occurs because 'coeff' is defined under ADGenericFunctorMaterial.\nI would appreciate your help in understanding this problem and how to move forward.\nThank you,\nCameron",
          "url": "https://github.com/idaholab/moose/discussions/20180",
          "updatedAt": "2022-06-16T12:48:29Z",
          "publishedAt": "2022-01-31T16:35:44Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nWe have updated the finite volume system to use functors over material properties. Functors can be functions, variables, auxvariables or functor material properties, but not regular material properties.\nPlease use this block instead:\n[Materials]\n  [diff]\n    type = ADGenericFunctorMaterial\n    prop_names = 'coeff'\n    prop_values = '.2'\n  []\n[]\n\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20180#discussioncomment-2082882",
                  "updatedAt": "2022-06-16T12:48:36Z",
                  "publishedAt": "2022-01-31T16:41:11Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "czadeh"
                          },
                          "bodyText": "Thank you.",
                          "url": "https://github.com/idaholab/moose/discussions/20180#discussioncomment-2082921",
                          "updatedAt": "2022-06-16T12:48:43Z",
                          "publishedAt": "2022-01-31T16:47:31Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Implicit to Explicit TimeIntegrator in the middle of a run",
          "author": {
            "login": "maxnezdyur"
          },
          "bodyText": "Is there a way to switch from an implicit to an explicit time integrator in the middle of a simulation? I have a situation where I need to run a simulation to a specific time that I cannot shorten. Then at a particular time when I know the explicit solver would handle the problem better, I want to switch to it.",
          "url": "https://github.com/idaholab/moose/discussions/20179",
          "updatedAt": "2023-02-22T04:22:53Z",
          "publishedAt": "2022-01-31T14:25:49Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nCurrently the only option is to use the restart or recover system:\nhttps://mooseframework.inl.gov/application_usage/restart_recover.html\nYou could also write your own time integrator.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20179#discussioncomment-2082124",
                  "updatedAt": "2023-02-22T04:22:53Z",
                  "publishedAt": "2022-01-31T14:59:22Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Localized noise?",
          "author": {
            "login": "mangerij"
          },
          "bodyText": "Hi,\nI want to use something like ConservedNormalNoise but for only a specific part of my mesh (say between 0 < x < 10). Is there an easy way to do this?\nI suppose I could modify the ConservedLangevinNoise::computeQpResidual() to be multiplied by a static variable that is only nonzero in this region but that seems like a bit of a hack.\nAre there any easy examples to do this without the hack?\nThanks!",
          "url": "https://github.com/idaholab/moose/discussions/20135",
          "updatedAt": "2023-07-13T21:05:00Z",
          "publishedAt": "2022-01-26T09:33:34Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou can use the block parameter for that.\nMake sure part of your mesh has a defined subdomain ID, using the moose mesh generators (https://mooseframework.inl.gov/syntax/Mesh/index.html) if necessary to assign it, then set block = 'that subdomain ID' in the ConservedNormalNoise UO parameters.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20135#discussioncomment-2050949",
                  "updatedAt": "2023-07-13T21:05:00Z",
                  "publishedAt": "2022-01-26T13:37:21Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "mangerij"
                          },
                          "bodyText": "Hmm, I had thought about that. I guess I could try it. I was hoping this could be a general approach, I think this would only be restricted to hex elements.\nThanks!",
                          "url": "https://github.com/idaholab/moose/discussions/20135#discussioncomment-2058427",
                          "updatedAt": "2023-07-13T21:05:00Z",
                          "publishedAt": "2022-01-27T12:48:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I think blocks cannot be composed of mixed element types. Do you think that ll preclude this approach?",
                          "url": "https://github.com/idaholab/moose/discussions/20135#discussioncomment-2059598",
                          "updatedAt": "2023-07-13T21:05:00Z",
                          "publishedAt": "2022-01-27T15:20:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mangerij"
                          },
                          "bodyText": "I think the better way is to define a function such that the Kernel for noise overrides with\n_function[_qp]*ConservedLangevinNoise::computeQpResidual()\nwhere _function[_qp] = 1 by default but could in principle be a localized gaussian, cosine, sinc(), etc perturbation. This could also depend on time too which can be useful.\nI went ahead with this approach and it works quite nicely :)",
                          "url": "https://github.com/idaholab/moose/discussions/20135#discussioncomment-2079504",
                          "updatedAt": "2023-07-13T21:05:12Z",
                          "publishedAt": "2022-01-31T07:53:15Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "[PorousFlowPiecewiseLinearSink] want to dig deeper into the drain BCs for mining application",
          "author": {
            "login": "Traiwit"
          },
          "bodyText": "Hi guys, so I did some tests on draining the water out of the excavated block (similar to https://mooseframework.inl.gov/modules/porous_flow/coal_mining.html done by @WilkAndy)\nBelow are the geometries, I have 2 versions, first illustrates the case where the excavated block is removed and second illustrates the case where the excavated block's properties are changed\n\nThe flow action is PorousFlowUnsaturated, and here is my PorousFlowPiecewiseLinearSink block (only allow for outflow)\n   [./drain_face]\n         type = PorousFlowPiecewiseLinearSinkTC\n       variable = porepressure\n       boundary = 'drain'\n       pt_vals = '0 1e9' # x coordinates defining g\n       multipliers = '0 1e9' # y coordinates defining g\n       flux_function =  1e5 #1e5 # Variable C\n       v = min\n       use_mobility = true\n       fluid_phase = 0\n       use_relperm = true\n    [../]\n\nSo below are the 3 test cases\n\nThe first version (drain only at the right BC)\nThe stitched model  (2nd case) with no change in permeability of the excavated block (drain the whole block)\nThe stitched model (2nd case) with change in permeability of the excavated block to extremely high [*1e6] (drain the whole block)\n\nbelow are the results, when I put all the phreatic surfaces together\n\nFrom top to bottom: no drain > The first version > The stitched model  (2nd case) with no change in permeability > The stitched model (2nd case) with change in permeability\n\n\n\nTheoretically, I thought the first case and the last case should produce the same results, did I miss anything? could you please explain what MOOSE does here so the results are different\nKind regards,\nTraiwit",
          "url": "https://github.com/idaholab/moose/discussions/19651",
          "updatedAt": "2022-07-26T12:02:03Z",
          "publishedAt": "2021-12-16T08:49:52Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Traiwit"
                  },
                  "bodyText": "@GiudGiud do you know any expert on this topic? thanks!",
                  "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1844573",
                  "updatedAt": "2022-07-26T12:04:00Z",
                  "publishedAt": "2021-12-20T00:43:14Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Only expert I know is tagged already on the post.",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1844611",
                          "updatedAt": "2022-07-26T12:04:06Z",
                          "publishedAt": "2021-12-20T01:05:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "noted thanks!",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1844629",
                          "updatedAt": "2022-07-26T12:04:06Z",
                          "publishedAt": "2021-12-20T01:13:10Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "JerryLiu2023"
                  },
                  "bodyText": "Traiwit:  I don't think you miss anything. Yes. When you set an extremely large permeability for the excavated block, theoretically, the first and third cases are the same. However, numerically, they are not. For those nodes on the right boundary for the first case, their nodal permeabilities (in permeability matrix in finite elements) are only contributed from left elements having lower permeabilities. Furthermore, these nodes are applied by prescribed flux.  In the third case, these nodes are now on the interface of two blocks having different permeabilities. Eventually, nodal permeabilies on these nodes are dominated by the right elements (extremely high perm). Furthermore, these nodes in the third case are interior nodes which are not applied by the prescribed flux. Consequently, pore pressure nearby (on the left side elements) numerically diffuses faster than the first case. If you use fine elements or higher-order elements, or hexa, their solutions are expected to be closer. Not only the permeability matrix but also the mass matrix in finite elements are different. I assume all your three cases are single fluid flow. If you have coupled solid mechanics field, the first and the third cases are totally different.  Hopefully, this helps.",
                  "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1864145",
                  "updatedAt": "2022-07-26T12:04:09Z",
                  "publishedAt": "2021-12-23T16:00:27Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Thank you for answering @RLiu2020 .  I'm on holiday",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1902049",
                          "updatedAt": "2022-07-26T12:04:15Z",
                          "publishedAt": "2022-01-03T20:08:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Thank you @RLiu2020, yes these cases are single fluid flow with no mechanics coupling.\nI'm wondering if there is a way to mimic the removal of the blocks without having to actually remove the blocks?\nRemoving the blocks disturbs our framework significantly as it renumbers the elements/nodes.\n@WilkAndy I see that you changed the excav_perm to 0 in your mining example without having to remove the block, not sure if this is the case?\nKind regards,\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1902797",
                          "updatedAt": "2022-07-26T12:04:15Z",
                          "publishedAt": "2022-01-03T23:32:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Sure, you can change the permeability in an element so no fluid flow happens there.  Whether that's a sensible thing to do depends on your boundary conditions!  The advantage to setting perm=0 is that no fluid will flow out of that block, which is good since it's not really there.",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1903486",
                          "updatedAt": "2022-07-26T12:04:58Z",
                          "publishedAt": "2022-01-04T02:50:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @WilkAndy\nWhen I set-BC around the excavated block, I'd expect my pwp and the phreatic surface (water table) to be like this figure:\n\ninstead, the phreatic surface just wraps around the excavated block\n     [./drain_DRAINSRF_CUMSRFSET_Y2012]\n     type = PorousFlowPiecewiseLinearSinkTC\n     variable = porepressure\n     boundary = 'DRAINSRF_CUMSRFSET_Y2012'\n     pt_vals = '0 1e9'\n     multipliers = '0 1e9'\n     flux_function = 1e8\n     v = min\n      use_mobility = true\n      fluid_phase = 0\n     [../]\n\nNot sure if I've missed anything here\nKind regards,\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1937013",
                          "updatedAt": "2024-04-18T05:56:15Z",
                          "publishedAt": "2022-01-09T23:02:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Your drain_DRAINSRF_CUMSRFSET_Y2012 BC is draining if the porepressure is positive, but will remove zero water if the porepressure is negative.   Does this answer your question?",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1937040",
                          "updatedAt": "2024-04-18T05:56:27Z",
                          "publishedAt": "2022-01-09T23:17:27Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @WilkAndy, yes , I was doing \"only allow for outflow\", as I thought water should not be re-entered to the geometry from the excavated blocks. Not sure if this is incorrect?\nso here is from the real geometry, I was expecting the phreatic surface to follow the red line, but instead, it wraps tightly around the excavated blocks.",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1937089",
                          "updatedAt": "2022-09-15T13:30:40Z",
                          "publishedAt": "2022-01-09T23:35:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "You are correct: water should not enter the unexcavated rock from the excavated rock.  However, what about if porepressure = -1E4 Pa in the rock?  Should it exit?  Usually, people answer:\n(1) \"yes, through capillarity and evaporation\"\n(2) \"i don't care: i just care about the fully-saturated zone\"\nPerhaps this is a complete red-herring, but i just mention it because it may be important when attempting to accurately predict the water table.\nProbably in your case, your insitu permeability is too low.  If you increase it, more water will flow to the excavation and lower the phreatic surface.\nBy the way, your flux_function is very high.  With use_mobility = true, i'd use something like flux_function = 1\na",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1937125",
                          "updatedAt": "2022-09-15T13:30:42Z",
                          "publishedAt": "2022-01-10T00:03:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "@WilkAndy Thank you very much, I will try to work around things you suggested and get back to you.\nKind regards,\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-1937145",
                          "updatedAt": "2022-09-15T13:32:33Z",
                          "publishedAt": "2022-01-10T00:08:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Did you resolve this, @Traiwit ?",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-2077717",
                          "updatedAt": "2022-09-15T13:32:33Z",
                          "publishedAt": "2022-01-30T20:41:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "yep all good now, thanks!",
                          "url": "https://github.com/idaholab/moose/discussions/19651#discussioncomment-2078275",
                          "updatedAt": "2022-09-15T13:32:34Z",
                          "publishedAt": "2022-01-30T23:24:46Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Change the sign of flux value upon reaching the certain average value on the surface of the domain",
          "author": {
            "login": "avtarsinghh1991"
          },
          "bodyText": "Hello MOOSE Experts\nI have been working on the thermo-mechanical model. I want to change the value of flux upon reaching a certain average value of temperature on the surface. Basically, I want to make it cyclic flux.\nI am using Neumann BC for applying flux and for calculating the average temperature on the surface using the \"SideAverageValue\" postprocessor module is considered.\nLet's say, Initial value of Temp = 0, then apply flux and the average temperature reaches 100. At that point, I want to change the flux from +ve to -ve, keeping the magnitude the same. Again if it reaches 0, I want to change the flux value from -ve to +ve, while keeping the magnitude the same.\nCan you please suggest to me the best way to do it?\nI shall be very thankful.\nBest\nAvtar",
          "url": "https://github.com/idaholab/moose/discussions/20178",
          "updatedAt": "2023-02-07T06:48:21Z",
          "publishedAt": "2022-01-30T04:26:54Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou should leverage the Control system to modify the flux value in the NeumannBC, when a given postprocessor reaches a certain value.\nhttps://mooseframework.inl.gov/syntax/Controls/index.html\nYou can create your own control off of the PID control to make a control that sets a value based on a postprocessor\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/20178#discussioncomment-2074863",
                  "updatedAt": "2023-02-07T06:48:47Z",
                  "publishedAt": "2022-01-30T04:40:47Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Solving phase-field fracture for chemo-mechanical problem with only thermal loading",
          "author": {
            "login": "avtarsinghh1991"
          },
          "bodyText": "Hello MOOSE experts\nI am trying to solve the phase-field fracture for a chemo-mechanical environment with only flux loading.\nI found that the following module doesn't include the Eigen strain due to which the stresses are not developing and fracture is not evolving due to the lack of sufficient driving force.\nCan you please suggest any alternative to calculate all the following parameters while including the effect of Eigen strain? I shall be very thankful.\n   type = ComputeLinearElasticPFFractureStress\n    c = damage\n    E_name = 'elastic_energy'\n    D_name = 'degradation'\n    F_name = 'local_fracture_energy'\n    decomposition_type = stress_spectral  \n#    decomposition_type = strain_vol_dev\n    use_snes_vi_solver = true\n  [../]\n\nBest\nAvtar",
          "url": "https://github.com/idaholab/moose/discussions/20119",
          "updatedAt": "2022-09-06T18:12:56Z",
          "publishedAt": "2022-01-24T19:36:48Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "I doubt if stress-free configurations lead to fracture in the first place.\nBeside that, you can use strain based decompositions in this case, so that the fracture driving force isn't zero. Since stress-free thermal eigenstrains should lead to nonzero mechanical strains.",
                  "url": "https://github.com/idaholab/moose/discussions/20119#discussioncomment-2038280",
                  "updatedAt": "2022-09-06T18:12:58Z",
                  "publishedAt": "2022-01-24T22:07:46Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "Thank you very much.\nActually, stress itself is coming out to be zero.\nI tried strain decomposition as well. It's not working.\nBest\nAvtar",
                          "url": "https://github.com/idaholab/moose/discussions/20119#discussioncomment-2039197",
                          "updatedAt": "2022-09-06T18:12:58Z",
                          "publishedAt": "2022-01-25T00:39:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Could you elaborate on what isn't working? For example, does it fail to converge? Does it result in no fracture? If it's the latter case, you may want to examine the state of the mechanical strain.",
                          "url": "https://github.com/idaholab/moose/discussions/20119#discussioncomment-2039341",
                          "updatedAt": "2022-09-06T18:13:03Z",
                          "publishedAt": "2022-01-25T01:10:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "avtarsinghh1991"
                          },
                          "bodyText": "Hello @hugary1995\nI am trying to solve phase-field fracture in a chemo-mechanical environment. The diffusion is working absolutely fine. However, upon using the following module, the attendant stresses are found to be zero means stresses are not evolving even after taking into account the Eigen strain. As the stresses are zero, there is no driving force that evolves the fracture. Hence, the damage is also not evolving.\nMy concern is how can I take care of Eigen strain using the \"ComputeLinearElasticPFFractureStress\"?\nLets say in case of small strain\nelastic_strain = total_strain - eigen_strain\nIt seems this part is somehow missing. How can I update the elastic_strain?\n  [./elasticity_tensor]\n    type = ComputeElasticityTensor\n    C_ijkl = '121.15e9 80.769e9'\n    fill_method = symmetric_isotropic\n  [../]\n    [./eigen_strain_prefactor]\n    type = DerivativeParsedMaterial\n    args = diffused\n    f_name = eigen_strain_prefactor\n    constant_names = 'c_ref'\n    constant_expressions = '30000.0'\n    function = (diffused-c_ref)/3.0\n  [../]\n  [./eigenstrain]\n    type = ComputeVariableEigenstrain\n    args = diffused\n    eigen_base = '3.496e-6 0 0 0 3.496e-6 0 0 0 3.496e-6'\n    prefactor = eigen_strain_prefactor\n    eigenstrain_name = eigenstrain\n  [../]\n\n  [./define_mobility]\n    type = ParsedMaterial\n    material_property_names = 'gc_prop visco'\n    f_name = L\n    function = '1.0/(gc_prop * visco)'\n  [../]\n  [./define_kappa]\n    type = ParsedMaterial\n    material_property_names = 'gc_prop l'\n    f_name = kappa_op\n    function = 'gc_prop * l'\n  [../]\n  [./damage_stress]\n    type = ComputeLinearElasticPFFractureStress\n    c = damage\n    E_name = 'elastic_energy'\n    D_name = 'degradation'\n    F_name = 'local_fracture_energy'\n    decomposition_type = strain_spectral  \n#    decomposition_type = strain_vol_dev\n    use_snes_vi_solver = true\n  [../]\n  [./degradation]\n    type = DerivativeParsedMaterial\n    f_name = degradation\n    args = 'damage'\n    function = '(1.0-damage)^2*(1.0 - eta) + eta'\n    constant_names       = 'eta'\n    constant_expressions = '1.0e-5'\n    derivative_order = 2\n  [../]\n  [./local_fracture_energy]\n    type = DerivativeParsedMaterial\n    f_name = local_fracture_energy\n    args = 'damage'\n    material_property_names = 'gc_prop l'\n    function = 'damage^2 * gc_prop / 2 / l'\n    derivative_order = 2\n  [../]\n  [./fracture_driving_energy]\n    type = DerivativeSumMaterial\n    args = damage\n    sum_materials = 'elastic_energy local_fracture_energy'\n    derivative_order = 2\n    f_name = F\n  [../] \n\nBest\nAvtar",
                          "url": "https://github.com/idaholab/moose/discussions/20119#discussioncomment-2039394",
                          "updatedAt": "2022-09-06T18:13:03Z",
                          "publishedAt": "2022-01-25T01:28:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "My concern is how can I take care of Eigen strain using the \"ComputeLinearElasticPFFractureStress\"?\n\nComputeLinearElasticPFFractureStress does take into account eigenstrain if you use a strain based decomposition. If you do have non-zero elastic strain, and the elastic strain isn't in contraction state, there will be a fracture driving force. So again, could you examine the state of the elastic strain output from your simulation?",
                          "url": "https://github.com/idaholab/moose/discussions/20119#discussioncomment-2039508",
                          "updatedAt": "2022-09-06T18:13:08Z",
                          "publishedAt": "2022-01-25T01:53:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "avtarsinghh1991"
                  },
                  "bodyText": "Thank you very much. It has been resolved.",
                  "url": "https://github.com/idaholab/moose/discussions/20119#discussioncomment-2074842",
                  "updatedAt": "2022-09-06T18:13:08Z",
                  "publishedAt": "2022-01-30T04:28:27Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}