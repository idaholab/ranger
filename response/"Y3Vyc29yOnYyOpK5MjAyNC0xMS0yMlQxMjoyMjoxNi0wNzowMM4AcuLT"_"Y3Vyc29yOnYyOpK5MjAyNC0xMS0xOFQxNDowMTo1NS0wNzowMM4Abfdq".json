{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0xMS0xOFQxNDowMTo1NS0wNzowMM4Abfdq"
    },
    "edges": [
      {
        "node": {
          "title": "A nuclear multiphysics workflow using MOOSE, Cardinal, OpenMC, and Coreform Cubit",
          "author": {
            "login": "GregVernon"
          },
          "bodyText": "I wanted to share with the community one of Coreform's recent webinars that featured April Novak (@aprilnovak) and Patrick Shriwise (@pshriwise) sharing a nuclear multiphysics workflow in the MOOSE ecosystem (incl. Cardinal, OpenMC, and Coreform Cubit).\nYou can view the webinar on YouTube here: https://www.youtube.com/watch?v=mSXP1o3VXps\nNote that the video's description contains links to the tutorial files and link to the Cardinal forum, I've repeated these below for your convenience:\n\nGet the tutorial files here: https://cardinal.cels.anl.gov/tutorials/csg_to_cad.html\nDiscuss on the forum: neams-th-coe/cardinal#972",
          "url": "https://github.com/idaholab/moose/discussions/29114",
          "updatedAt": "2024-11-21T17:36:22Z",
          "publishedAt": "2024-11-21T17:36:22Z",
          "category": {
            "name": "Show and tell"
          },
          "comments": {
            "edges": []
          }
        }
      },
      {
        "node": {
          "title": "Test failing after MOOSE installation",
          "author": {
            "login": "JuliaHLee"
          },
          "bodyText": "Dear MOOSE experts,\nI have installed MOOSE following the instruction on the website to use MOOSE in another device. However, when I tried to test the built MOOSE, I got 1 failed test regarding \"EXPECTED OUTPUT MISSING\" for \"minimal_app.minimal\". When I test it with ./run_tests -i always_ok -p 2, it ran 1 test and it passed without failure.\nCould you give any tip regarding the issue? A part of the test result is presented below. Please find attached for the entire results.\ntest_results.txt\nMany thanks\n(Optional) code in question / simulation log / errors\nmisc/check_error.node_value_off_block ............. [METHOD!=DBG] SKIP\nmisc/check_error.bad_second_order_test ............ [METHOD!=DBG] SKIP\noutputs/format.tecplot_bin_test ................. [TECPLOT!=TRUE] SKIP\nsamplers/base.errors/setNumberOfRows ....... [METHOD!=DBG, DEVEL] SKIP\nsamplers/base.errors/setNumberOfCols ....... [METHOD!=DBG, DEVEL] SKIP\nmeshmodifiers/element_subdomain_modifier.error-distributed [M...] SKIP\nauxkernels/solution_aux.aux_nonlinear_solution/from_xdr [--wi...] SKIP\nproblems/eigen_problem/eigensolvers.no_slepc ..... [SLEPC!=FALSE] SKIP\nmortar/continuity-3d-non-conforming.continuity_sphere_hex27 [...] SKIP\nmortar/continuity-3d-non-conforming.continuity_tet10 [Minimum...] SKIP\nmortar/continuity-3d-non-conforming.continuity_tet14 [Minimum...] SKIP\nmortar/continuity-3d-non-conforming.continuity_sphere_hex20 [...] SKIP\nmortar/continuity-3d-non-conforming.continuity_sphere_hex27-debug-mesh [Minimum AD size 200 needed, but MOOSE is configu...] SKIP\nsystem_interfaces.compiler/clang .............. [COMPILER!=CLANG] SKIP\nsystem_interfaces.partitioner/party ............... [PARTY!=TRUE] SKIP\nsystem_interfaces.libraries/boost ................. [BOOST!=TRUE] SKIP\nsystem_interfaces.partitioner/chaco ............... [CHACO!=TRUE] SKIP\nsystem_interfaces.thread/pthread .......... [THREADING!=PTHREADS] SKIP\nfvkernels/mms/advective-outflow.QUICKLimiter ............ [HEAVY] SKIP\nutils/libtorch_nn/ann.libtorch-nn-errors/wrong-activation [LI...] SKIP\nutils/libtorch_nn/ann.libtorch-nn-activation/gelu [LIBTORCH!=...] SKIP\nutils/libtorch_nn/ann.libtorch-nn-activation/elu [LIBTORCH!=TRUE] SKIP\nutils/libtorch_nn/ann.libtorch-nn-optimizer/adagrad [LIBTORCH...] SKIP\nutils/libtorch_nn/ann.libtorch-nn-activation/sigmoid [LIBTORC...] SKIP\nutils/libtorch_nn/ann.libtorch-nn-activation/linear [LIBTORCH...] SKIP\nutils/libtorch_nn/ann.libtorch-nn-optimizer/sgd  [LIBTORCH!=TRUE] SKIP\nutils/libtorch_nn/ann.libtorch-nn-activation/relu [LIBTORCH!=...] SKIP\nutils/libtorch_nn/ann.libtorch-nn-errors/wrong-activation-number [LIBTORCH!...] SKIP\nutils/libtorch_nn/ann.libtorch-nn-optimizer/rmsprop [LIBTORCH...] SKIP\nutils/libtorch_nn/ann.libtorch-nn-errors/wrong-optimizer [LIB...] SKIP\nutils/libtorch_nn/ann.libtorch-nn-optimizer/adam [LIBTORCH!=TRUE] SKIP\nmesh/splitting.meshgenerators_acting_on_split [MESH_MODE!=DIS...] SKIP\nmesh/splitting.split_with_distributed_error [MESH_MODE!=DISTR...] SKIP\npartitioners/petsc_partitioner.chaco [PLATFORM!=DARWIN, CHACO...] SKIP\npartitioners/petsc_partitioner.party .............. [PARTY!=TRUE] SKIP\nmortar/periodic_segmental_constraint.penalty_periodic_simple3d [Minimum AD size 100 needed, but MOOSE is configured with...] SKIP\nmortar/periodic_segmental_constraint.periodic_simple2d [Minim...] SKIP\nmortar/periodic_segmental_constraint.periodic_aux2d [Minimum ...] SKIP\nmortar/periodic_segmental_constraint.penalty_periodic_split [...] SKIP\nmortar/periodic_segmental_constraint.periodic_simple3d [Minim...] SKIP\ndgkernels/2d_diffusion_dg.no_additional_rms_distributed [MESH...] SKIP\ndgkernels/2d_diffusion_dg.proper_ghosting_with_action_serial_distributed [MESH_MODE...] SKIP\ndgkernels/2d_diffusion_dg.proper_ghosting_with_action_parallel_distributed [MESH_MO...] SKIP\nmisc/jacobian.inf_nan ......... [using PETSc 3.21.5 REQ: <3.19.3] SKIP\nmisc/signal_handler.test_signal_recover_debug [METHOD!=DBG,sk...] SKIP\nmisc/signal_handler.test_signal_debug ............. [METHOD!=DBG] SKIP\nmisc/signal_handler.test_signal_recover_exodiff_debug [METHOD...] SKIP\nmeshgenerators/sideset_around_subdomain_generator.group/adjacent_to_boundary [MESH_...] SKIP\nmeshgenerators/block_to_mesh_converter_generator.errors/distributed [MESH_MODE!=DIS...] SKIP\nmortar/convergence-studies/continuity-3d.p1p0 ........... [HEAVY] SKIP\nmortar/convergence-studies/continuity-3d.p1p1 ........... [HEAVY] SKIP\nmortar/convergence-studies/continuity-3d.p2p1 [Minimum AD siz...] SKIP\nmortar/convergence-studies/continuity-3d.p2p0 [Minimum AD siz...] SKIP\nmortar/convergence-studies/continuity-3d.p1p1dual ....... [HEAVY] SKIP\nmortar/convergence-studies/continuity-3d.p2p2 [Minimum AD siz...] SKIP\nmortar/ad_periodic_segmental_constraint.periodic_simple3d [Mi...] SKIP\nmortar/ad_periodic_segmental_constraint.penalty_periodic_simple3d [Minimum AD size 100 needed, but MOOSE is configured w...] SKIP\nmortar/ad_periodic_segmental_constraint.periodic_simple2d [Mi...] SKIP\ncontrols/error.tid_warehouse_error ................ [METHOD!=DBG] SKIP\noutputs/nemesis.nemesis_elemental_distributed [MESH_MODE!=DIS...] SKIP\noutputs/nemesis.nemesis_scalar_distributed [MESH_MODE!=DISTRI...] SKIP\noutputs/vtk.solution/diff_parallel_mesh [#6149, MESH_MODE!=DI...] SKIP\nmortar/convergence-studies/solution-continuity.p2p0 ..... [HEAVY] SKIP\nmortar/convergence-studies/solution-continuity.p2p2 ..... [HEAVY] SKIP\nmortar/convergence-studies/solution-continuity.p1p0 ..... [HEAVY] SKIP\nmortar/convergence-studies/solution-continuity.p2p1 ..... [HEAVY] SKIP\nmortar/convergence-studies/solution-continuity.p1p1 ..... [HEAVY] SKIP\nmortar/convergence-studies/gap-conductance.p2p1 ......... [HEAVY] SKIP\nmortar/convergence-studies/gap-conductance.p2p2 ......... [HEAVY] SKIP\nmortar/convergence-studies/gap-conductance.p1p1 ......... [HEAVY] SKIP\nmortar/convergence-studies/gap-conductance.p2p0 ......... [HEAVY] SKIP\nmortar/convergence-studies/gap-conductance.p1p0 ......... [HEAVY] SKIP\nperformance.os/macOS ......................... [PLATFORM!=DARWIN] SKIP\nperformance.os/linux ......................... [PLATFORM!=DARWIN] SKIP\nfunctions/image_function/error.errors/no_vtk ....... [VTK!=FALSE] SKIP\npartitioners/block_weighted_partitioner.tests/distributed_mesh [MESH_MODE!=DISTRIBU...] SKIP\nfvkernels/fv_adapt.steady-mms ........................... [HEAVY] SKIP\nparser/param_substitution.debug_units ............. [METHOD!=DBG] SKIP\ncontrols/libtorch_nn_control.invalid-torchscript-error [LIBTO...] SKIP\ncontrols/libtorch_nn_control.run-torch-script .. [LIBTORCH!=TRUE] SKIP\ncontrols/libtorch_nn_control.run-without-nn .... [LIBTORCH!=TRUE] SKIP\ncontrols/libtorch_nn_control.run-with-torch-parameters [LIBTO...] SKIP\noutputs/tecplot.test_binary ..................... [TECPLOT!=TRUE] SKIP\noutputs/png.image_tests/square_domain ............ [LIBPNG!=TRUE] SKIP\noutputs/png.image_tests/adv_diff_reaction ........ [LIBPNG!=TRUE] SKIP\noutputs/png.image_tests/wedge .................... [LIBPNG!=TRUE] SKIP\nconvergence/default_nonlinear_convergence.error_reporting/multiple_objects [...] SKIP\ntransfers/multiapp_interpolation_transfer.fromsub_restricted [PLATFORM!=DARWI...] SKIP\nfvkernels/mms/non-orthogonal.extended ........... [#20953, HEAVY] SKIP\nfvkernels/mms/non-orthogonal.compact .................... [HEAVY] SKIP\nrelationship_managers/two_rm.evaluable_neighbors/replicated [...] SKIP\nrelationship_managers/two_rm.evaluable_neighbors/distributed [MESH_MODE!=DISTRIBUTE...] SKIP\nvectorpostprocessors/work_balance.work_balance/distributed [M...] SKIP\nutils/libtorch_nn/torch_script.libtorch-torch-script [LIBTORC...] SKIP\npartitioners/hierarchical_grid_partitioner.test [min_cpus=16,...] SKIP\nmeshgenerators/break_mesh_by_block_generator.hanging_nodes [m...] SKIP\nmeshgenerators/distributed_rectilinear/partition.3D_8 [min_cp...] SKIP\nuserobjects/threaded_general_user_object.thread_copies_guo/th7 [min_threads=7,insufficient sl...] SKIP\nuserobjects/threaded_general_user_object.thread_copies_guo/th8 [min_threads=8,insufficient sl...] SKIP\nminimal_app.minimal ................. FAILED (EXPECTED OUTPUT MISSING)\n----------------------------------------------------------------------\nRan 4528 tests in 585.3 seconds. Average test time 0.9 seconds, maximum test time 413.6 seconds.\n4527 passed, 99 skipped, 1 FAILED",
          "url": "https://github.com/idaholab/moose/discussions/29098",
          "updatedAt": "2024-11-21T13:53:01Z",
          "publishedAt": "2024-11-19T14:28:05Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "If you scroll up to where the actual failure occurred, there will be more information.\nYou can also re-run that one test with:\n./run_tests --re=minimal_app.minimal",
                  "url": "https://github.com/idaholab/moose/discussions/29098#discussioncomment-11306630",
                  "updatedAt": "2024-11-19T14:44:34Z",
                  "publishedAt": "2024-11-19T14:44:33Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Ah, I didn't bother looking at the attachment. So it looks like results were just \"out of order\" or some such...\nminimal_app.minimal: **START OBJECT DATA**\nminimal_app.minimal: Checkpoint\nminimal_app.minimal: ConstantDT\nminimal_app.minimal: DefaultNonlinearConvergence\nminimal_app.minimal: FEProblem\nminimal_app.minimal: GeneratedMesh\nminimal_app.minimal: ImplicitEuler\nminimal_app.minimal: Transient\nminimal_app.minimal: **END OBJECT DATA**\n\nWhile the test is expecting:\nminimal_app.minimal: FEProblem\\nDefaultNonlinearConvergence\\nGeneratedMesh\n\ne.g.:\nminimal_app.minimal: **START OBJECT DATA**\nminimal_app.minimal: Checkpoint\nminimal_app.minimal: ConstantDT\n- minimal_app.minimal: DefaultNonlinearConvergence\n+ minimal_app.minimal: FEProblem\n- minimal_app.minimal: FEProblem\n+ minimal_app.minimal: DefaultNonlinearConvergence\nminimal_app.minimal: GeneratedMesh\nminimal_app.minimal: ImplicitEuler\nminimal_app.minimal: Transient\nminimal_app.minimal: **END OBJECT DATA**\nI am not an expert on how these artifacts are printed (and in what order) in MOOSE. Basically wondering if this was some sort of fluke, or just a poorly designed test.\nCan you re-run the test, see if you get different results?",
                          "url": "https://github.com/idaholab/moose/discussions/29098#discussioncomment-11306766",
                          "updatedAt": "2024-11-19T14:55:36Z",
                          "publishedAt": "2024-11-19T14:54:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I have a PR fixing this issue already.\nThank you for reporting! We're on it for fixing this",
                          "url": "https://github.com/idaholab/moose/discussions/29098#discussioncomment-11306923",
                          "updatedAt": "2024-11-19T15:06:36Z",
                          "publishedAt": "2024-11-19T15:06:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "JuliaHLee"
                          },
                          "bodyText": "Thank you for replies, @milljm, @GiudGiud!\nI have re-run the test. But I still get the same results with the same failure.\nI am glad to know that you are woking on this for fixing it. I am looking forward to hearing the news.",
                          "url": "https://github.com/idaholab/moose/discussions/29098#discussioncomment-11308065",
                          "updatedAt": "2024-11-19T16:21:56Z",
                          "publishedAt": "2024-11-19T16:21:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "JuliaHLee"
                          },
                          "bodyText": "Hi @GiudGiud,\nI wondered if the problem is related to the latest version, since I got the same issue, after I updated MOOSE installed in a previous machine. Is it the only way to uninstall MOOSE and reinstall the older version to run my model, before it gets fixed? What would be the command to install the previous version of MOOSE?",
                          "url": "https://github.com/idaholab/moose/discussions/29098#discussioncomment-11336486",
                          "updatedAt": "2024-11-21T13:28:33Z",
                          "publishedAt": "2024-11-21T13:28:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "There is really no need to change versions of moose for this. This is benign.",
                          "url": "https://github.com/idaholab/moose/discussions/29098#discussioncomment-11336725",
                          "updatedAt": "2024-11-21T13:53:01Z",
                          "publishedAt": "2024-11-21T13:53:01Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to output/assign Young's modulus and Possion's ration to every quadrature points in the output CSV file",
          "author": {
            "login": "Yulongggggg"
          },
          "bodyText": "How to output/assign Young's modulus and Poisson's ratio to every quadrature point in the output CSV file, is there a method to implement this? For example, in this image, add two columns named Young's modulus and Poisson's ratio",
          "url": "https://github.com/idaholab/moose/discussions/29108",
          "updatedAt": "2024-11-20T23:18:41Z",
          "publishedAt": "2024-11-20T19:16:41Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Yulongggggg"
                  },
                  "bodyText": "@GiudGiud",
                  "url": "https://github.com/idaholab/moose/discussions/29108#discussioncomment-11328970",
                  "updatedAt": "2024-11-20T21:46:15Z",
                  "publishedAt": "2024-11-20T21:46:15Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "MaterialValueSampler is the way to do this for output\nFor assignment, you can use a PiecewiseConstantFromCSV function and a PropertyReadFile for reading the locations & values. Then use the function in a GenericFunctionMaterial",
                          "url": "https://github.com/idaholab/moose/discussions/29108#discussioncomment-11329527",
                          "updatedAt": "2024-11-20T23:18:41Z",
                          "publishedAt": "2024-11-20T23:18:41Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Density primitive/pressure primitive and entropy variable implementation in NS modulus",
          "author": {
            "login": "Silverwing747"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A Navier Stokes is the most appropriate category for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (avoid screenshots if possible, triple back quotes before/after pasted text, etc)\n\nQuestion\nHello everyone,\nI recently switched to use MOOSE, and I have been really enjoying the platform so far!\nI have also been play with NS Modulus for a while, and I think the modulus only allow you to use one set of variables to solve the problem. However, for my research, I need to implement different sets of variables to solve Navier-Stokes equations. In specific, I will need to solve:\n\nDensity primitive variable $\\mathbf{Y} = [\\rho,\\mathbf{u},T]^T$\n\nPressure primitive variable $\\mathbf{Y} = [p,\\mathbf{u},T]^T$\n\nEntropy variable $\\mathbf{Y} = \\frac{1}{T}[\\mu,\\mathbf{u},-1]^T$\n\n\nwhere $\\mu$ is chemical potential, $T$ is temperature, $p$ is pressure, $\\rho$ is density and $\\mathbf{u}$ is velocity.\nSince these funcions are not there, I will have to implement them myself. I think the easiest option is write three different Action files where each handles their own variable, but this choice lead to many code repeatition, and potentially difficult to maintain in the future.\nI am wondering if any one knows, or have any sugguestion, on how to design the code structure that:\n\nAllows simple change of variables in the input file\nMinimizes the code repeatition -- in principle, the main kernel should be same for all variables, and before enter the main kernel we convert the all variables into some standard variables.\nKeeps the code as similar to current NS module structure as possible. Also reuse as much as of the current NS module.\n\nAny feedbacks are welcome!\nAdditional information\nMesh size and type:\nReynolds number:\nDiscretization (finite element CG/DG, finite volume, etc):\nModels (turbulence, porous media, etc):\nSolver method (fully coupled, segregated, multiapps, etc):\nBase input you started from:",
          "url": "https://github.com/idaholab/moose/discussions/29107",
          "updatedAt": "2025-01-05T00:16:21Z",
          "publishedAt": "2024-11-20T16:33:29Z",
          "category": {
            "name": "Q&A Modules: Navier-Stokes"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Silverwing747"
                  },
                  "bodyText": "Reference paper: \"A comparative study of different sets of variables for solving compressible and incompressible flows\" https://doi.org/10.1016/S0045-7825(97)00043-1",
                  "url": "https://github.com/idaholab/moose/discussions/29107#discussioncomment-11325992",
                  "updatedAt": "2024-11-20T16:38:00Z",
                  "publishedAt": "2024-11-20T16:37:59Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI would focus on getting something working then you can worry about using inheritance and other techniques to reduce the code duplication.\nTo do that, make a copy of every kernel you need, prefixing the new object name with \"ConservedVar\" for example, then modify them to use the conserved variables instead of the primitive ones\nNote that both the thermal hydraulics module and the compressible finite volume kernels (CNSFV) already use the conservative variables.",
                  "url": "https://github.com/idaholab/moose/discussions/29107#discussioncomment-11327280",
                  "updatedAt": "2024-11-20T18:35:40Z",
                  "publishedAt": "2024-11-20T18:34:11Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Packaging with MOOSE python modules as dependencies",
          "author": {
            "login": "jvwilliams23"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHi,\nI have made a small python package\u00a0for doing UQ on workflows including MOOSE simulations. To make my work usable, I want to package it up with pip and incorporate some unit testing etc. Some parts of the code depend on MOOSE's python modules pyhit and moosetree for reading, modifying and writing input files for simulations. As far as I can tell, the only way to use pyhit and moosetree is to add them to my PYTHONPATH manually.\nI was wondering, is there any way around this? For running CI unit tests, I do not really want to add MOOSE as a submodule and clone it for all the tests, since it is a pretty large repo and I only need a tiny part of it. As a worst-case scenario, I could just avoid writing tests for that part of the code.",
          "url": "https://github.com/idaholab/moose/discussions/29085",
          "updatedAt": "2024-11-20T16:02:47Z",
          "publishedAt": "2024-11-16T17:55:29Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThere used to be a moose-tools package you could get from conda.\n@milljm will know more where we stand on this",
                  "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11279550",
                  "updatedAt": "2024-11-16T19:32:15Z",
                  "publishedAt": "2024-11-16T19:32:14Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Are you looking for the moose-pyhit package?\n$> conda create -n testing moose-pyhit=2022\n$> conda activate testing\n$> python\n>>> from pyhit import Node\n>>>\nNote: I am specifically informing you to install an older version (2022). The latest is not working, which I am attempting to fix: #29090.",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11293641",
                          "updatedAt": "2024-11-18T15:39:20Z",
                          "publishedAt": "2024-11-18T15:39:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jvwilliams23"
                          },
                          "bodyText": "@milljm Yeah I think so. Also moosetree. But I cannot seem to install it on my machine (mac). Get various errors. Also on our linux hpc, I get an error that glibc is too old (even though I .\nconda create -v -n testing moose-pyhit=2022\n\nCollecting package metadata (current_repodata.json): ...working... done\nSolving environment: ...working... failed with repodata from current_repodata.json, will retry with next repodata source.\nCollecting package metadata (repodata.json): ...working... done\nSolving environment: ...working...\nFound conflicts! Looking for incompatible packages.\nThis can take several minutes.  Press CTRL-C to abort.\nfailed\nTraceback (most recent call last):\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/exceptions.py\", line 1118, in __call__\n    return func(*args, **kwargs)\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/cli/main.py\", line 69, in main_subshell\n    exit_code = do_call(args, p)\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/cli/conda_argparse.py\", line 91, in do_call\n    return getattr(module, func_name)(args, parser)\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/notices/core.py\", line 109, in wrapper\n    return func(*args, **kwargs)\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/cli/main_create.py\", line 41, in execute\n    install(args, parser, 'create')\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/cli/install.py\", line 307, in install\n    raise e\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/cli/install.py\", line 264, in install\n    unlink_link_transaction = solver.solve_for_transaction(\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/core/solve.py\", line 136, in solve_for_transaction\n    unlink_precs, link_precs = self.solve_for_diff(update_modifier, deps_modifier,\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/core/solve.py\", line 179, in solve_for_diff\n    final_precs = self.solve_final_state(update_modifier, deps_modifier, prune, ignore_pinned,\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/core/solve.py\", line 303, in solve_final_state\n    ssc = self._run_sat(ssc)\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/common/io.py\", line 84, in decorated\n    return f(*args, **kwds)\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/core/solve.py\", line 848, in _run_sat\n    ssc.solution_precs = ssc.r.solve(tuple(final_environment_specs),\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/common/io.py\", line 84, in decorated\n    return f(*args, **kwds)\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/resolve.py\", line 1326, in solve\n    self.find_conflicts(specs, specs_to_add, history_specs)\n  File \"/Users/josh.williams/miniconda3/lib/python3.10/site-packages/conda/resolve.py\", line 354, in find_conflicts\n    raise UnsatisfiableError(bad_deps, strict=strict_channel_priority)\nconda.exceptions.UnsatisfiableError\n\n\n$ conda create -n testing python=3.10 moose-pyhit=2022\nCollecting package metadata (current_repodata.json): ...working... done\nSolving environment: ...working... failed with repodata from current_repodata.json, will retry with next repodata source.\nCollecting package metadata (repodata.json): ...working... done\nSolving environment: ...working...\nFound conflicts! Looking for incompatible packages.\nThis can take several minutes.  Press CTRL-C to abort.\nfailed\nOutput in format: Requested package -> Available versions\nPackage python conflicts for:\nmoose-pyhit=2022 -> python[version='>=3.10,<3.11.0a0|>=3.8,<3.9.0a0|>=3.9,<3.10.0a0']\npython=3.10\nmoose-pyhit=2022 -> setuptools[version='>=65.5,<65.6.0a0'] -> python[version='>=3.11,<3.12.0a0']\n\non linux machine (even though I am able to run pyhit on this machine when on my PYTHONPATH).\n\n```conda create -n testing moose-pyhit=2022\nCollecting package metadata (current_repodata.json): done\nSolving environment: failed with repodata from current_repodata.json, will retry with next repodata source.\nCollecting package metadata (repodata.json): done\nSolving environment: |\nFound conflicts! Looking for incompatible packages.\nThis can take several minutes.  Press CTRL-C to abort.\nfailed\n\nUnsatisfiableError: The following specifications were found to be incompatible with your system:\n\n  - feature:/linux-64::__glibc==2.17=0\n  - moose-pyhit=2022 -> libgcc-ng[version='>=11.2.0'] -> __glibc[version='>=2.17']\n\nYour installed version is: 2.17",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11294485",
                          "updatedAt": "2024-11-18T16:50:56Z",
                          "publishedAt": "2024-11-18T16:50:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "What channels are you operating with? Its possibly your version of Conda may be out of date as well, as I see its not using the libmamba solver (or maybe it is, kinda hard to tell in the above output). Can you run the following and report back?:\nconda info",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11294602",
                          "updatedAt": "2024-11-18T17:00:00Z",
                          "publishedAt": "2024-11-18T16:59:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jvwilliams23"
                          },
                          "bodyText": "Output below from the HPC. Note I use MOOSE built from source, not with mamba.\n          conda version : 23.3.1\n    conda-build version : 3.24.0\n         python version : 3.10.9.final.0\n       virtual packages : __archspec=1=x86_64\n                          __glibc=2.17=0\n                          __linux=3.10.0=0\n                          __unix=0=0\n       base environment : /lustre/scafellpike/local/HT04544/sht09/jxw92-sht09/anaconda3  (writable)\n      conda av data dir : /lustre/scafellpike/local/HT04544/sht09/jxw92-sht09/anaconda3/etc/conda\n  conda av metadata url : None\n           channel URLs : https://conda.software.inl.gov/public/linux-64\n                          https://conda.software.inl.gov/public/noarch\n                          https://repo.anaconda.com/pkgs/main/linux-64\n                          https://repo.anaconda.com/pkgs/main/noarch\n                          https://repo.anaconda.com/pkgs/r/linux-64\n                          https://repo.anaconda.com/pkgs/r/noarch\n\nmac channels output\n           channel URLs : https://conda.software.inl.gov/public/osx-arm64\n                          https://conda.software.inl.gov/public/noarch\n                          https://repo.anaconda.com/pkgs/main/osx-arm64\n                          https://repo.anaconda.com/pkgs/main/noarch\n                          https://repo.anaconda.com/pkgs/r/osx-arm64\n                          https://repo.anaconda.com/pkgs/r/noarch",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11294635",
                          "updatedAt": "2024-11-18T17:02:47Z",
                          "publishedAt": "2024-11-18T17:02:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Yeah, it looks like you're using an older instance of Conda. Not the issue, but just FYI if you are tired of lengthy solves (installing moose-dev using this instance of Conda will/is probably taking around 30 minutes), updating to a later release will greatly speed things up. To elaborate, your conda info should include this within the output:\n         python version : 3.10.14.final.0\n                 solver : libmamba (default)     <-------\n       virtual packages : __archspec=1=m2\n                          __conda=24.9.2=0\n                          __osx=14.7.1=0\n                          __unix=0=0\n\nAnyways, the real issue here is that our packages are built using conda-forge's compilers. So you'll need to add that channel into the mix in order to install anything from our public channel:\nconda config --add channels conda-forge\nconda config --add channels https://conda.software.inl.gov/public\nYou'll get a warning about our channel already added but moving to the top... this is good\nOnce that is complete, try your conda create command again!",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11294714",
                          "updatedAt": "2024-11-18T17:10:10Z",
                          "publishedAt": "2024-11-18T17:10:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I just read that this may be an instance of Conda you don't have control over (HPC). If that is true, I think in that case the following should work:\nconda create -n testing moose-pyhit=2022 \\\n --channel https://conda.software.inl.gov/public \\\n --channel conda-forge\nThat way, you're not modifying the channels in place already.",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11294957",
                          "updatedAt": "2024-11-18T17:32:53Z",
                          "publishedAt": "2024-11-18T17:32:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jvwilliams23"
                          },
                          "bodyText": "Thanks @milljm, I managed to download moose-pyhit! Do you know how to get moosetree? My code relies on moosetree.find",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11302681",
                          "updatedAt": "2024-11-19T09:16:08Z",
                          "publishedAt": "2024-11-19T09:16:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Indeed, comes with :)\n>>> from pyhit import moosetree\n>>> moosetree.__file__\n'/Users/milljm/miniforge/envs/testing/lib/python3.10/site-packages/pyhit/moosetree/__init__.py'",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11305144",
                          "updatedAt": "2024-11-19T13:15:05Z",
                          "publishedAt": "2024-11-19T13:15:04Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jvwilliams23"
                          },
                          "bodyText": "Perfect, thank you!",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11323431",
                          "updatedAt": "2024-11-20T14:11:51Z",
                          "publishedAt": "2024-11-20T14:11:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Oh, sorry. I should have demonstrated moosetree.find('node'). But I was more interested in demonstrating access to moosetree, without needing a clone of the moose repository.\nCheers!",
                          "url": "https://github.com/idaholab/moose/discussions/29085#discussioncomment-11325338",
                          "updatedAt": "2024-11-20T16:02:48Z",
                          "publishedAt": "2024-11-20T16:02:47Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Update source using generate command",
          "author": {
            "login": "danikiev"
          },
          "bodyText": "I want to generate source markdowns for a new object only using  ./moosedocs.py generate command.\nHowever it recreates markdown files even for all objects. How to avoid it and update only the specific object?",
          "url": "https://github.com/idaholab/moose/discussions/29105",
          "updatedAt": "2024-11-20T15:58:03Z",
          "publishedAt": "2024-11-20T13:27:03Z",
          "category": {
            "name": "Q&A Tools"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThere is no option at the moment to do that officially.\nYou could hack it by :\n\nchanging the app_type of the one object\nrecompile\nselect the app_type using the --app_types after ./moosedocs.py generate\nchange the app_type back for the object\n\nbut at this point you might as well copy paste an existing documentation page and change the object name",
                  "url": "https://github.com/idaholab/moose/discussions/29105#discussioncomment-11323575",
                  "updatedAt": "2024-11-20T14:25:17Z",
                  "publishedAt": "2024-11-20T14:25:16Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "danikiev"
                          },
                          "bodyText": "Thanks for the hints!",
                          "url": "https://github.com/idaholab/moose/discussions/29105#discussioncomment-11325262",
                          "updatedAt": "2024-11-20T15:58:04Z",
                          "publishedAt": "2024-11-20T15:58:03Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "custom material object can't be registered",
          "author": {
            "login": "RWTHLHK"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nI developed a custom material object that inherits 2 classes in solid mehcanics.  So far I haven't added any new parameters and methods yet. But the i always get the error:\n/home/linghao/projects/moose/framework/build/header_symlinks/Registry.h:275:42: error: could not convert 'std::make_unique(_Args&& ...) [with _Tp = ComputePFCFStress; _Args = {const InputParameters&}; __detail::__unique_ptr_t<_Tp> = __detail::__unique_ptr_t<ComputePFCFStress>]()' from 'unique_ptr<ComputePFCFStress,default_delete<ComputePFCFStress>>' to 'unique_ptr<MooseObject,default_delete<MooseObject>>' 275 |     return std::make_unique<T>(parameters); |                                          ^ |                                          | |                                          unique_ptr<ComputePFCFStress,default_delete<ComputePFCFStress>> make: *** [/home/linghao/projects/moose/framework/build.mk:151: /home/linghao/projects/isotropic_hardening/build/unity_src/material_Unity.x86_64-conda-linux-gnu.opt.lo] Error 1\nI have no idea why this occurs. Can somebody please tell me how to fix this?",
          "url": "https://github.com/idaholab/moose/discussions/29101",
          "updatedAt": "2024-11-19T18:08:37Z",
          "publishedAt": "2024-11-19T16:06:53Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\n\n2 classes in solid mehcanics.\n\nwhich ones?\nWe can't do diamond inheritance in MOOSE (or in C++), unless you start using virtual inheritance which will take a few deeper modifications\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/29101#discussioncomment-11307893",
                  "updatedAt": "2024-11-19T16:10:11Z",
                  "publishedAt": "2024-11-19T16:10:09Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "RWTHLHK"
                          },
                          "bodyText": "I inherit ComputeLinearElasticFractureStress and ComputeMultipleInelasticStress. I guess both class inherit UpStressStateBase and this leads to error right?",
                          "url": "https://github.com/idaholab/moose/discussions/29101#discussioncomment-11308109",
                          "updatedAt": "2024-11-19T16:24:33Z",
                          "publishedAt": "2024-11-19T16:24:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Yes exactly.\nYou would need to make these two classes virtually inherit from that common class to make it work.\nAlternatively only pick one class to inherit and copy the code you need from the other class",
                          "url": "https://github.com/idaholab/moose/discussions/29101#discussioncomment-11309602",
                          "updatedAt": "2024-11-19T18:08:37Z",
                          "publishedAt": "2024-11-19T18:08:37Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to implement custom hardening stress update material?",
          "author": {
            "login": "RWTHLHK"
          },
          "bodyText": "I am trying to implement a custom hardening stress update material similar to isotropic power law hardening material. But some parts in isotropic power law hardening are quite confusing.\ntemplate <bool is_ad>\nGenericReal<is_ad>\nIsotropicPowerLawHardeningStressUpdateTempl<is_ad>::computeHardeningDerivative(\n    const GenericReal<is_ad> & scalar)\n{\n  const GenericReal<is_ad> stress_delta = _effective_trial_stress - _three_shear_modulus * scalar;\n  GenericReal<is_ad> slope = std::pow(stress_delta, (1.0 / _strain_hardening_exponent - 1.0)) /\n                             _strain_hardening_exponent * 1.0 /\n                             std::pow(_K, 1.0 / _strain_hardening_exponent);\n  slope -= 1.0 / _youngs_modulus;\n\n  return 1.0 / slope;\n}\n\nHere why is the hardening derivative such a complex form instead of nKp^n-1? And why is there a reciprocal of slope? I also tried derivative as nKp^n-1, but the convergence is bad. Can some expert please explain this?",
          "url": "https://github.com/idaholab/moose/discussions/29096",
          "updatedAt": "2024-11-19T13:38:43Z",
          "publishedAt": "2024-11-19T02:42:49Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI think it is like this?\nstd::pow(stress_delta, (1.0 / _strain_hardening_exponent - 1.0)) = p ^ (n - 1)\nwith n = 1.0 / _strain_hardening_exponent\n1 / _strain_hardening_exponent = n as a factor in the expression\n std::pow(_K, 1.0 / _strain_hardening_exponent);  = K\n\nThen the young modulus is the elastic part of that slope\n\nI also tried derivative as nKp^n-1, but the convergence is bad\n\nThe way you can prove to yourself this is correct is to use the Jacobian analysis.(if this slope term is for the Jacobian, which I imagine it is)\nhttps://mooseframework.inl.gov/help/development/analyze_jacobian.html\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/29096#discussioncomment-11305626",
                  "updatedAt": "2024-11-19T13:38:44Z",
                  "publishedAt": "2024-11-19T13:38:43Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Heat flux discrepancy for coupled MOOSE-THM simulation",
          "author": {
            "login": "lewisgross1296"
          },
          "bodyText": "I'm running a MOOSE-THM coupled simulation with the following scheme (MOOSE Heat Transfer Module is the main app)\n\nRun a 1-D THM solve on timestep_begin and use a HeatTransferFromExternalAppTemperature1Phase component for the heat transfer (the first T_wall is just the inlet temperature everywhere)\n\nSend fluid T and heat transfer coefficient (HTC) to MOOSE\n\n\nThen, run MOOSE  with a constant volumetric heat source, use a Robin (CoupledConvectiveHeatFluxBC) BC to solve for solid temperature\n\nCompute a NearestPointLayeredSideAverage T_wall and send to each THM sub-application (this case has 31)\n\n\n\nIn the coupling scheme, I use a ProjectionAux to make a nodal T_inf_nodal variable to send back to MOOSE for the robin BC (as I was getting complaints about transferring between nodal and elemental variables). The temperature results converge to steady state (steady_state_tolerance = 5e-5) and seem reasonable.\nAs a verification excercise, I attempted to compute $q'' = HTC (T_{wall} - T_{inf})$ for each THM channel, but the heat flux looks a little wonky. My hypothesis is that mixing elemental and nodal variables is responsible for the produced $q_{THM}''$. I also produced a $q_{solid}''$ from the main app temperature field using a DiffusionFluxAux  + NearestPointLayeredSideAverage. This heat flux looks much better compared to the THM one.\nHere's how I computed $q_{THM}''$ (I've denoted which variables are nodal/elemental)\n  [compute_q_wall] \n   type = ADConvectiveHeatFlux1PhaseAux\n   Hw = Hw # elemental computed from Material objects (`ADWallFrictionChurchillMaterial`, `ADReynoldsNumberMaterial`, `ADPrandtlNumberMaterial`, the Dittus-Boelter correlation for `Nu` and `ADConvectiveHeatTransferCoefficientMaterial`)\n   T = T # elemental solution results (main output of THM)\n   T_wall = T_wall # nodal variable transferred from solid main app\n   variable = q_wall # elemental AuxVariable \n  []\n\nNow, I'll show the two results. From THM\n\nFrom MOOSE\n\nAm I doing something wrong? I've tried all kinds of projections for the inputs above (e.g. making an elemental T_wall for use in the above kernel), and they all end up with strange bumps in the middle.\nI'm not sure the projections were helping or doing exactly the right thing in this case. Would definitely be interested to hear more about projecting between nodal and elemental variables for THM, since it seems to be the key to understanding the behavior here.\nI can upload my input files, if desired.",
          "url": "https://github.com/idaholab/moose/discussions/28926",
          "updatedAt": "2024-11-18T22:28:08Z",
          "publishedAt": "2024-10-24T19:00:08Z",
          "category": {
            "name": "Q&A Modules: Thermal Hydraulics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nSorry for the delay.\nThe projection would likely affect the heat flux, but here it seems there is a larger trend at play.\nWhat is at 1.2m in y in the simulation?\nI think I am misunderstanding the setup here.\nThe convective heat flux output by THM is of the form H(T-Twall) and the diffusive heat flux of the form D grad T_wall (right?).\nWhy do you expect both to match? Is diffusion the only mechanism on the solid side?",
                  "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11082155",
                  "updatedAt": "2024-10-29T03:40:10Z",
                  "publishedAt": "2024-10-29T03:40:09Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lewisgross1296"
                          },
                          "bodyText": "No worries, thanks for the response.\nThe strange thing is there's nothing special happening at 1.2 m in my simulation (at least not intentionally). The assembly is 2.4 m tall. If I understand correctly, since I'm using n_elems = 48 for my FlowChannel1Phase component in THM, there would be a node at 1.2 m, but there's no physics occurring there that should make this point special.\nThere's a constant volumetric heat source on the solid side but only in the fuel. All the coolant channels occur in graphite, so diffusion is the only mechanism in those blocks. Here's my kernels in the solid app\n[Kernels]\n  [diffusion]\n    type = HeatConduction\n    variable = T\n  []\n  [time_T]\n    type = HeatConductionTimeDerivative\n    variable = T\n  []\n  [source]\n    type = CoupledForce\n    variable = T\n    v = power_density\n    block = 'fuel'\n  []\n[]\n\nSince I'm using this BC on the solid side\n[BCs]\n  [robin_bc_on_fsi]\n    type = CoupledConvectiveHeatFluxBC\n    variable = T\n    boundary = 'fluid_solid_interface'\n    htc = 'HTC'\n    T_infinity = 'T_inf'\n  []\n[]\n\nI do expect $q'' = HTC (T - T_{inf})$ on the coolant channel boundary. Let me know if you would like to see the inputs, I can send a zip file since my repo is currently private. I also have a fair amount of other plots along the y axis (T_fluid, T_wall, HTC, etc.) if you are curious about those, I can post as well.",
                          "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11091305",
                          "updatedAt": "2024-10-29T18:48:30Z",
                          "publishedAt": "2024-10-29T18:48:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "The assembly is 2.4 m tall. If I understand correctly, since I'm using n_elems = 48 for my FlowChannel1Phase component in THM, there would be a node at 1.2 m\n\non the solid mesh side, what kind of discretization do you have? If you have an odd number of elements, you could get something weird with a nearest-location approach, where the \"wrong\" node (both are valid choices, but maybe the decision on which one to map changes as this center node) gets mapped to the central node.\n\nI also have a fair amount of other plots along the y axis (T_fluid, T_wall, HTC, etc.) if you are curious about those, I can post as well.\n\nI think that's a good idea. We know q_wall is weird, but is it because of HTC, T_wall or T_fluid?\nTo find that out, run a loosely coupled simulation (no fixed point) so we do not see something like (wrong T_wall causes wrong T_fluid causes wrong HTC)",
                          "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11093943",
                          "updatedAt": "2024-10-30T00:47:09Z",
                          "publishedAt": "2024-10-30T00:46:22Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "lewisgross1296"
                  },
                  "bodyText": "I'm using the same number of axial layers on the solid side as the number of elements in THM (num_layers = 48 in my solid mesh extrusion step). I think the node y-coordinates should match exactly, but I see what you're saying about a potential nearest-location issue.\nI'll give a quick rundown of each variable and its type. On the solid app, I've got\n[Variables]\n  [T] # LINEAR LAGRAGE (default)\n  []\n[]\n\n[AuxVariables]\n  # receive THM computed fluid temp\n  [T_inf]\n  []\n  # receive THM computed heat transfer coefficient\n  [HTC]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  # receive power density from OpenMC\n  [power_density]\n    family = MONOMIAL\n    order = CONSTANT\n    block = 'fuel'\n  []\n  # variable to compute heat flux\n  [heat_flux_normal]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n[]\n\nTHM creates T (elemental) and T_wall (nodal, FIRST LAGRANGE) and I add the AuxVars\n[AuxVariables]\n  [T_inf_nodal] # project elemental T onto this variable before transferring to solid app\n  []\n  [Hw] # materials are defined on elements\n    family = MONOMIAL\n    order = CONSTANT\n  []\n  [q_wall]\n    family = MONOMIAL\n    order = CONSTANT\n  []\n[]\n\nAnd here are the VPPs output by THM\n\n\n\n\nNow that I'm looking at these, something is a bit off on the T_inf_nodal near the center (maybe caused by the projections). While it's T that is used in the q_wall computation, T_inf_nodal is used to compute T_wall. Perhaps the issue starts there?\n\nTo find that out, run a loosely coupled simulation (no fixed point) so we do not see something like (wrong T_wall causes wrong T_fluid causes wrong HTC)\n\nDo you mean run THM alone with some T_wall defined in my input?",
                  "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11103493",
                  "updatedAt": "2024-10-30T17:56:41Z",
                  "publishedAt": "2024-10-30T17:56:40Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Do you mean run THM alone with some T_wall defined in my input?\n\nThis jump could be having the consequences you see. Let's use a smooth shape for T inf nodal and see if it fixes it",
                          "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11104254",
                          "updatedAt": "2024-10-30T19:10:13Z",
                          "publishedAt": "2024-10-30T19:10:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "alternatively, could you change on the mesh to have a half-sized element at the start. Then the nodes & centroids would be aligned and you would not need to project?",
                          "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11104262",
                          "updatedAt": "2024-10-30T19:11:21Z",
                          "publishedAt": "2024-10-30T19:11:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lewisgross1296"
                          },
                          "bodyText": "Think I'm starting to see this is mostly a post processing / choice of number of layers in my LayeredAverage [UserObjects] issue.\nI ran a simulation where instead of projecting an elemental T onto a nodal T_inf_nodal, I defined an analytical T_inf_nodal via an IC using the function $T_{inf~nodal} = 873.15 + y*(1100 - 873.15)/2.4$. As a sanity check, I loaded one of the solid_out_thm<N>.e into paraview and made a plot there, attached below\n\nThis shows that T_inf_nodal is a line (with no \"bump\" in the center), but T_wall sent from the solid still has something weird going on in the middle. For the same simulation, when I run my post processing scripts, I still see a bump in my T_inf_nodal.\n\nThinking about it more, I believe the issue is with my choice of num_layers for the UO + VPP that outputs the CSV from which the above plot is generated.  My THM mesh has num_layers_for_THM (which is 48) elements. Where I think I was going wrong was thinking that the layer averages for nodal quantities should have num_layers_for_THM +1 layers, since there's one more node than element.\nWhat this ACTUALLY does  is average the LINEAR LAGRANGE variable over $\\frac{N}{N+1}$ of the normal element height, which causes the interior layers to gets split over multiple mesh elements.\nIn my post processing script, I take those N+1 values and plot them at the node locations. This isn't technically correct, since they should probably be plotted at the centroid of each layer / probably is why there's a weird bump. Here's an image that shows this axial division for a simplified for a case with N=4 layers (so 5 nodes). Basically, the purple points are the nodal values (T_inf_nodal) and occur at boundaries between elements and there would be a linear function between. As can be seen, using N=5 layers to do the LayeredAverage isn't conformal with the mesh.\n\nI'm not 100% sure if it averages the node values or the linear temperature function, but the key takeaway is the temp values are not being plotted at the correct locations (in my post processed plots) and the averaging domains are a bit off for nodal variables.\nI think moving forward, I should just use N layers in all my LayeredAverage to be conformal with the mesh. I also think using Projections, despite this warning\n*** Warning ***\n/home/lgross/gcmr_playground/multiphysics/inner/MOOSE_THM_tweak/solid.i:240.3:\nThe following warning occurred in the Transfer 'T_inf_from_THM' of type MultiAppGeneralFieldNearestLocationTransfer.\n\nTransfer is projecting from nearest-centroids to nodes. This is likely causing floating point indetermination in the results because multiple centroids are 'nearest' to a node. Please consider using a ProjectionAux to build a nodal source variable (for example linear Lagrange) before transferring\n\nis probably not necessary / adds more variables (and confusion) / does the same thing the transfer between different variable types does (correct me if I'm wrong).\nI also plan to make my THM T_wall variable elemental so it is more compatible with the UserObject transfer (aka a variable that receives N data points from solid)\n  [ht_exit]\n    type = HeatTransferFromExternalAppTemperature1Phase\n    flow_channel = channel\n    P_hf = '${fparse channel_diameter * pi}'\n    T_ext = T_wall\n    var_type = elemental \n  []\n\nWaiting on a simulation with all these changes to run, but I'll post an update when it finishes.",
                          "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11235491",
                          "updatedAt": "2024-11-13T05:39:39Z",
                          "publishedAt": "2024-11-13T05:39:38Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Do you mean N-1 layers? N-1 layers fit between N nodes (with the nodes at the edges of the layers, the layered average is the average of both nodal values)\nCould you do N layers, but offset them so they are centered on the nodes?",
                          "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11241085",
                          "updatedAt": "2024-11-13T14:37:49Z",
                          "publishedAt": "2024-11-13T14:37:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lewisgross1296"
                          },
                          "bodyText": "So using N layers for all my UserObjects and no ProjectionAux (just transfer elemental T to solid app nodal variable T_inf to serve as T_infinity in my CoupledConvectiveHeatFluxBC) seems much better.\nHere are the new plots generated from THM quantities (the T variable is essentially the same).\n\n\n\nThere's still something a little off near the top of the system (can be seen in the HTC too), but overall this is much closer to the q_wall that the solid produces. I would like to test projection vs no projection at some point, but would need to wait for 1D nodal <-> elemental to be allowed again with projections.",
                          "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11295382",
                          "updatedAt": "2024-11-18T18:18:30Z",
                          "publishedAt": "2024-11-18T18:18:30Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This looks so much better indeed.\nSo removing the projection is the way to go?\nor is the bulk of the fix really aligning the bins / using the right number?\nThe 1D projection change is in a  large PR of mine already. If you need it ASAP I can separate in another PR",
                          "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11295457",
                          "updatedAt": "2024-11-18T18:28:24Z",
                          "publishedAt": "2024-11-18T18:27:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lewisgross1296"
                          },
                          "bodyText": "I think the main improvement comes from using the correct number of layers in my UO. I am curious to see the change due to projection, but I can move forward without it for now. Care to ping me on the PR so I can watch it?",
                          "url": "https://github.com/idaholab/moose/discussions/28926#discussioncomment-11297509",
                          "updatedAt": "2024-11-18T22:27:53Z",
                          "publishedAt": "2024-11-18T22:27:52Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Crack surface computation in PF fracture analysis.",
          "author": {
            "login": "selarem"
          },
          "bodyText": "Hello,\nI would like to know how to compute the total crack surface in a phase field fracture analysis. This should inform on the total crack surface and its evolution during the computation. This quantity is to output in a csv file.\nRegards,\nSaber",
          "url": "https://github.com/idaholab/moose/discussions/28664",
          "updatedAt": "2024-11-18T21:01:55Z",
          "publishedAt": "2024-09-19T11:57:01Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@dschwen @hugary1995",
                  "url": "https://github.com/idaholab/moose/discussions/28664#discussioncomment-10694242",
                  "updatedAt": "2024-09-19T14:20:28Z",
                  "publishedAt": "2024-09-19T14:20:27Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "selarem"
                          },
                          "bodyText": "Solved using TotalFreeEnergy with f_name = F for the total free energy; and with f_name = fracture_energy for the total fracture energy.\nJust note that :\n[./elastic_energy_1]\ntype = MaterialRealAux\nproperty = 'elastic_energy'\nvariable = elasticlocal_energy\nexecute_on = timestep_end\n[../]\nand\n[./elastic_energy_2]\ntype = TotalFreeEnergy\nvariable = total_elastic_energy\ninterfacial_vars = 'c'\nkappa_names = 'kappa_op'\nexecute_on = 'TIMESTEP_END'\nf_name = elastic_energy\n[../]\ngive (slight) different outputs.\n41.190242813765,41.195224132079\n41.18302553809,41.188742079556\n41.175391675079,41.181772920692\n41.167576021253,41.174590586641\n41.159834429617,41.167426571582",
                          "url": "https://github.com/idaholab/moose/discussions/28664#discussioncomment-10760897",
                          "updatedAt": "2024-09-26T09:40:05Z",
                          "publishedAt": "2024-09-26T08:56:26Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "selarem"
                  },
                  "bodyText": "The way I am doing it today is to compute  total_free_energy and subscript the total_elastic_energy. However, I want to check !",
                  "url": "https://github.com/idaholab/moose/discussions/28664#discussioncomment-10705509",
                  "updatedAt": "2024-09-20T13:35:33Z",
                  "publishedAt": "2024-09-20T13:35:32Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "selarem"
                          },
                          "bodyText": "I found out that the energy computation is wrong and that mechanical equilibrium is not satisfied. In fact, the the fracture energy the (non local term or gradient term) is not considered I with fracture_energy computation, I only have the local term integration ! I would like to have help in how computing the total fracture energy. Regards",
                          "url": "https://github.com/idaholab/moose/discussions/28664#discussioncomment-11296907",
                          "updatedAt": "2024-11-18T21:01:56Z",
                          "publishedAt": "2024-11-18T21:01:55Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}