{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0xMS0yN1QxODozMzoxOS0wNzowMM4Ac3ie"
    },
    "edges": [
      {
        "node": {
          "title": "Unable to Install Moose Framework Due to Package Conflicts",
          "author": {
            "login": "BouncedGodzilla"
          },
          "bodyText": "Bug Description\nI have a MacBook Pro, 15 in., 2017 make, running on OSX Ventura 13.6.3. It seems that I am unable to update my OSX any further, as my make is no longer supported by Apple. For a class, I am supposed to install MOOSE. I have followed the instructions on the MOOSE website:\nhttps://mooseframework.inl.gov/getting_started/installation/conda.html\nto install MOOSE. Previously I had tried to install the prebuilt model. After setting up mini forge and conda, I run the command:\nconda create -n moose moose-dev=2024.03.15\nwhich will inevitably run into the error:\nUnsatisfiableError: The following specifications were found to be incompatible with each other:\nwhich then lists a long list of packages which are supposedly incompatible and with an ending copula saying:\n**The following specifications were found to be incompatible with your system:\n\nfeature:/osx-64::__osx==10.16=0\nfeature:|@/osx-64::__osx==10.16=0\n\nYour installed version is: 10.16**\nI have tried installing MOOSE many times and this error is consistently encountered. My terminal shell is -zsh, but I previously tried with bash. I have reinstalled miniforge, tried other troubleshooting suggestions from the MOOSE website, mainly related to testing environment stuff. If I try to uninstall MOOSE, it says that there is no such environment on my computer, which means MOOSE has never been installed. Is MOOSE not compatible with Ventura 13.6.3 any longer? Is there likely something on my computer blocking its installation? Is there a known workaround for this issue?\nThank you.\nSteps to Reproduce\nFollow instructions for installing miniforge, conda, and then MOOSE on my computer, a 2017 make MacBook Pro 15 in. running OSX Ventura 13.6.3. from the website:\nhttps://mooseframework.inl.gov/getting_started/installation/conda.html\nImpact\nI am unable to install MOOSE at all. I need it for my university course homework. I can workout an alternative way to use it by borrowing somebody's computer to do this homework, but such would be cumbersome to have to do.\n[Optional] Diagnostics\nNo response",
          "url": "https://github.com/idaholab/moose/discussions/27253",
          "updatedAt": "2024-12-03T05:00:59Z",
          "publishedAt": "2024-03-30T20:51:48Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "I need to change this to a discussion, as it is not a bug in MOOSE (no amount of changes we make in MOOSE will alter your results).",
                  "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8972763",
                  "updatedAt": "2024-04-01T13:13:19Z",
                  "publishedAt": "2024-04-01T13:13:05Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "Firstly, we have build/test machines that are still operating among this architecture (Intel Macs), so the installation procedures should still be valid for your hardware.\nI'd like to understand the environment you are operating in. Its most likely there are multiple Conda installations, or perhaps a second third-party package manager (like Homebrew), which may be interfering with the installation process.\nCan you run the following tool, and report the results:\ncd moose/scripts\n./diagnostics.sh\nShould give us a better picture as to your running environment.",
                  "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8972802",
                  "updatedAt": "2024-04-01T13:17:53Z",
                  "publishedAt": "2024-04-01T13:17:53Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "To be clear, our packages will work as far back as MacOS 10.15 (Catalina), for Intel based Macs.\nOur Conda build target specs:\n#### Darwin SDK SYSROOT\nCONDA_BUILD_SYSROOT:                                        # [osx]\n  - /opt/MacOSX10.15.sdk                                    # [not arm64 and osx]\n  - /opt/MacOSX11.3.sdk                                     # [arm64]\n\nmacos_min_version:                                          # [osx]\n  - 10.15                                                   # [not arm64 and osx]\n  - 11.3                                                    # [arm64]\n\nmacos_machine:                                              # [osx]\n  - x86_64-apple-darwin13.4.0                               # [not arm64 and osx]\n  - arm64-apple-darwin20.0.0                                # [arm64]\n\nMACOSX_DEPLOYMENT_TARGET:                                   # [osx]\n  - 10.15                                                   # [not arm64 and osx]\n  - 11.3                                                    # [arm64]",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8983538",
                          "updatedAt": "2024-04-02T12:38:26Z",
                          "publishedAt": "2024-04-02T12:38:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "BouncedGodzilla"
                          },
                          "bodyText": "After running:\ncd moose/scripts\n./diagnostics.sh\nI got:\n(base) garrettfritcher@client-10-229-103-135 ~ % cd moose/scripts./diagnostics.sh\ncd: no such file or directory: moose/scripts./diagnostics.sh\n(base) garrettfritcher@client-10-229-103-135 ~ % cd moose/scripts\ncd: no such file or directory: moose/scripts\n(base) garrettfritcher@client-10-229-103-135 ~ %\nSorry for the late reply, I was busy yesterday.",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8983974",
                          "updatedAt": "2024-04-02T13:18:17Z",
                          "publishedAt": "2024-04-02T13:18:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "once in the moose/scripts directory, run ./diagnostics.sh",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8984020",
                          "updatedAt": "2024-04-02T13:20:54Z",
                          "publishedAt": "2024-04-02T13:20:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "BouncedGodzilla"
                          },
                          "bodyText": "I am unable to access moose/scripts. \"cd: no such file or directory: moose/scripts\". As I had noted, I don't think I've ever been able to install moose, which was the error I needed help with.",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8984081",
                          "updatedAt": "2024-04-02T13:25:31Z",
                          "publishedAt": "2024-04-02T13:25:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "cd ~/projects/moose/scripts\n./diagnostics.sh\nWe just assume you know where you cloned moose when we say things like \"cd moose\"",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8984092",
                          "updatedAt": "2024-04-02T13:26:23Z",
                          "publishedAt": "2024-04-02T13:26:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "BouncedGodzilla"
                          },
                          "bodyText": "My result:\n(base) garrettfritcher@client-10-229-103-135 ~ % cd ~/projects/moose/scripts\n./diagnostics.sh\ncd: no such file or directory: /Users/garrettfritcher/projects/moose/scripts\nzsh: no such file or directory: ./diagnostics.sh\n(base) garrettfritcher@client-10-229-103-135 ~ % cd ~/projects/moose/scripts\ncd: no such file or directory: /Users/garrettfritcher/projects/moose/scripts\n(base) garrettfritcher@client-10-229-103-135 ~ %\nI have never cloned moose that I know of. Is the squiggly line a destination like desktop or documents per se? I tried looking in my finder for moose files but could not find anything except for what looks to be stuff in Adobe Creative Cloud, which do not pertain to moose from INL. Pardon me for my inexperience, too.",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8984183",
                          "updatedAt": "2024-04-02T13:33:49Z",
                          "publishedAt": "2024-04-02T13:33:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Oh, I see... you have yet to clone moose. I suppose our instructions do start off with \"Install Conda\". In that case, can you clone moose, and then run the diagnostics script:\nmkdir -p ~/projects\ncd ~/projects\ngit clone https://github.com/idaholab/moose.git\ncd moose\ngit checkout master\ncd scripts\n./diagnostics.sh",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8984193",
                          "updatedAt": "2024-04-02T13:34:41Z",
                          "publishedAt": "2024-04-02T13:34:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "BouncedGodzilla"
                          },
                          "bodyText": "When running:\ngit clone https://github.com/idaholab/moose.git\nI got:\n(base) garrettfritcher@client-10-229-103-135 projects % git clone https://github.com/idaholab/moose.git\nxcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun\nThe projects % copula indicates I am in the projects cd right?",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8984341",
                          "updatedAt": "2024-04-02T13:45:23Z",
                          "publishedAt": "2024-04-02T13:45:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Well this error can certainly be the reason why Conda is also failing. Lets figure out XCode and then move on...\nCan you try the following:\nxcode-select --install\nIf this command fails, it will be necessary to use the App Store, and simply re-install Xcode from there.\nAnd for your information, this error is fairly common when one upgrades their operating system. The MacOS upgrade process does not account for also upgrading your Xcode instance. And they are tightly intertwined. Honestly, I am not sure why Apple chooses to ignore updating Xcode (if its installed) when one performs an OS upgrade.",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8984368",
                          "updatedAt": "2024-04-02T13:49:25Z",
                          "publishedAt": "2024-04-02T13:47:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "The projects % copula indicates I am in the projects cd right?\n\nIndeed! Sorry I missed that second part of your question...",
                          "url": "https://github.com/idaholab/moose/discussions/27253#discussioncomment-8984457",
                          "updatedAt": "2024-04-02T13:53:06Z",
                          "publishedAt": "2024-04-02T13:53:05Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Maintaining Variable Dependencies,  Using ADMatDiffusion",
          "author": {
            "login": "swonner"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nI am currently writing an input file to solve to following system of equations. The input file for this system is attached below.\n\nMany of the variables are connected, such as the material property terms L which are functions of XV and XB, and the auxiliary variable terms $\\mu$ terms which are functions of X as well. I created a diagram that shows how my code currently handles this system of equations.\n\nI am mostly concerned about the implementation of my ADMatDiffusion Kernels. My concern is that the material properties and auxillary variables being used are functions of my main variables (XA, XB, XV and XI), and I am unsure if right now that dependency is taken into account. How might I ensure that this dependency is properly taken into account? Is it okay that I split the system up in this way?\nInput File\n\n[Mesh] \n    [gen]\n        type = GeneratedMeshGenerator\n        dim = 2\n        nx = 200\n        ny = 50\n        xmax = 50 # um\n        ymax = 10 #um\n    []\n    [left_box]\n        type = SubdomainBoundingBoxGenerator\n        input = gen\n        bottom_left = '0 0 0' \n        top_right = '25 10 0' # (xmax/2, ymax, 0)\n        block_id = 1\n    []\n    [grainboundary]\n        type = SideSetsBetweenSubdomainsGenerator\n        input = left_box\n        paired_block = 1\n        primary_block = 0\n        new_boundary = grain_boundary\n    [] \n[]\n\n\n\n\n[Variables] \n    # XA, XB, XV, XI - the concentration of atoms (A,B) and defects (V,I)\n    [XA]\n        order = FIRST\n        family = LAGRANGE\n    []\n\n    [XB]\n        order = FIRST\n        family = LAGRANGE\n    []\n\n    [XV]\n        order = FIRST\n        family = LAGRANGE\n    []\n\n    [XI]\n        order = FIRST\n        family = LAGRANGE\n    []  \n[]\n\n[AuxVariables] \n    # Chemical Potential of A, B atoms and V, I defects\n    [muA]\n        order = FIRST \n        family = MONOMIAL\n    []\n\n    [muB]\n        order = FIRST \n        family = MONOMIAL\n    []\n\n    [muV]\n        order = FIRST \n        family = MONOMIAL\n    []\n\n    [muI]\n        order = FIRST \n        family = MONOMIAL\n    []\n\n\n[]\n\n\n[ICs]\n    [XA_ic]\n        type = ConstantIC\n        variable = XA\n        value = 0.95\n    []\n\n    [XB_ic]\n        type = ConstantIC\n        variable = XB\n        value = 0.05 \n    []  \n\n    [XV_ic]\n        type = ConstantIC\n        variable = XV\n        value = 9.73e-15  \n    []\n\n    [XI_ic]\n        type = ConstantIC\n        variable = XI\n        value = 595e-33\n    []\n    [muA_ic]\n        type = ConstantIC\n        variable = muA\n        value = -2.21e-03   \n    []\n    [muB_ic]\n        type = ConstantIC\n        variable = muB\n        value = -1.29e-01 \n    []\n    [muI_ic]\n        type = ConstantIC\n        variable = muI\n        value = 0 \n    []\n    [muV_ic]\n        type = ConstantIC\n        variable = muV\n        value = 0 \n    []\n\n\n[]\n\n[Kernels]\n    #################### Main variable: XA ####################\n    ## \n    # XA + XB - XV + XI - 1 = 0\n    [conservation_XA] # XA\n        type =ADMatReaction\n        variable = XA\n        reaction_rate = 1\n    []\n\n    [conservation_XB] # XB\n        type = ADCoupledForce\n        variable = XA\n        v = XB\n    []\n\n    [conservation_XV] # -XV\n        type = ADCoupledForce\n        variable = XA\n        v = XV\n        coef = -1\n    []  \n\n    [conservation_XI] # XI\n        type = ADCoupledForce\n        variable = XA\n        v = XI\n    []\n\n    [conservation_one] # -1\n        type = ADBodyForce\n        variable = XA\n        value = -1\n    []\n\n    \n    #################### Main Variable: XB ####################\n    ## (\ud835\udf15\ud835\udc4b\ud835\udc35)/\ud835\udf15\ud835\udc61 + Vat*\u2207\u2219\ud835\udc3d\ud835\udc35\ud835\udc65 = 0 \n    [timeXB] # (\ud835\udf15\ud835\udc4b\ud835\udc35)/\ud835\udf15\ud835\udc61\n        type = ADTimeDerivative\n        variable = XB\n    []\n\n    # Vat*\u2207\u2219\ud835\udc3d\ud835\udc35 = Vat*\u2207\u22191/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc35\ud835\udc35V*(\u2207\ud835\udf07\ud835\udc35\u2212\u2207\ud835\udf07\ud835\udc49) + \ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49*(\u2207\ud835\udf07\ud835\udc34\u2212\u2207\ud835\udf07\ud835\udc49)]\n    [gradfluxB_1]\n    # Vat*\u2207\u22191/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc35\ud835\udc35V*(\u2207\ud835\udf07\ud835\udc35)]\n        type = ADMatDiffusion\n        variable = XB\n        v = muA  # coupled variable\n        diffusivity = LBBV_kbT #Vat*LBBV/kb*T\n    []   \n\n    [gradfluxB_2]\n    # Vat*\u2207\u22191/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc35\ud835\udc35V*(-\u2207\ud835\udf07V)]\n        type = ADMatDiffusion\n        variable = XB\n        v = muV # coupled variable\n        diffusivity = LBBV_kbT_neg #-Vat*LBBV/kb*T\n    []  \n\n    [gradfluxB_3]\n    # Vat*\u2207\u22191/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49*(\u2207\ud835\udf07\ud835\udc34)]\n        type = ADMatDiffusion\n        variable = XB\n        v = muA # coupled variable\n        diffusivity = LABV_kbT #Vat*LABV/kb*T\n    []  \n\n    [gradfluxB_4]\n    # Vat*\u2207\u22191/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49*(-\u2207\ud835\udf07V)]\n        type = ADMatDiffusion\n        variable = XB\n        v = muV # coupled variable\n        diffusivity = LABV_kbT_neg #-Vat*LABV/kb*T\n    []  \n\n\n\n    #################### Main Variable: XV ####################\n    ## (\ud835\udf15\ud835\udc4b\ud835\udc49)/\ud835\udf15\ud835\udc61 + Vat*\u2207\u2219(\ud835\udc3d\ud835\udc49x) - \ud835\udc3e0 + \ud835\udc3e\ud835\udc3c\ud835\udc49*\ud835\udc4b\ud835\udc49*\ud835\udc4b\ud835\udc3c = 0\n    [timeXV] #(\ud835\udf15\ud835\udc4b\ud835\udc49)/\ud835\udf15\ud835\udc61\n        type = ADTimeDerivative\n        variable = XV\n    []\n\n   #Vat* \u2207\u2219\ud835\udc3d\ud835\udc49 = Vat*\u2207\u2219(\u22121/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc34V*(\u2207\ud835\udf07\ud835\udc34\u2212\u2207\ud835\udf07\ud835\udc49) + \ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49*(\u2207\ud835\udf07\ud835\udc35\u2212\u2207\ud835\udf07\ud835\udc49) + \ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49*(\u2207\ud835\udf07\ud835\udc34\u2212\u2207\ud835\udf07\ud835\udc49) + \ud835\udc3f\ud835\udc35\ud835\udc35V*(\u2207\ud835\udf07\ud835\udc35\u2212\u2207\ud835\udf07\ud835\udc49))\n    [gradfluxV_1]\n    # Vat*\u2207\u2219(\u22121/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc34V*(\u2207\ud835\udf07\ud835\udc34)]\n        type = ADMatDiffusion\n        variable = XV\n        v = muA # coupled variable\n        diffusivity = LAAV_kbT_neg #-Vat*LAAV/kb*T\n    []  \n\n    [gradfluxV_2]\n    # Vat*\u2207\u2219(\u22121/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc34V*(-\u2207\ud835\udf07V)]\n        type = ADMatDiffusion\n        variable = XV\n        v = muV # coupled variable\n        diffusivity = LAAV_kbT #Vat*LAAV/kb*T\n    []  \n\n    [gradfluxV_3]\n    # Vat*\u2207\u2219(\u22121/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49*(\u2207\ud835\udf07\ud835\udc35)]\n        type = ADMatDiffusion\n        variable = XV\n        v = muB # coupled variable\n        diffusivity = LABV_kbT_neg #-Vat*LABV/kb*T\n    []  \n\n    [gradfluxV_4]\n    # Vat*\u2207\u2219(\u22121/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49*(\u2212\u2207\ud835\udf07\ud835\udc49)]\n        type = ADMatDiffusion\n        variable = XV\n        v = muV # coupled variable\n        diffusivity = LABV_kbT #Vat*LABV/kb*T\n    []  \n\n    [gradfluxV_5]\n    #Vat*\u2207\u2219(\u22121/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49*(\u2207\ud835\udf07\ud835\udc34)]\n        type = ADMatDiffusion\n        variable = XV\n        v = muA # coupled variable\n        diffusivity = LABV_kbT_neg #-Vat*LABV/kb*T\n    [] \n\n    [gradfluxV_6]\n    # Vat*\u2207\u2219(\u22121/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49*(\u2212\u2207\ud835\udf07\ud835\udc49)]\n        type = ADMatDiffusion\n        variable = XV\n        v = muV # coupled variable\n        diffusivity = LABV_kbT #Vat*LABV/kb*T\n    [] \n \n    [gradfluxV_7]\n    # Vat*\u2207\u2219(\u22121/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc35\ud835\udc35V*(\u2207\ud835\udf07\ud835\udc35)]\n        type = ADMatDiffusion\n        variable = XV\n        v = muB # coupled variable\n        diffusivity = LBBV_kbT_neg #-Vat*LBBV/kb*T\n    []\n    \n    [gradfluxV_8]\n    # Vat*\u2207\u2219(\u22121/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc35\ud835\udc35V*(\u2212\u2207\ud835\udf07\ud835\udc49)]\n        type = ADMatDiffusion\n        variable = XV\n        v = muV # coupled variable\n        diffusivity = LBBV_kbT #Vat*LBBV/kb*T\n    []\n\n    [defectgenV] #- \ud835\udc3e0\n        type = ADMatBodyForce\n        variable = XV\n        material_property = K0 \n    []\n\n    [defectgrecombinationV] #\ud835\udc3e\ud835\udc3c\ud835\udc49*\ud835\udc4b\ud835\udc49*\ud835\udc4b\ud835\udc3c*Vat\n        type = ADMatReaction\n        variable = XV\n        reaction_rate = RR_I #\ud835\udc3e\ud835\udc3c\ud835\udc49*\ud835\udc4b\ud835\udc3c\n    []\n\n    #################### Main Variable: XI ####################\n    ## (\ud835\udf15\ud835\udc4b\ud835\udc3c)/\ud835\udf15\ud835\udc61 + Vat*\u2207\u2219(\ud835\udc3d\ud835\udc3cx)\u00a0- \ud835\udc3e0 + \ud835\udc3e\ud835\udc3c\ud835\udc49*\ud835\udc4b\ud835\udc49*\ud835\udc4b\ud835\udc3c = 0\n    [timeXI] #(\ud835\udf15\ud835\udc4b\ud835\udc3c)/\ud835\udf15\ud835\udc61\n        type = ADTimeDerivative\n        variable = XI\n    []\n\n    #Vat*\u2207\u2219\ud835\udc3d\ud835\udc3c = Vat*\u2207\u2219(1/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc34\ud835\udc3c*(\u2207\ud835\udf07\ud835\udc34+\u2207\ud835\udf07\ud835\udc3c)])\n    [gradfluxI_1]\n    # Vat*\u2207\u2219(1/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc34\ud835\udc3c*(\u2207\ud835\udf07\ud835\udc34)]\n        type = ADMatDiffusion\n        variable = XI\n        v = muA # coupled variable\n        diffusivity = LAAI_kbT #Vat*LAAI/kb*T\n    []\n    [gradfluxI_2]\n    # Vat*\u2207\u2219(1/(\ud835\udc58\ud835\udc35*\ud835\udc47)*[\ud835\udc3f\ud835\udc34\ud835\udc34\ud835\udc3c*(\u2207\ud835\udf07I)]\n        type = ADMatDiffusion\n        variable = XI\n        v = muI # coupled variable\n        diffusivity = LAAI_kbT #Vat*LAAI/kb*T\n    []\n\n    [defectgenI] #- \ud835\udc3e0\n        type = ADMatBodyForce\n        variable = XV\n        material_property = K0 # K0 \n    []\n    [defectgrecombinationI] #\ud835\udc3e\ud835\udc3c\ud835\udc49*\ud835\udc4b\ud835\udc49*\ud835\udc4b\ud835\udc3c  \n        type = ADMatReaction\n        variable = XI\n        reaction_rate = RR_V\n    []\n[]\n\n\n\n[AuxKernels]\n    # Guidance using older (outdated) ParsedAux, https://mooseframework.inl.gov/source/auxkernels/ParsedAux.html\n    # refer to modules/phase_field/examples/anisotropic_interfaces/echebarria_iso.i for old syntax\n    # new term == old term\n    # coupled_variables = args \n    # material_properties == I do not think the older version included a way to import material properties\n        # instead you should use constant_names and constant_expressions \n    # expression == function \n\n    \n    [chempotA]\n        ## \ud835\udf07A = \ud835\udc3a\ud835\udc34 + \ud835\udc58B*\ud835\udc47*\ud835\udc59\ud835\udc5b(\ud835\udc4b\ud835\udc34) ##\n        type = ParsedAux \n        constant_names = 'kb T G_A'\n        constant_expressions = '8.61733326e-5 500 0'\n        args = 'XA' # this is correct\n        variable = muA\n        function = 'G_A + kb*T*log(XA)' \n\n        # written for the newer ParsedAux\n        # type = parsedAux\n        # material_properties = 'kb T G_A'\n        # coupled_variables = 'XA'\n        # variable = muA\n        # expression = 'G_A + kb*T*log(XA)'\n    []\n\n    [chempotB] \n        ## \ud835\udf07B = \ud835\udc3aB + \ud835\udc58B*\ud835\udc47*\ud835\udc59\ud835\udc5b(\ud835\udc4bB) ##\n        type = ParsedAux \n        constant_names = 'kb T G_B'\n        constant_expressions = '8.61733326e-5 500 0'\n        args = 'XB'\n        variable = muB\n        function = 'G_B + kb*T*log(XB)' \n\n        # written for the newer ParsedAux\n        # type = parsedAux\n        # material_properties = 'kb T G_B'\n        # coupled_variables = 'XB'\n        # variable = muB\n        # expression = 'G_B + kb*T*log(XB)' \n    []\n    \n            \n    [chempotV] \n        ## \ud835\udf07V =  \ud835\udc58B*\ud835\udc47*\ud835\udc59\ud835\udc5b(\ud835\udc4bV/\ud835\udc4bVeq) ##\n        type = ParsedAux \n        constant_names = 'kb T XV_eq'\n        constant_expressions = '8.61733326e-5 500 1'\n        args = 'XV'\n        variable = muV\n        function = 'kb*T*log(XV/XV_eq)'\n\n        # written for the newer ParsedAux\n        # type = parsedAux\n        # material_properties = 'kb T XV_eq'\n        # coupled_variables = 'XV'\n        # variable = muV\n        # expression = 'kb*T*log(XV/XV_eq)' \n        \n    []\n\n    [chempotI] \n        ## \ud835\udf07I =  \ud835\udc58B*\ud835\udc47*\ud835\udc59\ud835\udc5b(\ud835\udc4bI/\ud835\udc4bIeq) ##\n        type = ParsedAux \n        constant_names = 'kb T XI_eq'\n        constant_expressions = '8.61733326e-5 500 1'\n        args = 'XI'\n        variable = muI\n        function = 'kb*T*log(XI/XI_eq)'\n\n        # written for the newer ParsedAux\n        # type = parsedAux\n        # material_properties = 'kb T XI_eq'\n        # coupled_variables = 'XI'\n        # variable = muI\n        # expression = 'kb*T*log(XI/XI_eq)' \n    []\n    \n[]\n\n[Materials]\n    # https://mooseframeworkinlgov/source/materials/GenericConstantMaterialhtml\n    [SettingGibbs]\n        type = ADGenericConstantMaterial \n        prop_names = 'G_A G_B'\n        prop_values = '0 0' \n    []\n\n    [Settingboltsmannandtemp]\n        type = ADGenericConstantMaterial\n        # kb has units of ev/K\n        # T has units of K\n        prop_names = 'kb T'\n        prop_values ='8.61733326E-5 500' \n    []\n    \n    [SettingKineCluEConstants]\n        type = ADGenericConstantMaterial\n        prop_names = 'LVV_v LVV_vb LVB_vb LBB_vb'\n        prop_values = '1 1 1 1' #ADD VALUES LATER\n    []\n    [Settingparitionfunctions]\n        type = ADGenericConstantMaterial\n        prop_names = 'z_v z_vb'\n        prop_values = '1 1' #ADD VALUES LATER\n    []\n    [SettingEQCon]\n        type = ADGenericConstantMaterial\n        prop_names = 'XI_eq XV_eq'\n        prop_values = '1 1' #ADD VALUES LATER\n    []\n\n    [SettingDI]\n        type = ADGenericConstantMaterial\n        prop_names = 'DI'\n        prop_values = '1' #ADD VALUES LATER\n    []  \n    [SettingVat]\n        type = ADGenericConstantMaterial\n        prop_names = 'Vat'\n        prop_values = '1' #ADD VALUES LATER\n    []  \n    [SettingIRRates]\n        type = ADGenericConstantMaterial\n        prop_names = 'K0 KIV'\n        prop_values = '1 1' #ADD VALUES LATER\n    []  \n\n    # Guidance using older (outdated) ADDerivativeParsedMaterial\n    # https://mooseframework.inl.gov/source/materials/DerivativeParsedMaterial.html\n    # new term == old term\n    # coupled_variables = args see example modules/phase_field/test/tests/GrandPotentialPFM/GrandPotentialMultiphase_AD.i\n    # property_name == f_name \n    # expression == function \n\n    [clustercon_B] \n        # 0 = \u03a9^3*zvb*CB^2 + (\u03a9^2*zv + XV*\u03a9^2*zvb - XB*\u03a9^2*zvb)*CB - \u03a9*zv*XB\n        # a = \u03a9^3*zvb = Vat*Vat*Vat*z_vb\n        # b = (\u03a9^2*zv + XV*\u03a9^2*zvb - XB*\u03a9^2*zvb) = (Vat*Vat*z_v + XV*Vat*Vat*z_vb - XB*Vat*Vat*z_vb)\n        # c = - \u03a9*zv = -1*Vat*z_v\n        # CB = (-b + (b^(2) - 4*a*c)^(1/2)) / (2*a)\n        # CB = '(-(Vat*Vat*z_v + XV*Vat*Vat*z_vb - XB*Vat*Vat*z_vb) + ((Vat*Vat*z_v + XV*Vat*Vat*z_vb - XB*Vat*Vat*z_vb)^(2) - 4*Vat*Vat*Vat*z_vb*-1*Vat*z_v)^(1/2)) / (2*Vat*Vat*Vat*z_vb)' \n        type = ADDerivativeParsedMaterial\n        f_name = CB\n        args = 'XV XB'\n        material_property_names = 'z_v z_vb Vat'\n        function = '(-(Vat*Vat*z_v + XV*Vat*Vat*z_vb - XB*Vat*Vat*z_vb) + ((Vat*Vat*z_v + XV*Vat*Vat*z_vb - XB*Vat*Vat*z_vb)^(2) - 4*Vat*Vat*Vat*z_vb*-1*Vat*z_v)^(1/2)) / (2*Vat*Vat*Vat*z_vb)' \n        \n        # written for the new ADDerivativeParsedMaterial\n        # property_name = CB\n        # coupled_variables = 'XV XB'\n        # material_property_names = 'z_v z_vb Vat'\n        # expression = '(-(Vat*Vat*z_v + XV*Vat*Vat*z_vb - XB*Vat*Vat*z_vb) + ((Vat*Vat*z_v + XV*Vat*Vat*z_vb - XB*Vat*Vat*z_vb)^(2) - 4*Vat*Vat*Vat*z_vb*-1*Vat*z_v)^(1/2)) / (2*Vat*Vat*Vat*z_vb)' \n    []\n\n\n    [clustercon_V] # CV = XV / (\u03a9*zv + \u03a9^2*CB*zvb)\n    type = ADDerivativeParsedMaterial \n        f_name = CV\n        material_property_names = 'z_v z_vb Vat CB(XV,XB)'\n        args = 'XV'\n        function = 'XV / (Vat*z_v + Vat*Vat*CB*z_vb)' \n\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = CV\n        # coupled_variables = 'XV'\n        # material_property_names =  'z_v z_vb Vat CB'\n        # expression = 'XV / (z_v + Vat*CB*z_vb)' \n    []\n\n\n    [SolvingLVV] ## \ud835\udc3f\ud835\udc49\ud835\udc49 = \ud835\udc36\ud835\udc49*\ud835\udc67v*\ud835\udc3f\ud835\udc49\ud835\udc49\ud835\udc52\ud835\udc5e(\ud835\udc63) + \ud835\udc36\ud835\udc49*\ud835\udc36\ud835\udc35*\ud835\udc67\ud835\udc63\ud835\udc4f*\ud835\udc3fVVeq(\ud835\udc63\ud835\udc35)*\u03a9 ##\n        type = ADDerivativeParsedMaterial\n        f_name = LVV\n        material_property_names = 'z_v LVV_v LVV_vb CV(XV,XB) CB(XV,XB) Vat' \n        function = 'CV*z_v*LVV_v + CV*CB*LVV_vb*Vat'\n\n        \n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LVV\n        # material_property_names =  'z_v LVV_v LVV_vb CV CB'\n        # expression = 'CV*z_v*LVV_v + CV*CB*LVV_vb'\n    []\n\n\n    [SolvingLBBV] ##  \ud835\udc3f\ud835\udc35\ud835\udc35\ud835\udc49 = \ud835\udc36\ud835\udc49*\ud835\udc36\ud835\udc35*\ud835\udc67\ud835\udc63\ud835\udc4f*\ud835\udc3f\ud835\udc35\ud835\udc35(\ud835\udc63,\ud835\udc52\ud835\udc5e)(\ud835\udc63\ud835\udc35)*\u03a9 ##\n        type =  ADDerivativeParsedMaterial\n        f_name = LBBV\n        material_property_names = 'z_vb LBB_vb CV(XV,XB) CB(XV,XB) Vat' \n        function =  'CV*CB*z_vb*LBB_vb*Vat'\n\n                \n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LBBV\n        # material_property_names = 'z_vb LBB_vb CV CB'\n        # expression =  'CV*CB*z_vb*LBB_vb'\n    []        \n\n    [SolvingLBV] ## \ud835\udc3f\ud835\udc35\ud835\udc49 = \ud835\udc36\ud835\udc49*\ud835\udc36\ud835\udc35*\ud835\udc67\ud835\udc63\ud835\udc4f*\ud835\udc3f\ud835\udc35\ud835\udc49\ud835\udc52\ud835\udc5e(vB)*\u03a9 ##\n        type =  ADDerivativeParsedMaterial\n        f_name = LBV\n        material_property_names = 'z_vb LVB_vb CV(XV,XB) CB(XV,XB) Vat'  #  CV(XV, XB) CB(XV, XB)?\n        function =  'CV*CB*z_vb*LVB_vb*Vat'\n\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LBV\n        # material_property_names = 'z_vb LVB_vb CV CB'\n        # expression =  'CV*CB*z_vb*LVB_vb'\n\n    []\n\n    [SolvingLABV] ## \ud835\udc3f\ud835\udc34\ud835\udc35\ud835\udc49 = \u2212(\ud835\udc3fB\ud835\udc49 + \ud835\udc3f\ud835\udc35\ud835\udc35\ud835\udc49) ##\n        type =  ADDerivativeParsedMaterial\n        f_name = LABV\n        material_property_names = 'LBV(XV,XB) LBBV(XV,XB)'  \n        function = '-1*(LBV + LBBV)'\n\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LABV\n        # material_property_names = 'LBV LBBV'  \n        # expression = '-1*(LBV + LBBV)'\n    []\n    \n    [SolvingLAAV] ## \ud835\udc3f\ud835\udc34\ud835\udc34\ud835\udc49 = \ud835\udc3f\ud835\udc49\ud835\udc49 \u2212 \ud835\udc3f\ud835\udc35\ud835\udc35\ud835\udc49 + 2*(\ud835\udc3f\ud835\udc49\ud835\udc35 + \ud835\udc3f\ud835\udc35\ud835\udc35\ud835\udc49)\n        type = ADDerivativeParsedMaterial\n        f_name = LAAV\n        material_property_names = 'LVV(XV,XB) LBBV(XV,XB)  LBV(XV,XB)' \n        function = 'LVV - LBBV + 2*(LBV + LBBV)'\n\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LAAV\n        # material_property_names = 'LVV LBBV  LBV'   \n        # expression = 'LVV - LBBV + 2*(LBV + LBBV)'\n\n    []\n    \n    [SolvingLAAI] ##\ud835\udc3f\ud835\udc34\ud835\udc34\ud835\udc3c = X\ud835\udc3c*\ud835\udc37\ud835\udc3c \n        type = ADDerivativeParsedMaterial  \n        f_name = LAAI\n        material_property_names = 'DI' \n        args = 'XI'\n        function = 'XI*DI'\n\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LAAI\n        # material_property_names = 'DI'  \n        # expression = 'XI*DI'\n    []\n\n\n\n    #### Calculating Material Properties that are directly input into the kernels block\n    [laav_dividekbt]  \n        type = ADDerivativeParsedMaterial  \n        f_name = LAAV_kbT\n        material_property_names = 'LAAV(XV,XB) kb T Vat' \n        function = 'Vat*LAAV/(kb*T)'\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LAAV_kbT\n        # material_property_names =  'LAAV kb T Vat'  \n        # expression = 'Vat*LAAV/(kb*T)'\n    []\n    [negativelaav_dividekbt]  \n        type = ADDerivativeParsedMaterial  \n        f_name = LAAV_kbT_neg\n        material_property_names = 'LAAV(XV,XB) kb T Vat' \n        function = '-1*Vat*LAAV/(kb*T)'\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LAAV_kbT_neg\n        # material_property_names =  'LAAV kb T Vat'  \n        # expression = '-1*Vat*LAAV/(kb*T)'\n    []\n\n    [labv_dividekbt]  \n        type = ADDerivativeParsedMaterial  \n        f_name = LABV_kbT\n        material_property_names = 'LABV(XV,XB) kb T Vat' \n        function = 'Vat*LABV/(kb*T)'\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LAAV_kbT\n        # material_property_names =  'LABV kb T Vat'  \n        # expression = 'Vat*LABV/(kb*T)'\n    []\n    [negativelabv_dividekbt]  \n        type = ADDerivativeParsedMaterial  \n        f_name = LABV_kbT_neg\n        material_property_names = 'LABV(XV,XB) kb T Vat' \n        function = '-1*Vat*LABV/(kb*T)'\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LABV_kbT_neg\n        # material_property_names =  'LABV kb T Vat'  \n        # expression = '-1*Vat*LABV/(kb*T)'\n    []\n\n    [lbbv_dividekbt]  \n        type = ADDerivativeParsedMaterial  \n        f_name = LBBV_kbT\n        material_property_names = 'LBBV(XV,XB) kb T Vat' \n        function = 'Vat*LBBV/(kb*T)'\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LBAV_kbT\n        # material_property_names =  'LBBV kb T Vat'  \n        # expression = 'Vat*LBBV/(kb*T)'\n    []\n    [negativelbbv_dividekbt]  \n        type = ADDerivativeParsedMaterial  \n        f_name = LBBV_kbT_neg\n        material_property_names = 'LBBV(XV,XB) kb T Vat' \n        function = '-1*Vat*LBBV/(kb*T)'\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LBBV_kbT_neg\n        # material_property_names =  'LBBV kb T'  \n        # expression = '-1*LBBV/(kb*T)'\n    []\n\n    [laai_dividekbt]  \n        type = ADDerivativeParsedMaterial  \n        f_name = LAAI_kbT\n        material_property_names = 'LAAI kb T Vat' \n        function = 'Vat*LAAI/(kb*T)'\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = LAAI_kbT\n        # material_property_names =  'LAAI kb T'  \n        # expression = 'LAAI/(kb*T)'\n    []\n\n    \n    [Recombination_I] # XI*KIV\n        type = ADDerivativeParsedMaterial \n        f_name = RR_I\n        args = 'XI'\n        material_property_names = 'KIV Vat'\n        function = 'XI*KIV*Vat'\n\n        \n        # written for the new ADDerivativeParsedMaterial\n        # property_name = RR_I\n        # coupled_variables = 'XI'\n        # material_property_names = 'KIV Vat'  \n        # expression = 'XI*KIV*Vat'\n    []\n\n    [Recombination_V] # XV*KIV\n        type = ADDerivativeParsedMaterial \n        f_name = RR_V\n        args = 'XV'\n        material_property_names = 'KIV Vat'\n        function = 'XV*KIV*Vat'\n\n        # written for the new ADDerivativeParsedMaterial\n        # property_name = RR_V\n        # coupled_variables = 'XV'\n        # material_property_names = 'KIV Vat'  \n        # expression = 'XV*KIV*Vat'\n    []    \n     \n[]\n\n\n[BCs]\n    [GB_XV]\n        type = ADDirichletBC\n        variable = XV\n        boundary = grain_boundary\n        value = 0\n    []\n    [GB_XI]\n        type = ADDirichletBC\n        variable = XI\n        boundary = grain_boundary\n        value = 0\n    []\n    \n    [left_xa]\n        type =  ADNeumannBC\n        variable = XA\n        boundary = left\n        value = 0\n    []\n    [left_xb]\n        type = ADNeumannBC\n        variable = XB\n        boundary = left\n        value = 0\n    []\n    [left_xi]\n        type = ADNeumannBC\n        variable = XI\n        boundary = left\n        value = 0\n    []\n    [left_xv]\n        type = ADNeumannBC\n        variable = XV\n        boundary = left\n        value = 0\n    []\n    [right_xa]\n        type = ADNeumannBC\n        variable = XA\n        boundary = right\n        value = 0\n    []\n    [right_xb]\n        type = ADNeumannBC\n        variable = XB\n        boundary = right\n        value = 0\n    []\n    [right_xi]\n        type = ADNeumannBC\n        variable = XI\n        boundary = right\n        value = 0\n    []\n    [right_xv]\n        type = ADNeumannBC\n        variable = XV\n        boundary = right\n        value = 0\n    []\n\n    [Periodic]\n        [XA_y]\n            variable = XA\n            auto_direction = 'y'\n        []\n    []\n    [Periodic]\n        [XB_y]\n            variable = XB\n            auto_direction = 'y'\n        []\n    []\n    [Periodic]\n        [XI_y]\n            variable = XI\n            auto_direction = 'y'\n        []\n    []\n    [Periodic]\n        [XV_y]\n            variable = XV\n            auto_direction = 'y'\n        []\n    []     \n[]\n\n\n\n[Executioner]\n\n  solve_type = NEWTON\n  l_max_its = 20 \n  l_tol = 1e-6 \n  nl_max_its = 15 \n  nl_rel_tol = 1e-8 \n  nl_abs_tol = 1e-8 \n  end_time = 50 \n\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = ' hypre    boomeramg'\n\n  [TimeStepper]\n    type = IterationAdaptiveDT\n    dt = 1e-9  \n    cutback_factor = 0.8 \n    growth_factor = 1.2 \n    optimal_iterations = 7\n  []\n[]\n\n[Outputs]\n    file_base = ristest_11252024\n    [./exodus]\n        type = Exodus\n    [../]\n    [./outfile]\n        type = CSV\n        time_column = true\n        show = 'XA XB XI XV'\n    [../]\n[]\n\n[Debug]\n    show_var_residual_norms = true\n[]\n\n\nAlso, as a note about why I am using old syntax. I am unable to install an up-to-date copy of MOOSE on the cluster that I have access to. Therefore, I am using an older (late 2021) install. Sorry for this inconvenience.",
          "url": "https://github.com/idaholab/moose/discussions/29148",
          "updatedAt": "2024-12-02T23:55:49Z",
          "publishedAt": "2024-11-26T19:23:11Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nyou\u2019ll want to use ADMatDiffusion for the kernel to take into account any variable dependency of the diffusion coefficient automatically.",
                  "url": "https://github.com/idaholab/moose/discussions/29148#discussioncomment-11387592",
                  "updatedAt": "2024-11-26T19:50:55Z",
                  "publishedAt": "2024-11-26T19:50:54Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "swonner"
                          },
                          "bodyText": "Hi GiudGiud, thank you for your response!\nTo follow up on this, is it okay for ADMatDiffusion to be used in the following way:\n$\\nabla$ $\\cdot$ D(u) $\\nabla$ v(u) , where\n\nD is a function of the main variable being solved in the residual (u) and D is a material property defined with ADDerivativeParsedMaterial\nv is a coupled variable, a function of the main variable, and is defined as an auxiliary variable\n\nWill this kernel be able to still take into account the variable dependencies on u in this form?",
                          "url": "https://github.com/idaholab/moose/discussions/29148#discussioncomment-11400159",
                          "updatedAt": "2024-11-27T23:50:48Z",
                          "publishedAt": "2024-11-27T23:50:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "no this wont work.\nv must be a solver variable to be able to use ADMatDiffusion\nYou ll need a create a new kernel. v should be written down in the kernel as a function of u, otherwise derivatives (to form the jacobian) will not be propagated",
                          "url": "https://github.com/idaholab/moose/discussions/29148#discussioncomment-11400174",
                          "updatedAt": "2024-11-27T23:54:58Z",
                          "publishedAt": "2024-11-27T23:54:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "swonner"
                          },
                          "bodyText": "I see, okay. Thank you! So the material property is okay? Is this because variable dependency preserved with ADDerivativeParsedMaterial?\nRegarding the variable I want to couple, its form is v = $\\mu$ = ln(X).When I browsed the existing source code, I could not find a kernel that uses a natural log. Could you please advise if there might be any existing AD kernel implementations that use natural log that I might refer to?",
                          "url": "https://github.com/idaholab/moose/discussions/29148#discussioncomment-11400240",
                          "updatedAt": "2024-11-28T00:08:26Z",
                          "publishedAt": "2024-11-28T00:08:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "So the material property is okay? Is this because variable dependency preserved with ADDerivativeParsedMaterial?\n\nbecause AD works well with material properties, keeps track of derivatives as they are computed\nIt does not through auxiliary variables\nYou can just use std::log\nhttps://cplusplus.com/reference/cmath/log/\nWe've implemented AD support for it",
                          "url": "https://github.com/idaholab/moose/discussions/29148#discussioncomment-11400261",
                          "updatedAt": "2024-11-28T00:12:07Z",
                          "publishedAt": "2024-11-28T00:12:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "swonner"
                          },
                          "bodyText": "Hi GiudGiud, Thank you for your feedback last week!\nI wrote a custom kernel for the equation type u = ln(v), and it does successfully compile. Since I am new to MOOSE though, I wanted to follow up to check that it is correct. If you get the chance, could you please check that it implement the std::log correctly? I will paste the relevant header and source files below.\nThank you again for all of your help!\nHeader\n#pragma once\n#include \"ADKernel.h\"\n\nclass ADNaturalLog : public ADKernel\n{\npublic:\n    ADNaturalLog(const InputParameters & parameters);\n    static InputParameters validParams();\nprotected:\nvirtual ADReal computeQpResidual() override;\nconst ADMaterialProperty<Real> & _T;\nconst ADMaterialProperty<Real> & _kb;\nconst ADMaterialProperty<Real> & _Xeq;\nconst ADVariableValue & _coupled_concentration;\n};\n\nSource File\n\n#include \"ADNaturalLog.h\"\nregisterMooseObject(\"RISApp\", ADNaturalLog);\nInputParameters\nADNaturalLog::validParams() \n{    \n    InputParameters params = ADKernel::validParams();\n    params.addClassDescription(\"Compute (-kb*T* ln(X), test) for A, B atoms and  * (-kb*T* ln(X/Xeq), test) for I and V defects\");\n    // Adding Kb, T, Xeq as optional parameters\n    params.addParam<MaterialPropertyName>(\"kb\", 1, \"boltzmann constant\");\n    params.addParam<MaterialPropertyName>(\"T\", 500, \"Temperature (constant)\");\n    params.addParam<MaterialPropertyName>(\"Xeq\", 1, \"Equilibrium Constant only applicable for I and V \"); \n    // Adding the coupled variables\n    params.addRequiredCoupledVar(\"coupled_concentration\", \"This is a coupled concentrations.\");\n    return params;\n}\n\n\nADNaturalLog::ADNaturalLog(const InputParameters & parameters)\n  : ADKernel(parameters),\n    _kb(getADMaterialProperty<Real>(\"kb\")),\n    _T(getADMaterialProperty<Real>(\"T\")),\n    _Xeq(getADMaterialProperty<Real>(\"Xeq\")),  \n    _coupled_concentration(adCoupledValue(\"coupled_concentration\"))         \n{\n}\nADReal \nADNaturalLog::computeQpResidual() \n{\n  // Implement the weak form equation  * (-kb*T* ln(X), test) for A, B atoms OR (-kb*T* ln(X/Xeq), test) for I and V defects\n  return _test[_i][_qp] * ( -1 * _kb[_qp] * _T[_qp] * std::log((_coupled_concentration[_qp])/_Xeq[_qp]));\n}",
                          "url": "https://github.com/idaholab/moose/discussions/29148#discussioncomment-11442119",
                          "updatedAt": "2024-12-02T23:28:41Z",
                          "publishedAt": "2024-12-02T23:28:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "looks good to me. So that the ln term and the 'u' can probaby be done with a CoupledSource/Reaction kernel",
                          "url": "https://github.com/idaholab/moose/discussions/29148#discussioncomment-11442172",
                          "updatedAt": "2024-12-02T23:39:49Z",
                          "publishedAt": "2024-12-02T23:39:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "swonner"
                          },
                          "bodyText": "Okay great! Thank you for checking!\nSo then, as you suggested with the CoupledSource/Reaction kernel, I would write something like the following to have the equation fully represented in the kernel block?\n    ### Main Variable for Residual: \ud835\udf07A ###\n    ## \ud835\udf07\ud835\udc34  - \ud835\udc58B*\ud835\udc47*\ud835\udc59\ud835\udc5b(\ud835\udc4b\ud835\udc34) = 0\n    [chemicalpotentialA] # \ud835\udf07\ud835\udc34 \n        type = ADMatReaction\n        variable = muA\n        reaction_rate = 1\n    []  \n    [naturallogXA] #- \ud835\udc58B*\ud835\udc47*\ud835\udc59\ud835\udc5b(\ud835\udc4b\ud835\udc34)\n        type = ADNaturalLog\n        variable = muA\n        coupled_concentration = XA\n        kb = kb \n        T = T\n    []",
                          "url": "https://github.com/idaholab/moose/discussions/29148#discussioncomment-11442235",
                          "updatedAt": "2024-12-02T23:55:49Z",
                          "publishedAt": "2024-12-02T23:55:49Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Constraints and Contact explanation needed",
          "author": {
            "login": "mshtx-mdacc"
          },
          "bodyText": "Howdy,\nI'm attempting to model the displacement due to gravity of a linear elastic material attached on top of non-moving \"stem\" encased in a shell that is a frictionless surface. I'm reading in a 3D tetrahedral mesh for the linear elastic material and and another mesh for the surrounding shell that is triangles. Both files were made using GMSH and I'm reading in MSH files. The shell is only there as a constraint and will not displace or deform. There is one section of the shell that is \"open\" to allow for outward movement in that area, but that is a later problem. There's also no need for thermal properties currently.\nI'm read over the constraints source documentation as well as the Contact module and I'm having trouble understanding how to implement my problem. I was hoping someone could point me in the right direction. My input file and error results are below:\nI apologize for my lack of understanding.\nCheers,\nMSH\n[GlobalParams]\n  displacements = 'disp_x disp_y disp_z'\n  volumetric_locking_correction = true\n  # uniform_refine = 1\n[]\n\n[Mesh]\n  construct_side_list_from_node_list = true\n  [dura]\n    type = FileMeshGenerator\n    file = 'cranDura.msh'\n    show_info = true\n  []\n  [duraBoundRename]\n    type = RenameBoundaryGenerator\n    input = dura\n    old_boundary = '1 2'\n    new_boundary = 'DuraBoundary CranBoundary'\n  []\n  [whole]\n    type = FileMeshGenerator\n    file = 'occMesh.msh'\n    show_info = true\n  []\n  [wholeBoundRename]\n    type = RenameBoundaryGenerator\n    input = whole\n    old_boundary = '3 4 5'\n    new_boundary = 'PialBoundary BSBoundary TumorBoundary'\n  []\n  [combinedMesh]\n    type = CombinerGenerator\n    inputs = 'duraBoundRename wholeBoundRename'\n  []\n  [scaled]\n    type = TransformGenerator\n    input = combinedMesh\n    transform = SCALE\n    vector_value = '1.0e-3 1.0e-3 1.0e-3'\n  []\n  [diag]\n    type = MeshDiagnosticsGenerator\n    input = scaled\n    examine_element_overlap = WARNING\n    examine_element_types = WARNING\n    examine_element_volumes = WARNING\n    examine_non_conformality = WARNING\n    # examine_nonplanar_sides = INFO\n    # examine_sidesets_orientation = WARNING\n    # check_for_watertight_sidesets = WARNING\n    search_for_adaptivity_nonconformality = WARNING\n    check_local_jacobian = WARNING\n  []\n  patch_update_strategy = iteration\n[]\n\n[Kernels]\n  [gravity]\n    type = Gravity\n    value = -9.81\n    variable = disp_z\n  []\n[]\n\n[Physics/SolidMechanics/QuasiStatic]\n  [all]\n    strain = FINITE\n    add_variables = true\n    generate_output = 'stress_xx stress_yy stress_zz stress_xy stress_xz stress_yz'\n    # use_automatic_differentiation = true\n    block = 'pial tumor brainstem'\n  []\n[]\n\n[BCs]\n  [fixedBS_x]\n    type = DirichletBC\n    preset = false\n    variable = disp_x\n    boundary = BSBoundary\n    value = 0\n  []\n  [fixedBS_y]\n    type = DirichletBC\n    preset = false\n    variable = disp_y\n    boundary = BSBoundary\n    value = 0\n  []\n  [fixedBS_z]\n    type = DirichletBC\n    preset = false\n    variable = disp_z\n    boundary = BSBoundary\n    value = 0\n  []\n  [fixedDura_x]\n    type = DirichletBC\n    preset = false\n    variable = disp_x\n    boundary = DuraBoundary\n    value = 0\n  []\n  [fixedDura_y]\n    type = DirichletBC\n    preset = false\n    variable = disp_y\n    boundary = DuraBoundary\n    value = 0\n  []\n  [fixedDura_z]\n    type = DirichletBC\n    preset = false\n    variable = disp_z\n    boundary = DuraBoundary\n    value = 0\n  []\n[]\n\n[Materials]\n  [elasticityBrain]\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 210000.0\n    poissons_ratio = 0.45\n    block = 'pial brainstem'\n  []\n  [elasticityTumor]\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 210000.0\n    poissons_ratio = 0.45\n    block = 'tumor'\n  []\n  [stress]\n    type = ComputeFiniteStrainElasticStress\n    block = 'pial tumor brainstem'\n  []\n  [density]\n    type = GenericConstantMaterial\n    prop_names = density\n    prop_values = 1000.0\n  []\n[]\n\n[Contact]\n  [duraPial]\n    primary = 'PialBoundary'\n    secondary = 'DuraBoundary'\n    model = frictionless\n    formulation = penalty\n    penalty = 2e5\n    normalize_penalty = true\n    # normal_smoothing_distance = 0.01\n  []\n[]\n\n\n[Executioner]\n  type = Transient\n  solve_type = 'NEWTON'\n  # line_search = none\n  automatic_scaling = True\n  petsc_options_iname = '-pc_type'\n  petsc_options_value = 'lu'\n  end_time = 2.0\n  dt = 1\n  steady_state_detection = true\n  steady_state_tolerance = 1e-04\n  l_tol = 1e-04 #1e-05 is default\n  # l_abs_tol = 1e-18 # 1e-50 is default\n  [Predictor]\n    type = SimplePredictor\n    scale = 1\n  []\n[]\n\n[Outputs]\n  exodus = true\n[]\n\n*** Info ***\nSolidMechanics Action: selecting 'incremental finite strain' formulation.\nFileMeshGenerator 'dura':  Mesh Information:\nFileMeshGenerator 'dura':   elem_dimensions()={2}\nFileMeshGenerator 'dura':   spatial_dimension()=3\nFileMeshGenerator 'dura':   n_nodes()=1904\nFileMeshGenerator 'dura':     n_local_nodes()=1904\nFileMeshGenerator 'dura':   n_elem()=3804\nFileMeshGenerator 'dura':     n_local_elem()=3804\nFileMeshGenerator 'dura':     n_active_elem()=3804\nFileMeshGenerator 'dura':   n_subdomains()=2\nFileMeshGenerator 'dura':   n_elemsets()=0\nFileMeshGenerator 'dura':   n_partitions()=1\nFileMeshGenerator 'dura':   n_processors()=1\nFileMeshGenerator 'dura':   n_threads()=20\nFileMeshGenerator 'dura':   processor_id()=0\nFileMeshGenerator 'dura':   is_prepared()=true\nFileMeshGenerator 'dura':   is_replicated()=true\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Bounding Box:\nFileMeshGenerator 'dura':   Minimum: (x,y,z)=(-84.0226, -65.7844, -94.3662)\nFileMeshGenerator 'dura':   Maximum: (x,y,z)=( 79.5143,  62.8207,   36.612)\nFileMeshGenerator 'dura':   Delta:   (x,y,z)=( 163.537,  128.605,  130.978)\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Element Type(s):\nFileMeshGenerator 'dura':   TRI3\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Nodesets:\nFileMeshGenerator 'dura':   Nodeset 1, 1582 nodes\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=(-84.0226, -65.7844, -94.3662)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=( 79.5143,  62.8207,   36.612)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 163.537,  128.605,  130.978)\nFileMeshGenerator 'dura':   Nodeset 2, 243 nodes\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=( -44.929, -60.4617,   -40.44)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=(-25.2524, -54.2443,  -20.907)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 19.6766,  6.21745,   19.533)\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Sidesets:\nFileMeshGenerator 'dura':   Sideset 1, 7232 sides (EDGE2), 3150 elems (TRI3), 1582 nodes\nFileMeshGenerator 'dura':    Side volume: 51064\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=(-84.0226, -65.7844, -94.3662)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=( 79.5143,  62.8207,   36.612)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 163.537,  128.605,  130.978)\nFileMeshGenerator 'dura':   Sideset 2, 856 sides (EDGE2), 468 elems (TRI3), 243 nodes\nFileMeshGenerator 'dura':    Side volume: 1178.86\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=( -44.929, -60.4617,   -40.44)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=(-25.2524, -54.2443,  -20.907)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 19.6766,  6.21745,   19.533)\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Edgesets:\nFileMeshGenerator 'dura':   None\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Subdomains:\nFileMeshGenerator 'dura':   Subdomain 1 (duraSurf): 3262 elems (TRI3, 3262 active), 1654 active nodes\nFileMeshGenerator 'dura':    Volume: 61651.4\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=(-84.0226, -65.7844, -94.3662)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=( 79.5143,  62.8207,   36.612)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 163.537,  128.605,  130.978)\nFileMeshGenerator 'dura':   Subdomain 2 (cranSurf): 542 elems (TRI3, 542 active), 294 active nodes\nFileMeshGenerator 'dura':    Volume: 312.892\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=( -44.929, -60.4617,   -40.44)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=(-25.2524, -54.2443,  -20.907)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 19.6766,  6.21745,   19.533)\nFileMeshGenerator 'dura':   Global mesh volume = 61964.3\nFileMeshGenerator 'whole':  Mesh Information:\nFileMeshGenerator 'whole':   elem_dimensions()={3}\nFileMeshGenerator 'whole':   spatial_dimension()=3\nFileMeshGenerator 'whole':   n_nodes()=8269\nFileMeshGenerator 'whole':     n_local_nodes()=8269\nFileMeshGenerator 'whole':   n_elem()=41943\nFileMeshGenerator 'whole':     n_local_elem()=41943\nFileMeshGenerator 'whole':     n_active_elem()=41943\nFileMeshGenerator 'whole':   n_subdomains()=3\nFileMeshGenerator 'whole':   n_elemsets()=0\nFileMeshGenerator 'whole':   n_partitions()=1\nFileMeshGenerator 'whole':   n_processors()=1\nFileMeshGenerator 'whole':   n_threads()=20\nFileMeshGenerator 'whole':   processor_id()=0\nFileMeshGenerator 'whole':   is_prepared()=true\nFileMeshGenerator 'whole':   is_replicated()=true\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Bounding Box:\nFileMeshGenerator 'whole':   Minimum: (x,y,z)=(-81.7544, -64.2067, -93.5764)\nFileMeshGenerator 'whole':   Maximum: (x,y,z)=( 77.8743,  60.2982,  34.8699)\nFileMeshGenerator 'whole':   Delta:   (x,y,z)=( 159.629,  124.505,  128.446)\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Element Type(s):\nFileMeshGenerator 'whole':   TET4\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Nodesets:\nFileMeshGenerator 'whole':   Nodeset 3, 1907 nodes\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-81.7544, -64.2067, -93.5764)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 77.8743,  60.2982,  34.8699)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 159.629,  124.505,  128.446)\nFileMeshGenerator 'whole':   Nodeset 4, 168 nodes\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-8.54777, -18.4029, -93.2513)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 18.0482,  14.0718, -36.3033)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=(  26.596,  32.4747,   56.948)\nFileMeshGenerator 'whole':   Nodeset 5, 1156 nodes\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-50.0139, -44.1489, -47.6101)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=(-19.2785, -10.5483, -23.1809)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 30.7354,  33.6006,  24.4292)\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Sidesets:\nFileMeshGenerator 'whole':   Sideset 3, 3799 sides (TRI3), 3799 elems (TET4), 1907 nodes\nFileMeshGenerator 'whole':    Side volume: 58627.2\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-81.7544, -64.2067, -93.5764)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 77.8743,  60.2982,  34.8699)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 159.629,  124.505,  128.446)\nFileMeshGenerator 'whole':   Sideset 4, 639 sides (TRI3), 636 elems (TET4), 168 nodes\nFileMeshGenerator 'whole':    Side volume: 7176.75\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-8.54777, -18.4029, -93.2513)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 18.0482,  14.0718, -36.3033)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=(  26.596,  32.4747,   56.948)\nFileMeshGenerator 'whole':   Sideset 5, 4616 sides (TRI3), 4616 elems (TET4), 1156 nodes\nFileMeshGenerator 'whole':    Side volume: 5310.18\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-50.0139, -44.1489, -47.6101)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=(-19.2785, -10.5483, -23.1809)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 30.7354,  33.6006,  24.4292)\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Edgesets:\nFileMeshGenerator 'whole':   None\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Subdomains:\nFileMeshGenerator 'whole':   Subdomain 3 (pial): 34892 elems (TET4, 34892 active), 7635 active nodes\nFileMeshGenerator 'whole':    Volume: 1.15877e+06\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-81.7544, -64.2067, -93.5764)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 77.8743,  60.2982,  34.8699)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 159.629,  124.505,  128.446)\nFileMeshGenerator 'whole':   Subdomain 4 (brainstem): 538 elems (TET4, 538 active), 201 active nodes\nFileMeshGenerator 'whole':    Volume: 15008.8\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-8.54777, -18.4029, -93.2513)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 18.0482,  14.0718, -36.3033)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=(  26.596,  32.4747,   56.948)\nFileMeshGenerator 'whole':   Subdomain 5 (tumor): 6513 elems (TET4, 6513 active), 1750 active nodes\nFileMeshGenerator 'whole':    Volume: 11387.5\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-50.0139, -44.1489, -47.6101)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=(-19.2785, -10.5483, -23.1809)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 30.7354,  33.6006,  24.4292)\nFileMeshGenerator 'whole':   Global mesh volume = 1.18517e+06\n\n\n*** Info ***\nNumber of elements below prescribed minimum volume : 0\n\n\n*** Info ***\nNumber of elements with negative volume : 0\n\n\n*** Info ***\nNumber of elements above prescribed maximum volume : 0\nElement type in subdomain duraSurf (1) : TRI3\nElement type in subdomain cranSurf (2) : TRI3\nElement type in subdomain pial (3) : TET4\nElement type in subdomain brainstem (4) : TET4\nElement type in subdomain tumor (5) : TET4\nElement overlap detected at :   Node id()=3687, processor_id()=0, Point=(x,y,z)=(0.0154507, -0.00702446, -0.0935352)\n    DoFs=\n\nElement overlap detected at :   Node id()=3737, processor_id()=0, Point=(x,y,z)=(0.0154763, -0.00731964, -0.0934313)\n    DoFs=\n\nElement overlap detected at :   Node id()=4218, processor_id()=0, Point=(x,y,z)=(0.0163035, -0.00716439, -0.0933583)\n    DoFs=\n\nElement overlap detected at :   Node id()=4221, processor_id()=0, Point=(x,y,z)=(-0.0419385, -0.0319768, -0.0474792)\n    DoFs=\n\nElement overlap detected at :   Node id()=4335, processor_id()=0, Point=(x,y,z)=(-0.0463072, -0.0223911, -0.0472151)\n    DoFs=\n\nElement overlap detected at :   Node id()=4461, processor_id()=0, Point=(x,y,z)=(0.0119511, -0.0378783, -0.0590096)\n    DoFs=\n\nElement overlap detected at :   Node id()=5313, processor_id()=0, Point=(x,y,z)=(-0.0392629, -0.0252479, -0.0491522)\n    DoFs=\n\nElement overlap detected at :   Node id()=5316, processor_id()=0, Point=(x,y,z)=(-0.0469305, -0.0205409, -0.0473713)\n    DoFs=\n\nElement overlap detected at :   Node id()=5338, processor_id()=0, Point=(x,y,z)=(0.0156101, -0.00683169, -0.0935764)\n    DoFs=\n\nMaximum output reached, log is silenced\n\n\n*** Warning ***\n/projects/brain_shift/problems/brainshift.i:41.3:\nThe following warning occurred in the MeshGenerator 'diag' of type MeshDiagnosticsGenerator.\n\nNumber of elements overlapping (node-based heuristics): 75\nElement overlap detected with element : 545 near point (x,y,z)=(0.015999, -0.00673049, -0.0935516)\nElement overlap detected with element : 585 near point (x,y,z)=(0.0254182, 0.0250946, -0.0927013)\nElement overlap detected with element : 741 near point (x,y,z)=(0.0215615, -0.0381008, -0.0792992)\nElement overlap detected with element : 839 near point (x,y,z)=(0.00435568, 0.0420025, -0.07475)\nElement overlap detected with element : 1037 near point (x,y,z)=(-0.00623083, 0.0172514, -0.0661587)\nElement overlap detected with element : 1707 near point (x,y,z)=(-0.0405893, -0.0298933, -0.0485796)\nElement overlap detected with element : 1712 near point (x,y,z)=(-0.0411144, -0.0254104, -0.048033)\nElement overlap detected with element : 1713 near point (x,y,z)=(-0.0385833, -0.0265844, -0.0497375)\nElement overlap detected with element : 1714 near point (x,y,z)=(-0.0404277, -0.0278381, -0.0487592)\nMaximum output reached, log is silenced\n\n\n*** Warning ***\n/projects/brain_shift/problems/brainshift.i:41.3:\nThe following warning occurred in the MeshGenerator 'diag' of type MeshDiagnosticsGenerator.\n\nNumber of elements overlapping (centroid-based heuristics): 14\nNon-conformality detected at  :   Node id()=386, processor_id()=0, Point=(x,y,z)=(0.00410082,  0.03949, -0.0766449)\n    DoFs=\n\nNon-conformality detected at  :   Node id()=386, processor_id()=0, Point=(x,y,z)=(0.00410082,  0.03949, -0.0766449)\n    DoFs=\n\nNon-conformality detected at  :   Node id()=423, processor_id()=0, Point=(x,y,z)=(0.0238497, -0.0394382, -0.078978)\n    DoFs=\n\nNon-conformality detected at  :   Node id()=423, processor_id()=0, Point=(x,y,z)=(0.0238497, -0.0394382, -0.078978)\n    DoFs=\n\nNon-conformality detected at  :   Node id()=423, processor_id()=0, Point=(x,y,z)=(0.0238497, -0.0394382, -0.078978)\n    DoFs=\n\nNon-conformality detected at  :   Node id()=931, processor_id()=0, Point=(x,y,z)=(-0.0400146, -0.0261689, -0.0488047)\n    DoFs=\n\nNon-conformality detected at  :   Node id()=932, processor_id()=0, Point=(x,y,z)=(-0.0401632, -0.0225636, -0.0482625)\n    DoFs=\n\nNon-conformality detected at  :   Node id()=932, processor_id()=0, Point=(x,y,z)=(-0.0401632, -0.0225636, -0.0482625)\n    DoFs=\n\nNon-conformality detected at  :   Node id()=932, processor_id()=0, Point=(x,y,z)=(-0.0401632, -0.0225636, -0.0482625)\n    DoFs=\n\nMaximum output reached, log is silenced\n\n\n*** Warning ***\n/projects/brain_shift/problems/brainshift.i:41.3:\nThe following warning occurred in the MeshGenerator 'diag' of type MeshDiagnosticsGenerator.\n\nNumber of non-conformal nodes: 189\n\n\n*** Info ***\nNumber of non-conformal nodes likely due to mesh refinement detected by heuristic: 0\n\n\n*** Info ***\nNumber of elements with a negative Jacobian: 0\n\n\n*** Info ***\nNumber of element sides with negative Jacobians: 0\nCurrently Setting Up\n  Initializing\n    Finished Initializing Equation Systems                                               [  2.15 s] [  676 MB]\n  Finished Initializing                                                                  [  2.39 s] [  678 MB]\nFinished Setting Up                                                                      [  6.95 s] [  678 MB]\nFramework Information:\nMOOSE Version:           git commit e1a48104b91 on 2024-10-30\nLibMesh Version:         5483644b60cc538a4b54d312f28835bd94107627\nPETSc Version:           3.21.5\nSLEPc Version:           3.21.1\nCurrent Time:            Wed Nov 13 13:40:08 2024\nExecutable Timestamp:    Wed Nov  6 16:49:09 2024\n\nCheckpoint:\n  Wall Time Interval:      Every 3600 s\n  User Checkpoint:         Disabled\n  # Checkpoints Kept:      2\n  Execute On:              TIMESTEP_END \n\nParallelism:\n  Num Processors:          1\n  Num Threads:             20\n\nMesh: \n  Parallel Type:           replicated\n  Mesh Dimension:          3\n  Spatial Dimension:       3\n  Nodes:                   10173\n  Elems:                   45747\n  Num Subdomains:          5\n\nNonlinear System:\n  Num DOFs:                30519\n  Num Local DOFs:          30519\n  Variables:               { \"disp_x\" \"disp_y\" \"disp_z\" } \n  Finite Element Types:    \"LAGRANGE\" \n  Approximation Orders:    \"FIRST\" \n\nAuxiliary System:\n  Num DOFs:                305001\n  Num Local DOFs:          305001\n  Variables:               { \"stress_xx\" \"stress_yy\" \"stress_zz\" \"stress_xy\" \"stress_xz\" \"stress_yz\" \n                             } { \"penetration\" \"contact_pressure\" \"nodal_area\" } \n  Finite Element Types:    \"MONOMIAL\" \"LAGRANGE\" \n  Approximation Orders:    \"CONSTANT\" \"FIRST\" \n\nExecution Information:\n  Executioner:             Transient\n  TimeStepper:             ConstantDT\n  TimeIntegrator(s):       ImplicitEuler\n  Solver Mode:             NEWTON\n  PETSc Preconditioner:    lu \n  MOOSE Preconditioner:    SMP (auto)\n\nCurrently Executing\n  Performing Initial Setup\n    Setting Up Materials\n      Finished Computing Initial Material Values                                         [  0.19 s] [  846 MB]\n    Finished Setting Up Materials                                                        [  0.20 s] [  846 MB]\n    Finished Reinitializing Because of Geometric Search Objects                          [  6.91 s] [  982 MB]\n  Finished Performing Initial Setup                                                      [  9.36 s] [  983 MB]\n\nTime Step 0, time = 0\n\nTime Step 1, time = 1, dt = 1\n\n    Rebuilding Geometric Search Patches\n      Finished Reinitializing Because of Geometric Search Objects                        [  6.79 s] [  993 MB]\n    Finished Rebuilding Geometric Search Patches                                         [  6.82 s] [  993 MB]\n Skipping predictor this step\n\nPerforming automatic scaling calculation\n\n 0 Nonlinear |R| = 3.121542e-05\n    Computing Jacobian.....................................                              [199.28 s] [ 1017 MB]\n[0]PETSC ERROR: --------------------- Error Message --------------------------------------------------------------\n[0]PETSC ERROR: Object is in wrong state\n[0]PETSC ERROR: Matrix is missing diagonal entry 0\n[0]PETSC ERROR: WARNING! There are unused option(s) set! Could be the program crashed before usage or a spelling mistake, etc!\n[0]PETSC ERROR:   Option left: name:--n-threads=20 (no value) source: command line\n[0]PETSC ERROR:   Option left: name:-i value: brainshift.i source: command line\n[0]PETSC ERROR:   Option left: name:-ksp_converged_reason value: ::failed source: code\n[0]PETSC ERROR:   Option left: name:-snes_converged_reason value: ::failed source: code\n[0]PETSC ERROR: See https://petsc.org/release/faq/ for trouble shooting.\n[0]PETSC ERROR: Petsc Release Version 3.21.5, unknown \n[0]PETSC ERROR: ../brain_shift-opt on a  named 39bbf6a0da85 by root Wed Nov 13 13:40:01 2024\n[0]PETSC ERROR: Configure options --with-64-bit-indices --with-cxx-dialect=C++17 --with-debugging=no --with-fortran-bindings=0 --with-mpi=1 --with-openmp=1 --with-strict-petscerrorcode=1 --with-shared-libraries=1 --with-sowing=0 --download-fblaslapack=1 --download-hpddm=1 --download-hypre=1 --download-metis=1 --download-mumps=1 --download-ptscotch=1 --download-parmetis=1 --download-scalapack=1 --download-slepc=1 --download-strumpack=1 --download-superlu_dist=1 --download-hdf5=1 --with-hdf5-fortran-bindings=0 --download-hdf5-configure-arguments=\"--with-zlib\" --with-make-np=16 --prefix=/opt/petsc\n[0]PETSC ERROR: #1 MatLUFactorSymbolic_SeqAIJ() at /root/build/petsc/src/mat/impls/aij/seq/aijfact.c:309\n[0]PETSC ERROR: #2 MatLUFactorSymbolic() at /root/build/petsc/src/mat/interface/matrix.c:3200\n[0]PETSC ERROR: #3 PCSetUp_LU() at /root/build/petsc/src/ksp/pc/impls/factor/lu/lu.c:87\n[0]PETSC ERROR: #4 PCSetUp() at /root/build/petsc/src/ksp/pc/interface/precon.c:1079\n[0]PETSC ERROR: #5 KSPSetUp() at /root/build/petsc/src/ksp/ksp/interface/itfunc.c:415\n[0]PETSC ERROR: #6 KSPSolve_Private() at /root/build/petsc/src/ksp/ksp/interface/itfunc.c:831\n[0]PETSC ERROR: #7 KSPSolve() at /root/build/petsc/src/ksp/ksp/interface/itfunc.c:1078\n[0]PETSC ERROR: #8 SNESSolve_NEWTONLS() at /root/build/petsc/src/snes/impls/ls/ls.c:221\n[0]PETSC ERROR: #9 SNESSolve() at /root/build/petsc/src/snes/interface/snes.c:4753\nlibMesh terminating:\nMatrix is missing diagonal entry 0\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1\n:\nsystem msg for write_line failure : Bad file descriptor",
          "url": "https://github.com/idaholab/moose/discussions/29062",
          "updatedAt": "2024-12-02T21:32:00Z",
          "publishedAt": "2024-11-13T13:45:32Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI can understand these two for a contact problem\nNumber of elements overlapping (node-based heuristics): 75\nNumber of non-conformal nodes: 189\n\nbut that one seems excessive\nNumber of elements overlapping (centroid-based heuristics): 14\n\nsome elements have their centroid inside another element.\nAre you sure the mesh is well formed?",
                  "url": "https://github.com/idaholab/moose/discussions/29062#discussioncomment-11241010",
                  "updatedAt": "2024-11-13T14:31:40Z",
                  "publishedAt": "2024-11-13T14:31:27Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "mshtx-mdacc"
                          },
                          "bodyText": "The problem comes when I try to combine the two meshes. I only want to use the Dura surface mesh as a boundary to restrict the movement of the 3D mesh. Unfortunately the surfaces of the pial (surface of the 3D Mesh) and the dura (Surface only mesh) will sometimes overlap. I've tried to combine the 2 in GMSH but ran into problems. I thought I could combine the two in MOOSE.",
                          "url": "https://github.com/idaholab/moose/discussions/29062#discussioncomment-11241236",
                          "updatedAt": "2024-11-13T14:42:45Z",
                          "publishedAt": "2024-11-13T14:42:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Maybe shrink or move one using the TransformGenerator before combining?\nMOOSE will let you combine any two mesh with zero checks but that does not mean it can perform a simulation with overlapping meshes",
                          "url": "https://github.com/idaholab/moose/discussions/29062#discussioncomment-11241441",
                          "updatedAt": "2024-11-13T14:50:06Z",
                          "publishedAt": "2024-11-13T14:50:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lynnmunday"
                          },
                          "bodyText": "There is an embedded constraint for rebar in concrete.  That might work for tying the brain to the skull.  It requires the rebar to be embedded completely in the concrete in order to apply the nodal constraint.\nhttps://mooseframework.inl.gov/source/constraints/EqualValueEmbeddedConstraint.html",
                          "url": "https://github.com/idaholab/moose/discussions/29062#discussioncomment-11242538",
                          "updatedAt": "2024-11-13T16:10:46Z",
                          "publishedAt": "2024-11-13T16:10:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mshtx-mdacc"
                          },
                          "bodyText": "I've been able to dilate the dura mesh in GMSH so that it no longer has any overlap.  I'm getting the same error as before. I'm sure I don't have this setup right. I've changed the tag numbers for edge, surface, and volume to be unique. I've also changed the Young's modulus to be more realistic, but I don't think that would matter.\nDo I need the dura boundary to be fixed?\nDo the dura and cran boundaries actually need any physics or material properties on them?\nSorry for all of the questions, my background is in low frequency EM and my meshes don't usually move.  I've posted the input file and results below:\ninput:\n[GlobalParams]\n  displacements = 'disp_x disp_y disp_z'\n  volumetric_locking_correction = true\n  # uniform_refine = 1\n  # block = 'pial tumor brainstem'\n[]\n\n[Mesh]\n  # construct_side_list_from_node_list = true\n  [dura]\n    type = FileMeshGenerator\n    file = 'cranDura.msh'\n    show_info = true\n  []\n  [duraBoundRename]\n    type = RenameBoundaryGenerator\n    input = dura\n    old_boundary = '1001 1002'\n    new_boundary = 'DuraBoundary CranBoundary'\n  []\n  [whole]\n    type = FileMeshGenerator\n    file = 'occMesh.msh'\n    show_info = true\n  []\n  [wholeBoundRename]\n    type = RenameBoundaryGenerator\n    input = whole\n    old_boundary = '1003 1004 1005'\n    new_boundary = 'PialBoundary BSBoundary TumorBoundary'\n  []\n  [combinedMesh]\n    type = CombinerGenerator\n    inputs = 'duraBoundRename wholeBoundRename'\n  []\n  [scaled]\n    type = TransformGenerator\n    input = combinedMesh\n    transform = SCALE\n    vector_value = '1.0e-3 1.0e-3 1.0e-3'\n  []\n  [diag]\n    type = MeshDiagnosticsGenerator\n    input = scaled\n    examine_element_overlap = WARNING\n    examine_element_types = WARNING\n    examine_element_volumes = WARNING\n    examine_non_conformality = WARNING\n    # examine_nonplanar_sides = INFO\n    # examine_sidesets_orientation = WARNING\n    # check_for_watertight_sidesets = WARNING\n    search_for_adaptivity_nonconformality = WARNING\n    check_local_jacobian = WARNING\n  []\n  patch_update_strategy = iteration\n[]\n\n[Kernels]\n  [gravity]\n    type = Gravity\n    value = -9.81\n    variable = disp_z\n  []\n[]\n\n[Physics/SolidMechanics/QuasiStatic]\n  [all]\n    strain = FINITE\n    add_variables = true\n    generate_output = 'stress_xx stress_yy stress_zz stress_xy stress_xz stress_yz'\n    # use_automatic_differentiation = true\n    block = 'pial tumor brainstem'\n  []\n[]\n\n[BCs]\n  [fixedBS_x]\n    type = DirichletBC\n    preset = false\n    variable = disp_x\n    boundary = BSBoundary\n    value = 0\n  []\n  [fixedBS_y]\n    type = DirichletBC\n    preset = false\n    variable = disp_y\n    boundary = BSBoundary\n    value = 0\n  []\n  [fixedBS_z]\n    type = DirichletBC\n    preset = false\n    variable = disp_z\n    boundary = BSBoundary\n    value = 0\n  []\n  [fixedDura_x]\n    type = DirichletBC\n    preset = false\n    variable = disp_x\n    boundary = DuraBoundary\n    value = 0\n  []\n  [fixedDura_y]\n    type = DirichletBC\n    preset = false\n    variable = disp_y\n    boundary = DuraBoundary\n    value = 0\n  []\n  [fixedDura_z]\n    type = DirichletBC\n    preset = false\n    variable = disp_z\n    boundary = DuraBoundary\n    value = 0\n  []\n[]\n\n[Materials]\n  [elasticityBrain]\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 2100.0\n    poissons_ratio = 0.45\n    block = 'pial brainstem'\n  []\n  [elasticityTumor]\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 100000.0\n    poissons_ratio = 0.45\n    block = 'tumor'\n  []\n  [stress]\n    type = ComputeFiniteStrainElasticStress\n    block = 'pial tumor brainstem'\n  []\n  [density]\n    type = GenericConstantMaterial\n    prop_names = density\n    prop_values = 1000.0\n  []\n[]\n\n[Contact]\n  [duraPial]\n    primary = 'PialBoundary'\n    secondary = 'DuraBoundary'\n    model = frictionless\n    formulation = penalty\n    penalty = 2e3\n    normalize_penalty = true\n    # normal_smoothing_distance = 0.01\n  []\n[]\n\n\n[Executioner]\n  type = Transient\n  solve_type = 'NEWTON'\n  line_search = none\n  automatic_scaling = True\n  petsc_options_iname = '-pc_type'\n  petsc_options_value = 'lu'\n  end_time = 2.0\n  dt = 1\n  steady_state_detection = true\n  steady_state_tolerance = 1e-04\n  l_tol = 1e-04 #1e-05 is default\n  # l_abs_tol = 1e-18 # 1e-50 is default\n  [Predictor]\n    type = SimplePredictor\n    scale = 1\n  []\n[]\n\n[Outputs]\n  exodus = true\n[]\n\nResults:\n*** Info ***\nSolidMechanics Action: selecting 'incremental finite strain' formulation.\nFileMeshGenerator 'dura':  Mesh Information:\nFileMeshGenerator 'dura':   elem_dimensions()={2}\nFileMeshGenerator 'dura':   spatial_dimension()=3\nFileMeshGenerator 'dura':   n_nodes()=4746\nFileMeshGenerator 'dura':     n_local_nodes()=4746\nFileMeshGenerator 'dura':   n_elem()=9488\nFileMeshGenerator 'dura':     n_local_elem()=9488\nFileMeshGenerator 'dura':     n_active_elem()=9488\nFileMeshGenerator 'dura':   n_subdomains()=2\nFileMeshGenerator 'dura':   n_elemsets()=0\nFileMeshGenerator 'dura':   n_partitions()=1\nFileMeshGenerator 'dura':   n_processors()=1\nFileMeshGenerator 'dura':   n_threads()=20\nFileMeshGenerator 'dura':   processor_id()=0\nFileMeshGenerator 'dura':   is_prepared()=true\nFileMeshGenerator 'dura':   is_replicated()=true\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Bounding Box:\nFileMeshGenerator 'dura':   Minimum: (x,y,z)=(-84.3797, -66.4979, -95.4167)\nFileMeshGenerator 'dura':   Maximum: (x,y,z)=( 81.3309,  63.0385,   35.259)\nFileMeshGenerator 'dura':   Delta:   (x,y,z)=( 165.711,  129.536,  130.676)\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Element Type(s):\nFileMeshGenerator 'dura':   TRI3\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Nodesets:\nFileMeshGenerator 'dura':   Nodeset 1001, 4345 nodes\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=(-84.3797, -66.4979, -95.4167)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=( 81.3309,  63.0385,   35.259)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 165.711,  129.536,  130.676)\nFileMeshGenerator 'dura':   Nodeset 1002, 422 nodes\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=(-42.0643, -59.9799, -43.3222)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=(-22.4669, -52.4347, -23.8568)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 19.5974,  7.54517,  19.4654)\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Sidesets:\nFileMeshGenerator 'dura':   Sideset 1001 (duraEdge), 25476 sides (EDGE2), 8694 elems (TRI3), 4345 nodes\nFileMeshGenerator 'dura':    Side volume: 105197\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=(-84.3797, -66.4979, -95.4167)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=( 81.3309,  63.0385,   35.259)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 165.711,  129.536,  130.676)\nFileMeshGenerator 'dura':   Sideset 1002 (cranEdge), 1740 sides (EDGE2), 776 elems (TRI3), 422 nodes\nFileMeshGenerator 'dura':    Side volume: 1884.95\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=(-42.0643, -59.9799, -43.3222)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=(-22.4669, -52.4347, -23.8568)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 19.5974,  7.54517,  19.4654)\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Edgesets:\nFileMeshGenerator 'dura':   None\nFileMeshGenerator 'dura': \nFileMeshGenerator 'dura':  Mesh Subdomains:\nFileMeshGenerator 'dura':   Subdomain 101 (duraSurf): 8687 elems (TRI3, 8687 active), 4382 active nodes\nFileMeshGenerator 'dura':    Volume: 62531.2\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=(-84.3797, -66.4979, -95.4167)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=( 81.3309,  63.0385,   35.259)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 165.711,  129.536,  130.676)\nFileMeshGenerator 'dura':   Subdomain 102 (cranSurf): 801 elems (TRI3, 801 active), 439 active nodes\nFileMeshGenerator 'dura':    Volume: 315.733\nFileMeshGenerator 'dura':    Bounding box minimum: (x,y,z)=(-42.0643, -59.9799, -43.3222)\nFileMeshGenerator 'dura':    Bounding box maximum: (x,y,z)=(-22.4669, -52.4347, -23.8568)\nFileMeshGenerator 'dura':    Bounding box delta: (x,y,z)=( 19.5974,  7.54517,  19.4654)\nFileMeshGenerator 'dura':   Global mesh volume = 62846.9\nFileMeshGenerator 'whole':  Mesh Information:\nFileMeshGenerator 'whole':   elem_dimensions()={3}\nFileMeshGenerator 'whole':   spatial_dimension()=3\nFileMeshGenerator 'whole':   n_nodes()=8386\nFileMeshGenerator 'whole':     n_local_nodes()=8386\nFileMeshGenerator 'whole':   n_elem()=42774\nFileMeshGenerator 'whole':     n_local_elem()=42774\nFileMeshGenerator 'whole':     n_active_elem()=42774\nFileMeshGenerator 'whole':   n_subdomains()=3\nFileMeshGenerator 'whole':   n_elemsets()=0\nFileMeshGenerator 'whole':   n_partitions()=1\nFileMeshGenerator 'whole':   n_processors()=1\nFileMeshGenerator 'whole':   n_threads()=20\nFileMeshGenerator 'whole':   processor_id()=0\nFileMeshGenerator 'whole':   is_prepared()=true\nFileMeshGenerator 'whole':   is_replicated()=true\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Bounding Box:\nFileMeshGenerator 'whole':   Minimum: (x,y,z)=(-81.6497, -64.1349, -93.4483)\nFileMeshGenerator 'whole':   Maximum: (x,y,z)=( 78.3783,  60.5591,  33.4434)\nFileMeshGenerator 'whole':   Delta:   (x,y,z)=( 160.028,  124.694,  126.892)\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Element Type(s):\nFileMeshGenerator 'whole':   TET4\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Nodesets:\nFileMeshGenerator 'whole':   Nodeset 103, 1878 nodes\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-81.6497, -64.1349, -93.4483)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 78.3783,  60.5591,  33.4434)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 160.028,  124.694,  126.892)\nFileMeshGenerator 'whole':   Nodeset 104, 181 nodes\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-10.0568, -19.1267, -92.8687)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 19.0618,  15.5251, -35.7652)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 29.1186,  34.6518,  57.1035)\nFileMeshGenerator 'whole':   Nodeset 105, 1271 nodes\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-50.0455, -45.0358, -47.7942)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=(-18.9423, -9.63433, -21.2255)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 31.1032,  35.4015,  26.5687)\nFileMeshGenerator 'whole':   Nodeset 1003, 1672 nodes\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-81.6497, -64.1349, -93.4483)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 78.3783,  60.5591,  33.4434)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 160.028,  124.694,  126.892)\nFileMeshGenerator 'whole':   Nodeset 1004, 172 nodes\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-10.0568, -19.1267, -92.8687)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 19.0618,  15.5251, -35.7652)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 29.1186,  34.6518,  57.1035)\nFileMeshGenerator 'whole':   Nodeset 1005, 730 nodes\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-50.0455, -45.0358, -47.7942)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=(-18.9423, -9.63433, -21.2255)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 31.1032,  35.4015,  26.5687)\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Sidesets:\nFileMeshGenerator 'whole':   Sideset 103 (pialSurf), 3736 sides (TRI3), 3736 elems (TET4), 1878 nodes\nFileMeshGenerator 'whole':    Side volume: 58619\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-81.6497, -64.1349, -93.4483)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 78.3783,  60.5591,  33.4434)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 160.028,  124.694,  126.892)\nFileMeshGenerator 'whole':   Sideset 104 (brainstemSurf), 694 sides (TRI3), 691 elems (TET4), 181 nodes\nFileMeshGenerator 'whole':    Side volume: 7997.49\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-10.0568, -19.1267, -92.8687)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 19.0618,  15.5251, -35.7652)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 29.1186,  34.6518,  57.1035)\nFileMeshGenerator 'whole':   Sideset 105 (tumorSurf), 5076 sides (TRI3), 5076 elems (TET4), 1271 nodes\nFileMeshGenerator 'whole':    Side volume: 5877.59\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-50.0455, -45.0358, -47.7942)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=(-18.9423, -9.63433, -21.2255)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 31.1032,  35.4015,  26.5687)\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Edgesets:\nFileMeshGenerator 'whole':   None\nFileMeshGenerator 'whole': \nFileMeshGenerator 'whole':  Mesh Subdomains:\nFileMeshGenerator 'whole':   Subdomain 3 (pial): 34678 elems (TET4, 34678 active), 7637 active nodes\nFileMeshGenerator 'whole':    Volume: 1.15209e+06\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-81.6497, -64.1349, -93.4483)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 78.3783,  60.5591,  33.4434)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 160.028,  124.694,  126.892)\nFileMeshGenerator 'whole':   Subdomain 4 (brainstem): 619 elems (TET4, 619 active), 221 active nodes\nFileMeshGenerator 'whole':    Volume: 16616.1\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-10.0568, -19.1267, -92.8687)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=( 19.0618,  15.5251, -35.7652)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 29.1186,  34.6518,  57.1035)\nFileMeshGenerator 'whole':   Subdomain 5 (tumor): 7477 elems (TET4, 7477 active), 1977 active nodes\nFileMeshGenerator 'whole':    Volume: 13161.4\nFileMeshGenerator 'whole':    Bounding box minimum: (x,y,z)=(-50.0455, -45.0358, -47.7942)\nFileMeshGenerator 'whole':    Bounding box maximum: (x,y,z)=(-18.9423, -9.63433, -21.2255)\nFileMeshGenerator 'whole':    Bounding box delta: (x,y,z)=( 31.1032,  35.4015,  26.5687)\nFileMeshGenerator 'whole':   Global mesh volume = 1.18187e+06\n\n\n*** Info ***\nNumber of elements below prescribed minimum volume : 0\n\n\n*** Info ***\nNumber of elements with negative volume : 0\n\n\n*** Info ***\nNumber of elements above prescribed maximum volume : 0\nElement type in subdomain pial (3) : TET4\nElement type in subdomain brainstem (4) : TET4\nElement type in subdomain tumor (5) : TET4\nElement type in subdomain duraSurf (101) : TRI3\nElement type in subdomain cranSurf (102) : TRI3\n\n\n*** Info ***\nNumber of elements overlapping (node-based heuristics): 0\n\n\n*** Info ***\nNumber of elements overlapping (centroid-based heuristics): 0\n\n\n*** Info ***\nNumber of non-conformal nodes: 0\n\n\n*** Info ***\nNumber of non-conformal nodes likely due to mesh refinement detected by heuristic: 0\n\n\n*** Info ***\nNumber of elements with a negative Jacobian: 0\n\n\n*** Info ***\nNumber of element sides with negative Jacobians: 0\nCurrently Setting Up\n  Initializing\n    Initializing Equation Systems                                                        [  5.60 s] [  691 MB]\n  Finished Initializing                                                                  [  5.90 s] [  693 MB]\nFinished Setting Up                                                                      [ 10.84 s] [  693 MB]\nFramework Information:\nMOOSE Version:           git commit 2e75e9d1e3c on 2024-11-26\nLibMesh Version:         5483644b60cc538a4b54d312f28835bd94107627\nPETSc Version:           3.22.1\nSLEPc Version:           3.22.1\nCurrent Time:            Mon Dec  2 14:13:07 2024\nExecutable Timestamp:    Wed Nov 27 15:04:31 2024\n\nCheckpoint:\n  Wall Time Interval:      Every 3600 s\n  User Checkpoint:         Disabled\n  # Checkpoints Kept:      2\n  Execute On:              TIMESTEP_END \n\nParallelism:\n  Num Processors:          1\n  Num Threads:             20\n\nMesh: \n  Parallel Type:           replicated\n  Mesh Dimension:          3\n  Spatial Dimension:       3\n  Nodes:                   13132\n  Elems:                   52262\n  Num Subdomains:          5\n\nNonlinear System:\n  Num DOFs:                39396\n  Num Local DOFs:          39396\n  Variables:               { \"disp_x\" \"disp_y\" \"disp_z\" } \n  Finite Element Types:    \"LAGRANGE\" \n  Approximation Orders:    \"FIRST\" \n\nAuxiliary System:\n  Num DOFs:                352968\n  Num Local DOFs:          352968\n  Variables:               { \"stress_xx\" \"stress_yy\" \"stress_zz\" \"stress_xy\" \"stress_xz\" \"stress_yz\" \n                             } { \"penetration\" \"contact_pressure\" \"nodal_area\" } \n  Finite Element Types:    \"MONOMIAL\" \"LAGRANGE\" \n  Approximation Orders:    \"CONSTANT\" \"FIRST\" \n\nExecution Information:\n  Executioner:             Transient\n  TimeStepper:             ConstantDT\n  TimeIntegrator(s):       ImplicitEuler\n  Solver Mode:             NEWTON\n  PETSc Preconditioner:    lu \n  MOOSE Preconditioner:    SMP (auto)\n\nCurrently Executing\n  Performing Initial Setup\n    Setting Up Materials\n      Finished Computing Initial Material Values                                         [  0.29 s] [  920 MB]\n    Finished Setting Up Materials                                                        [  0.30 s] [  920 MB]\n    Reinitializing Because of Geometric Search Objects                                   [ 10.70 s] [ 1015 MB]\n  Finished Performing Initial Setup                                                      [ 14.02 s] [ 1016 MB]\n\nTime Step 0, time = 0\n\nTime Step 1, time = 1, dt = 1\n\n    Rebuilding Geometric Search Patches\n      Reinitializing Because of Geometric Search Objects                                 [ 11.23 s] [ 1046 MB]\n    Finished Rebuilding Geometric Search Patches                                         [ 11.28 s] [ 1046 MB]\n Skipping predictor this step\n\nPerforming automatic scaling calculation\n\n 0 Nonlinear |R| = 9.494046e-05\n    Computing Jacobian...................................................................................................................................................................................................................................................... [1241.43 s] [ 1184 MB]\n[0]PETSC ERROR: --------------------- Error Message --------------------------------------------------------------\n[0]PETSC ERROR: Object is in wrong state\n[0]PETSC ERROR: Matrix is missing diagonal entry 12\n[0]PETSC ERROR: WARNING! There are unused option(s) set! Could be the program crashed before usage or a spelling mistake, etc!\n[0]PETSC ERROR:   Option left: name:--n-threads=20 (no value) source: command line\n[0]PETSC ERROR:   Option left: name:-i value: brainshift.i source: command line\n[0]PETSC ERROR: See https://petsc.org/release/faq/ for trouble shooting.\n[0]PETSC ERROR: Petsc Development GIT revision: v3.22.1-193-g72c1e49ee3d  GIT Date: 2024-11-14 11:28:54 -0600\n[0]PETSC ERROR: ../brain_shift-opt with 1 MPI process(es) and PETSC_ARCH  on 90cc70e882c7 by root Mon Dec  2 14:12:56 2024\n[0]PETSC ERROR: Configure options: --with-64-bit-indices --with-cxx-dialect=C++17 --with-debugging=no --with-fortran-bindings=0 --with-mpi=1 --with-openmp=1 --with-strict-petscerrorcode=1 --with-shared-libraries=1 --with-sowing=0 --download-fblaslapack=1 --download-hpddm=1 --download-hypre=1 --download-metis=1 --download-mumps=1 --download-ptscotch=1 --download-parmetis=1 --download-scalapack=1 --download-slepc=1 --download-strumpack=1 --download-superlu_dist=1 --download-hdf5=1 --with-hdf5-fortran-bindings=0 --download-hdf5-configure-arguments=\"--with-zlib\" --with-make-np=16 --prefix=/opt/petsc\n[0]PETSC ERROR: #1 MatLUFactorSymbolic_SeqAIJ() at /root/build/petsc/src/mat/impls/aij/seq/aijfact.c:305\n[0]PETSC ERROR: #2 MatLUFactorSymbolic() at /root/build/petsc/src/mat/interface/matrix.c:3318\n[0]PETSC ERROR: #3 PCSetUp_LU() at /root/build/petsc/src/ksp/pc/impls/factor/lu/lu.c:87\n[0]PETSC ERROR: #4 PCSetUp() at /root/build/petsc/src/ksp/pc/interface/precon.c:1071\n[0]PETSC ERROR: #5 KSPSetUp() at /root/build/petsc/src/ksp/ksp/interface/itfunc.c:415\n[0]PETSC ERROR: #6 KSPSolve_Private() at /root/build/petsc/src/ksp/ksp/interface/itfunc.c:826\n[0]PETSC ERROR: #7 KSPSolve() at /root/build/petsc/src/ksp/ksp/interface/itfunc.c:1075\n[0]PETSC ERROR: #8 SNESSolve_NEWTONLS() at /root/build/petsc/src/snes/impls/ls/ls.c:221\n[0]PETSC ERROR: #9 SNESSolve() at /root/build/petsc/src/snes/interface/snes.c:4837\nlibMesh terminating:\nMatrix is missing diagonal entry 12\n--------------------------------------------------------------------------\nMPI_ABORT was invoked on rank 0 in communicator MPI_COMM_WORLD\n  Proc: [[55243,0],0]\n  Errorcode: 1\n\nNOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.\nYou may or may not see output from other processes, depending on\nexactly when Open MPI kills them.\n--------------------------------------------------------------------------",
                          "url": "https://github.com/idaholab/moose/discussions/29062#discussioncomment-11437337",
                          "updatedAt": "2024-12-02T14:37:12Z",
                          "publishedAt": "2024-12-02T14:36:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "set a solve_type of PJFNK for now maybe. I dont know whether Contact has 100% implemented Jacobian contributions\n\nDo I need the dura boundary to be fixed?\n\nno, contact boundaries can move\n\nDo the dura and cran boundaries actually need any physics or material properties on them?\n\nThey need the properties to solve the solid mechanics equations i think. I dont know if it makes sense to solve a contact problem on the surface without solving the solid mechanics equations in the volume",
                          "url": "https://github.com/idaholab/moose/discussions/29062#discussioncomment-11441401",
                          "updatedAt": "2024-12-02T21:32:01Z",
                          "publishedAt": "2024-12-02T21:32:00Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Issue reading a Gmsh mesh with Solid Mechanics module",
          "author": {
            "login": "arsonc"
          },
          "bodyText": "I am trying to run a simple simulation of uniaxial extension of a cantilever beam using the Solid Mechanics module. My example works when I use the MOOSE mesh generator to create the mesh. When I use the exact same input file with a mesh generated with Gmsh, the simulation fails.\nHere is the input file:\n[GlobalParams]\n  displacements = 'disp_x disp_y disp_z'\n[]\n\n[Mesh]\n  # We use a pre-generated mesh file.\n  file = Gbeam.msh\n[]\n\n[Physics/SolidMechanics/QuasiStatic]\n  [all]\n    add_variables = true\n  []\n[]\n\n[Materials]\n  [elasticity]\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 1e9\n    poissons_ratio = 0.3\n  []\n  [stress]\n    type = ComputeLinearElasticStress\n  []\n[]\n\n[BCs]\n  [Left_x]\n    type = DirichletBC\n    variable = disp_x\n    boundary = left\n    value = 0\n  []\n  [Left_y]\n    type = DirichletBC\n    variable = disp_y\n    boundary = left\n    value = 0\n  []\n  [Left_z]\n    type = DirichletBC\n    variable = disp_z\n    boundary = left\n    value = 0\n  []\n  [Right_x]\n    type =  DirichletBC\n    variable = disp_x\n    boundary = right\n    value = 0.01\n  []\n[]\n\n\n[Executioner]\n  type = Steady\n[]\n\n[Outputs]\n  exodus = true\n[]\n\n**Here is the mesh file (Gbeam.msh):**\n\n$MeshFormat\n4.1 0 8\n$EndMeshFormat\n$PhysicalNames\n2\n2 27 \"left\"\n2 28 \"right\"\n$EndPhysicalNames\n$Entities\n8 12 6 1\n1 0 0 0 0 \n2 10 0 0 0 \n3 10 5 0 0 \n4 0 5 0 0 \n5 10 5 5 0 \n6 0 5 5 0 \n10 0 0 5 0 \n14 10 0 5 0 \n1 0 0 0 10 0 0 0 2 1 -2 \n2 10 0 0 10 5 0 0 2 2 -3 \n3 0 5 0 10 5 0 0 2 3 -4 \n4 0 0 0 0 5 0 0 2 4 -1 \n6 0 5 5 10 5 5 0 2 5 -6 \n7 0 0 5 0 5 5 0 2 6 -10 \n8 0 0 5 10 0 5 0 2 10 -14 \n9 10 0 5 10 5 5 0 2 14 -5 \n11 10 5 0 10 5 5 0 2 3 -5 \n12 0 5 0 0 5 5 0 2 4 -6 \n16 0 0 0 0 0 5 0 2 1 -10 \n20 10 0 0 10 0 5 0 2 2 -14 \n1 0 0 0 10 5 0 0 4 3 4 1 2 \n13 0 5 0 10 5 5 0 4 3 12 -6 -11 \n17 0 0 0 0 5 5 1 27 4 4 16 -7 -12 \n21 0 0 0 10 0 5 0 4 1 20 -8 -16 \n25 10 0 0 10 5 5 1 28 4 2 11 -9 -20 \n26 0 0 5 10 5 5 0 4 6 7 8 9 \n1 0 0 0 10 5 5 0 6 -1 26 13 17 21 25 \n$EndEntities\n$Nodes\n18 60 1 60\n0 1 0 1\n1\n0 0 0\n0 2 0 1\n2\n10 0 0\n0 3 0 1\n3\n10 5 0\n0 4 0 1\n4\n0 5 0\n0 5 0 1\n5\n10 5 5\n0 6 0 1\n6\n0 5 5\n0 10 0 1\n7\n0 0 5\n0 14 0 1\n8\n10 0 5\n1 2 0 4\n9\n10\n11\n12\n10 0.9999999999984134 0\n10 1.999999999995513 0\n10 2.999999999996966 0\n10 3.999999999998489 0\n1 4 0 4\n13\n14\n15\n16\n0 3.999999999999998 0\n0 2.999999999999996 0\n0 1.999999999999994 0\n0 0.9999999999999911 0\n1 7 0 4\n17\n18\n19\n20\n0 3.999999999999998 5\n0 2.999999999999996 5\n0 1.999999999999994 5\n0 0.9999999999999911 5\n1 9 0 4\n21\n22\n23\n24\n10 0.9999999999984134 5\n10 1.999999999995513 5\n10 2.999999999996966 5\n10 3.999999999998489 5\n1 11 0 3\n25\n26\n27\n10 5 1.25\n10 5 2.5\n10 5 3.75\n1 12 0 3\n28\n29\n30\n0 5 1.25\n0 5 2.5\n0 5 3.75\n1 16 0 3\n31\n32\n33\n0 0 1.25\n0 0 2.5\n0 0 3.75\n1 20 0 3\n34\n35\n36\n10 0 1.25\n10 0 2.5\n10 0 3.75\n2 17 0 12\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n0 3.999999999999998 1.25\n0 3.999999999999998 2.5\n0 3.999999999999998 3.75\n0 2.999999999999996 1.25\n0 2.999999999999996 2.5\n0 2.999999999999996 3.75\n0 1.999999999999994 1.25\n0 1.999999999999994 2.5\n0 1.999999999999994 3.75\n0 0.9999999999999911 1.25\n0 0.9999999999999911 2.5\n0 0.9999999999999911 3.75\n2 25 0 12\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n10 0.9999999999984134 1.25\n10 0.9999999999984134 2.5\n10 0.9999999999984134 3.75\n10 1.999999999995513 1.25\n10 1.999999999995513 2.5\n10 1.999999999995513 3.75\n10 2.999999999996966 1.25\n10 2.999999999996966 2.5\n10 2.999999999996966 3.75\n10 3.999999999998489 1.25\n10 3.999999999998489 2.5\n10 3.999999999998489 3.75\n$EndNodes\n$Elements\n2 40 1 40\n2 17 3 20\n1 4 13 37 28 \n2 28 37 38 29 \n3 29 38 39 30 \n4 30 39 17 6 \n5 13 14 40 37 \n6 37 40 41 38 \n7 38 41 42 39 \n8 39 42 18 17 \n9 14 15 43 40 \n10 40 43 44 41 \n11 41 44 45 42 \n12 42 45 19 18 \n13 15 16 46 43 \n14 43 46 47 44 \n15 44 47 48 45 \n16 45 48 20 19 \n17 16 1 31 46 \n18 46 31 32 47 \n19 47 32 33 48 \n20 48 33 7 20 \n2 25 3 20\n21 2 9 49 34 \n22 34 49 50 35 \n23 35 50 51 36 \n24 36 51 21 8 \n25 9 10 52 49 \n26 49 52 53 50 \n27 50 53 54 51 \n28 51 54 22 21 \n29 10 11 55 52 \n30 52 55 56 53 \n31 53 56 57 54 \n32 54 57 23 22 \n33 11 12 58 55 \n34 55 58 59 56 \n35 56 59 60 57 \n36 57 60 24 23 \n37 12 3 25 58 \n38 58 25 26 59 \n39 59 26 27 60 \n40 60 27 5 24 \n$EndElements\n\n**Here is the output in the Terminal:**\n\n(moose) Chloes-MacBook:bear chloearson$ ./bear-opt -i Gbeam.i\n\n\n*** Info ***\nSolidMechanics Action: selecting 'total small strain' formulation. Use `incremental = true` to select 'incremental small strain' instead.\n\n\n*** ERROR ***\n/Users/chloearson/projects/bear/Gbeam.i:31: (BCs/Left_x/boundary):\n    the following node sets (ids) do not exist on the mesh: left (1)\n\nAbort(1) on node 0 (rank 0 in comm 0): application called MPI_Abort(MPI_COMM_WORLD, 1) - process 0",
          "url": "https://github.com/idaholab/moose/discussions/29174",
          "updatedAt": "2024-12-01T23:23:19Z",
          "publishedAt": "2024-12-01T20:47:19Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "hello\ncan you try using this?\nhttps://mooseframework.inl.gov/source/meshgenerators/NodeSetsFromSideSetsGenerator.html\nor adding this to the mesh block\n construct_node_list_from_side_list = true",
                  "url": "https://github.com/idaholab/moose/discussions/29174#discussioncomment-11430879",
                  "updatedAt": "2024-12-01T23:23:20Z",
                  "publishedAt": "2024-12-01T23:23:19Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "HPC \"Can't allocate memory\" Error",
          "author": {
            "login": "chunhuizhao478"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHi all, I have started submitting jobs on INL sawtooth cluster using containerization and encounter the following error after the code executes for sometime (the job is not get killed but apparently it fails):\nWarning, Exodus files cannot have titles longer than 80 characters.  Your title will be truncated.\nWarning, Exodus files cannot have titles longer than 80 characters.  Your title will be truncated.\n[r7i2n11:25   :0:25]      rcache.c:421  Assertion `!(region->flags & UCS_RCACHE_REGION_FLAG_PGTABLE)' failed\n[r7i2n11:00025] *** Process received signal ***\n[r7i2n11:00025] Signal: Aborted (6)\n[r7i2n11:00025] Signal code:  (-6)\n[r7i2n11:00025] [ 0] /lib64/libpthread.so.0(+0x12d20)[0x148708226d20]\n[r7i2n11:00025] [ 1] /lib64/libc.so.6(gsignal+0x10f)[0x148706efb52f]\n[r7i2n11:00025] [ 2] /lib64/libc.so.6(abort+0x127)[0x148706ecee65]\n[r7i2n11:00025] [ 3] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libucs.so.0(+0x699d7)[0x1487048579d7]\n[r7i2n11:00025] [ 4] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libucs.so.0(ucs_fatal_error_format+0xd1)[0x148704857ab1]\n[r7i2n11:00025] [ 5] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libucs.so.0(+0x746e8)[0x1487048626e8]\n[r7i2n11:00025] [ 6] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libucs.so.0(ucs_rcache_region_put+0x12c)[0x14870486294c]\n[r7i2n11:00025] [ 7] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/ucx/libuct_xpmem.so.0(+0x251b)[0x14870071651b]\n[r7i2n11:00025] [ 8] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libucp.so.0(ucp_rkey_destroy+0x56)[0x148704e4a5a6]\n[r7i2n11:00025] [ 9] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libucp.so.0(ucp_ep_rkey_unpack_internal+0x4dd)[0x148704e4aecd]\n[r7i2n11:00025] [10] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libucp.so.0(ucp_proto_rndv_send_reply+0x1c7)[0x148704e88e37]\n[r7i2n11:00025] [11] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libucp.so.0(ucp_proto_rndv_receive_start+0x169)[0x148704e89459]\n[r7i2n11:00025] [12] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libucp.so.0(ucp_tag_recv_nbx+0x15b4)[0x148704ed7b44]\n[r7i2n11:00025] [13] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libmpi.so.40(mca_pml_ucx_recv+0xfb)[0x14870994b57b]\n[r7i2n11:00025] [14] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libmpi.so.40(PMPI_Recv+0x18f)[0x1487097cc7af]\n[r7i2n11:00025] [15] /apps/local/openmpi/5.0.5-gcc12.3.0/lib/libmpi_mpifh.so.40(pmpi_recv_+0x71)[0x148709cfbd41]\n[r7i2n11:00025] [16] /opt/petsc/lib/libpetsc.so.3.21(dmumps_redistribution_+0x1355)[0x14870e5d21e2]\n[r7i2n11:00025] [17] /opt/petsc/lib/libpetsc.so.3.21(dmumps_fac_driver_+0x4d08)[0x14870e59165e]\n[r7i2n11:00025] [18] /opt/petsc/lib/libpetsc.so.3.21(dmumps_+0x2e37)[0x14870e51ea53]\n[r7i2n11:00025] [19] /opt/petsc/lib/libpetsc.so.3.21(dmumps_f77_+0x173a)[0x14870e4b2cfc]\n[r7i2n11:00025] [20] /opt/petsc/lib/libpetsc.so.3.21(dmumps_c+0x90f)[0x14870e4b0f47]\n[r7i2n11:00025] [21] /opt/petsc/lib/libpetsc.so.3.21(+0x4c507c)[0x14870d77c07c]\n[r7i2n11:00025] [22] /opt/petsc/lib/libpetsc.so.3.21(MatLUFactorNumeric+0x3ef)[0x14870da5bf65]\n[r7i2n11:00025] [23] /opt/petsc/lib/libpetsc.so.3.21(+0xe982f4)[0x14870e14f2f4]\n[r7i2n11:00025] [24] /opt/petsc/lib/libpetsc.so.3.21(PCSetUp+0x7f9)[0x14870e26a18d]\n[r7i2n11:00025] [25] /opt/petsc/lib/libpetsc.so.3.21(KSPSetUp+0x1106)[0x14870e024fbc]\n[r7i2n11:00025] [26] /opt/petsc/lib/libpetsc.so.3.21(+0xd6ff62)[0x14870e026f62]\n[r7i2n11:00025] [27] /opt/petsc/lib/libpetsc.so.3.21(KSPSolve+0x13)[0x14870e02a56e]\n[r7i2n11:00025] [28] /opt/petsc/lib/libpetsc.so.3.21(+0xfcec7a)[0x14870e285c7a]\n[r7i2n11:00025] [29] /opt/petsc/lib/libpetsc.so.3.21(SNESSolve+0x11b9)[0x14870e2dc44d]\n[r7i2n11:00025] *** End of error message ***\n/hpc-common/moose/containers/moose-dev-openmpi/0ed51b1_0024d394e4653118fe3122a1de651cb59b7b9ae30e30809cf5c687d7b3f83b8b/bin/moose-dev-exec: line 177: 42710 Aborted                 (core dumped) apptainer exec instance://${INSTANCE_NAME} $@\n\nI have started a ticket with HPC team, but they haven't found the possible issue, I do have tried reduce the number of cores per node to provide more memory, however the problem I run is fairly small. I wonder if someone has encountered similar issue before. Thanks!\nI use the following command on sawtooth2:\nmodule load use.moose moose-dev-openmpi/0ed51b1\nmoose-dev-shell",
          "url": "https://github.com/idaholab/moose/discussions/29169",
          "updatedAt": "2024-11-30T23:37:15Z",
          "publishedAt": "2024-11-30T17:32:56Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "loganharbour"
                  },
                  "bodyText": "@chunhuizhao478 can you please share what you're running?",
                  "url": "https://github.com/idaholab/moose/discussions/29169#discussioncomment-11423281",
                  "updatedAt": "2024-11-30T17:54:03Z",
                  "publishedAt": "2024-11-30T17:54:02Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "chunhuizhao478"
                  },
                  "bodyText": "dynamic_solve.txt\nstatic_solve.txt\nHi @loganharbour, I basically run a large deformation dynamic solid mechanics problem, there are some modified objects, I wonder how easy you are able to get access to my directory on sawtooth2, I could direct you to the specific code I used. Thanks!",
                  "url": "https://github.com/idaholab/moose/discussions/29169#discussioncomment-11423323",
                  "updatedAt": "2024-11-30T17:59:36Z",
                  "publishedAt": "2024-11-30T17:59:35Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "As I tested, I was able to restart the problem from last checkpoints, so there seems to be a growing memory usage during the solve, which I'm not sure what could be the cause.",
                          "url": "https://github.com/idaholab/moose/discussions/29169#discussioncomment-11425446",
                          "updatedAt": "2024-11-30T23:37:23Z",
                          "publishedAt": "2024-11-30T23:37:15Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "lenght, time and energy base scale in Crow app",
          "author": {
            "login": "Giovar6"
          },
          "bodyText": "Dear MOOSE users,\nI'm here again with a problem with the Crow app, developed by @SudiptaBiswas. This time is more a conceptual problem.\nIn the material section of the input file, when calculating the mobility properties and the simulation coefficients, in the Crow application are specified some coefficients to non-dimensionalize the material properties.\nTo explain better what I'm referring to, I report an example of an input file developed for the Crow app. (I quote only the modules  of the input file important to clarify what I am referring to)\n[Mesh]\ntype = GeneratedMesh\ndim = 2\nnx = 80\nny = 40\nnz = 0\nxmin = 0.0\nxmax = 400.0\nymin = 0.0\nymax = 200.0\nzmax = 0\nuniform_refine = 1\nelem_type = QUAD4\n[]\n[Materials]\n[./free_energy]\ntype = SinteringFreeEnergy\nblock = 0\nc = c\nv = 'gr0 gr1'\n#A = A\n#B = B\n#f_name = S\nderivative_order = 2\n#outputs = console\n[../]\n[./coeff]\ntype = SinteringCoefficients\nblock = 0\nT = 800.0\nint_width = 20\nGBmob0 = 2.5e-6\nQgbm = 0.23\nsurface_energy = 1.03e19\nGB_energy = 4.42e18\nlength_scale = 1e-08\ntime_scale = 0.1\nenergy_scale = 100.0\nenergy_unit = eV\noutputs = exodus\n[../]\n[./mob]\ntype = SinteringMtrxMobility\nT = 800.0\nint_width = 20\nQv = 2.19\nQvc = 2.19\nQgb = 0.75\nQs = 0.9\nDgb0 = 1.95e-8\nDsurf0 = 2.6e-5\nDvap0 = 7.8e-5\nDvol0 = 7.8e-5\nc = c\nv = 'gr0 gr1'\nVm = 1.182e-29\nlength_scale = 1e-08\ntime_scale = 0.1\nbulkindex = 1.0\nsurfindex = 1.0\ngbindex = 1.0\n#prefactor = 0.1\noutputs = exodus\n[../]\n[]\n[Executioner]\nPreconditioned JFNK (default)\ntype = Transient\nscheme = BDF2\nsolve_type = NEWTON\npetsc_options_iname = '-pc_type -ksp_grmres_restart -sub_ksp_type -sub_pc_type -pc_asm_overlap -sub_pc_factor_shift_type'\npetsc_options_value = 'asm         31   preonly   lu      1 nonzero'\n#petsc_options = '-snes_converged_reason'\nl_max_its = 20\nnl_max_its = 20\nnl_abs_tol = 1e-08\nnl_rel_tol = 1e-06\nl_tol = 1e-04\nend_time = 5000\ndt = 0.01\n[./TimeStepper]\ntype = IterationAdaptiveDT\ndt = 0.01\ngrowth_factor = 1.2\n[../]\n[]\n[ICs]\n[./ic_gr1]\nint_width = 20.0\nx1 = 250.0\ny1 = 100.0\nradius = 74.0\noutvalue = 0.0\nvariable = gr1\ninvalue = 1.0\ntype = SmoothCircleIC\n[../]\n[./multip]\nx_positions = '100.0 250.0'\nint_width = 20.0\nz_positions = '0 0'\ny_positions = '100.0 100.0 '\nradii = '74.0 74.0'\n3D_spheres = false\noutvalue = 0.001\nvariable = c\ninvalue = 0.999\ntype = SpecifiedSmoothCircleIC\nblock = 0\n[../]\n[./ic_gr0]\nint_width = 20.0\nx1 = 100.0\ny1 = 100.0\nradius = 74.0\noutvalue = 0.0\nvariable = gr0\ninvalue = 1.0\ntype = SmoothCircleIC\n[../]\n[]\nIn this case are are adopted as length scale 1e-08, time scale 0.1 and energy scale 100. The problem is that i cannot understand how this exact values are identified. Why I cannot use for example 1e-06?\nI have tried to perform simulations with these values, but the simulation did not converged. So I understand that is important to specify the correct values, but how?\nThank you in advance to anyone will give me any suggestion or advice.\nGiovanni Rizza",
          "url": "https://github.com/idaholab/moose/discussions/16757",
          "updatedAt": "2024-12-15T08:56:21Z",
          "publishedAt": "2021-01-20T17:22:15Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "aeslaughter"
                  },
                  "bodyText": "@SudiptaBiswas This is super old, but curious if you had any advice.",
                  "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-355586",
                  "updatedAt": "2022-09-29T06:53:47Z",
                  "publishedAt": "2021-02-10T07:04:17Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "SudiptaBiswas"
                  },
                  "bodyText": "@Giovar6 The scales are chosen such that the nondimensional mobility values are close to unity. This is done for computational benefits. This is generic for phase-field models, nothing specific to Crow. Feel free to use different scales that make sense for your simulations.",
                  "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-358651",
                  "updatedAt": "2022-09-29T06:53:47Z",
                  "publishedAt": "2021-02-11T06:15:32Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Giovar6"
                          },
                          "bodyText": "Hello @SudiptaBiswas  and thank you for your reply.\nThank you for the suggestions and the help. I will try to identify the best scales also with some further literature research.",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-359822",
                          "updatedAt": "2022-09-29T06:53:47Z",
                          "publishedAt": "2021-02-11T14:57:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "HPL001"
                          },
                          "bodyText": "@SudiptaBiswas Hellow, I am a PhD student studying MOOSE, I am very interested in your application Crow, thank you so much for providing such excellent code. I from this web site (https://github.com/SudiptaBiswas/Crow) to download the zip code, then to extract, but there are many mistakes in the compilation process, I think this is caused by the update of MOOSE in recent years (I am currently using MOOSE version 2024.11.21), I would like to ask if there is a suitable Crow that you can provide. Thank you very much and look forward to hearing from you.",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-11352085",
                          "updatedAt": "2024-11-22T18:07:52Z",
                          "publishedAt": "2024-11-22T18:07:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You should see if there are any working forks\nhttps://github.com/SudiptaBiswas/Crow/forks?include=active&page=1&period=&sort_by=stargazer_counts\notherwise the update to making it compile is not very hard. it s just this one validParams item you need to fix\nhttps://mooseframework.inl.gov/newsletter/2020/2020_04.html",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-11352140",
                          "updatedAt": "2024-11-22T18:14:06Z",
                          "publishedAt": "2024-11-22T18:13:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "HPL001"
                          },
                          "bodyText": "@GiudGiud Thank you very much for your reply, which is of great help to me. I downloaded Crow from 3 years ago\uff08https://github.com/luchinsky/Crow\uff09 and MOOSE from 3 years ago\uff08https://github.com/yardasol/moose\uff09, but I had some problems compiling. Please forgive me for not being familiar with the compilation process, the following is a screenshot of the problem, I hope to get your guidance. Thank you very much and look forward to hearing from you.",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-11355589",
                          "updatedAt": "2024-11-23T07:10:27Z",
                          "publishedAt": "2024-11-23T07:10:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Are you using the conda packages from 3 years ago as well?",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-11357342",
                          "updatedAt": "2024-11-23T13:56:19Z",
                          "publishedAt": "2024-11-23T13:56:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "HPL001"
                          },
                          "bodyText": "Hello, I replaced the conda 3 years ago according to your suggestion. However, I have a question about whether I should choose to use the three year old moose environment here, and if so, what command I should use when I create the environment in the tutorial on installing moose on the installation website (conda create -n moose moose). Looking forward to hearing from you. Thank you very much.",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-11362921",
                          "updatedAt": "2024-11-24T12:55:14Z",
                          "publishedAt": "2024-11-24T12:55:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I actually don\u2019t think we offer these conda packages still.\nI would update moose and the conda packages to the current ones and fix any potential breakage in crow",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-11363124",
                          "updatedAt": "2024-11-24T13:37:42Z",
                          "publishedAt": "2024-11-24T13:37:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "HPL001"
                          },
                          "bodyText": "It would be great if you would like to update Crow to suit the latest moose and conda versions. Thank you very much and look forward to your work.",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-11363174",
                          "updatedAt": "2024-11-24T13:49:23Z",
                          "publishedAt": "2024-11-24T13:49:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "By \"I would\" I mean this is what I would do if I were you.\nThere is too much activity right now for me to do it",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-11363716",
                          "updatedAt": "2024-11-24T15:47:34Z",
                          "publishedAt": "2024-11-24T15:47:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "HPL001"
                          },
                          "bodyText": "Thank you for your advice, but unfortunately I am not very familiar with MOOSE, which may take a lot of time, so I would like to ask how to install the MOOSE environment back to three years ago?Can I use this line command \"conda create -n moose moose-dev=2024.11.15=mpich\" and specify the version? How do I find the release number?",
                          "url": "https://github.com/idaholab/moose/discussions/16757#discussioncomment-11368198",
                          "updatedAt": "2024-11-25T04:55:17Z",
                          "publishedAt": "2024-11-25T04:55:16Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Stress sign convention",
          "author": {
            "login": "dineshp1"
          },
          "bodyText": "Hi,\nWhich stress sign convention is used in the Porous Flow module: compressive stresses as positive or -ve?\nThanks,\nDinesh P",
          "url": "https://github.com/idaholab/moose/discussions/20999",
          "updatedAt": "2024-11-29T10:32:08Z",
          "publishedAt": "2022-05-11T04:22:18Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "It is the same convention as TensorMechanics, which is:\n\na positive strain is extensional, which (usually) results from a positive (tensile) stress;\na negative strain is compressional, which (usually) results from a negative (compressive) stress",
                  "url": "https://github.com/idaholab/moose/discussions/20999#discussioncomment-2727180",
                  "updatedAt": "2022-07-23T14:15:28Z",
                  "publishedAt": "2022-05-11T04:31:49Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "dineshp1"
                          },
                          "bodyText": "Thank you much for the quick reply.",
                          "url": "https://github.com/idaholab/moose/discussions/20999#discussioncomment-2727318",
                          "updatedAt": "2022-07-23T14:15:34Z",
                          "publishedAt": "2022-05-11T05:10:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jmeier"
                          },
                          "bodyText": "Please allow me ask more in detail:\n\nCompressive porepressures (e.g. below a free water table) have a positive sign?\nSuction is represented by porepressures having a negative sign?",
                          "url": "https://github.com/idaholab/moose/discussions/20999#discussioncomment-11414713",
                          "updatedAt": "2024-11-29T10:32:09Z",
                          "publishedAt": "2024-11-29T10:32:08Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to use these input files: modules/external_petsc_solver/test/tests/...?",
          "author": {
            "login": "Wang-Yihu"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHow to use these input files: modules/external_petsc_solver/test/tests/moose_as_parent.i; petsc_transient_as_sub.i; petsc_transient_as_parent.i; moose_as_sub.i ?\nRecently, i'm trying to coupling external codes in MOOSE. Although #28287 suggests that maybe choosing external_petsc_solver to study is a good choice because of its hard-coded, I'm still interested in it. At least I want them to run in my PC.\nMy steps are as follows and I encounter errors:\n\nCreate an Application like https://mooseframework.inl.gov/getting_started/new_users.html\n\ncd ~/projects\n./moose/scripts/stork.sh thmbryton\n\n\nEdit Makefile with yes for ALL_MODULES\n\nALL_MODULES               := yes\n\n\nCompile it in application directory\n\nconda activate moose\nmake\n\n\nCopy and paste modules/external_petsc_solver/test/tests/moose_as_parent.i; petsc_transient_as_sub.i; petsc_transient_as_parent.i; moose_as_sub.i into the application directory\nRun MOOSE opt with *.i\n\n./thmbryton-opt -i moose_as_parent.i\n\nAnd it returns errors:\n\"ExternalPetscSolverApp\" is not a registered application name.\nUnable to locate library archive for \"ExternalPetscSolverApp\".\nWe attempted to locate the library archive \"libexternal_petsc_solver-opt.la\" in the following paths:\n\u2002\u2002\u2002\u2002\u2002\u2002../lib\nMake sure you have compiled the library and either set the \"library_path\" variable in your input file or exported \"MOOSE_LIBRARY_PATH\".\n\nFirst, it says: ExternalPetscSolverApp\" is not a registered application name., I don't know what to do with it... Even I don't know why there is a app_type  parameter in  TransientMultiApp class https://mooseframework.inl.gov/source/multiapps/TransientMultiApp.html  . I think TransientMultiApp class is from parent file\nto drive sub file. Why does it need app_type?",
          "url": "https://github.com/idaholab/moose/discussions/29164",
          "updatedAt": "2024-11-29T01:29:50Z",
          "publishedAt": "2024-11-28T12:26:29Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nCan you you the executable in moose/modules/external_petsc_solver ? If you can build one\n\nwhy there is a app_type parameter in TransientMultiApp class\n\nThe app_type lets us build smaller apps, or different apps from dynamically loaded libraries, than the current app you are using for the main solve\nIt is generally not required. You can use the same app for the parent and child solves most often. The only times it is required is if the child input can only be understood/ran properly by a different app\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/29164#discussioncomment-11406497",
                  "updatedAt": "2024-11-28T13:36:51Z",
                  "publishedAt": "2024-11-28T13:36:50Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Wang-Yihu"
                          },
                          "bodyText": "You're right sir.\nI input in the terminal in modules/external_petsc_solver/\nconda activate moose\nmake\n\nAnd then use this -opt in modules/external_petsc_solver/test/tests/\n../../../external_petsc_solver-opt -i moose_as_parent.i\n\nIt really works!\nYou mean that app_type can make *.i files from different moose applications work together?",
                          "url": "https://github.com/idaholab/moose/discussions/29164#discussioncomment-11407123",
                          "updatedAt": "2024-11-28T14:15:57Z",
                          "publishedAt": "2024-11-28T14:15:56Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Ok so by default we do not include the external_petsc_solver module in anyone s app build. I don\u2019t think it s ever needed since it\u2019s just an example.\nYes using app_type you can run inputs of a different app in a multiapp",
                          "url": "https://github.com/idaholab/moose/discussions/29164#discussioncomment-11407600",
                          "updatedAt": "2024-11-28T15:08:20Z",
                          "publishedAt": "2024-11-28T15:08:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Wang-Yihu"
                          },
                          "bodyText": "OK, thanks. Since I do not want to run a *.i file in another app at least for now, I do not want to implement this function. If I want to couple external codes in MOOSE, is making out codes in external_petsc_solver a good idea? I've mentioned that there're only five parts: base, mesh, petscsolver, problems, and timesteppers in this module, though there are some code from petsc I cannot understand now...\nI'm trying to understand cardinal, https://github.com/neams-th-coe/cardinal , but there are too many codes...",
                          "url": "https://github.com/idaholab/moose/discussions/29164#discussioncomment-11408357",
                          "updatedAt": "2024-11-28T16:21:24Z",
                          "publishedAt": "2024-11-28T16:21:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Cardinal is a better example than the external_petsc_solver of coupling external codes into MOOSE",
                          "url": "https://github.com/idaholab/moose/discussions/29164#discussioncomment-11409203",
                          "updatedAt": "2024-11-28T18:03:22Z",
                          "publishedAt": "2024-11-28T18:03:21Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Compiling STRUMPACK packages takes forever when updating petsc on Expanse cluster",
          "author": {
            "login": "chunhuizhao478"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n I have consulted the Posting Guidelines.\n I have searched the Discussions Forum and MOOSE Framework Troubleshooting and have not found what I was looking for\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n\nIssue or question about MOOSE\nHi all, I try to update MOOSE on Expanse to latest version using the approach discussed in #26162. However, when it comes to \"STRUMPACK\" package, it gets stuck and unable to move forward:\n=============================================================================================\n      Trying to download https://github.com/Reference-ScaLAPACK/scalapack for SCALAPACK\n=============================================================================================\n=============================================================================================\n               Configuring SCALAPACK with CMake; this may take several minutes\n=============================================================================================\n=============================================================================================\n              Compiling and installing SCALAPACK; this may take several minutes\n=============================================================================================\n=============================================================================================\n            Trying to download https://github.com/pghysels/STRUMPACK for STRUMPACK\n=============================================================================================\n=============================================================================================\n               Configuring STRUMPACK with CMake; this may take several minutes\n=============================================================================================\n=============================================================================================\n              Compiling and installing STRUMPACK; this may take several minutes\n=============================================================================================\n\nI wonder if the approach in #26162 by @milljm needs to get updated, any suggestion? Thanks!\n(Optional) code in question / simulation log / errors\nNo response\nEncountering Errors? Please include diagnostic output\nNo response",
          "url": "https://github.com/idaholab/moose/discussions/29159",
          "updatedAt": "2024-11-28T02:38:06Z",
          "publishedAt": "2024-11-27T18:48:05Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Do you need strumpack? You could just disable it",
                  "url": "https://github.com/idaholab/moose/discussions/29159#discussioncomment-11398286",
                  "updatedAt": "2024-11-27T18:56:54Z",
                  "publishedAt": "2024-11-27T18:56:53Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "after one hour waiting, it produces error:\n**** C specific Configure header /tmp/petsc-n7hmrtl4/conffix.h ****\n#if !defined(INCLUDED_UNKNOWN)\n#define INCLUDED_UNKNOWN\n\n#if defined(__cplusplus)\nextern \"C\" {\n}\n#else\n#endif\n#endif\n*********************************************************************************************\n           UNABLE to CONFIGURE with GIVEN OPTIONS (see configure.log for details):\n---------------------------------------------------------------------------------------------\n                               Error running make on  STRUMPACK\n*********************************************************************************************\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/configure.py\", line 461, in petsc_configure\n    framework.configure(out = sys.stdout)\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/framework.py\", line 1460, in configure\n    self.processChildren()\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/framework.py\", line 1448, in processChildren\n    self.serialEvaluation(self.childGraph)\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/framework.py\", line 1423, in serialEvaluation\n    child.configure()\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/package.py\", line 1354, in configure\n    self.executeTest(self.configureLibrary)\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/base.py\", line 138, in executeTest\n    ret = test(*args,**kargs)\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/package.py\", line 1041, in configureLibrary\n    for location, directory, lib, incl in self.generateGuesses():\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/package.py\", line 609, in generateGuesses\n    d = self.checkDownload()\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/package.py\", line 743, in checkDownload\n    return self.getInstallDir()\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/package.py\", line 545, in getInstallDir\n    installDir = self.Install()\n  File \"/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/petsc/config/BuildSystem/config/package.py\", line 2073, in Install\n    raise RuntimeError('Error running make on  '+self.PACKAGE)\n================================================================================\nFinishing configure run at Wed, 27 Nov 2024 10:58:38 -0800\n================================================================================\nThere was an error. Exiting...\n\nHi @GiudGiud, sure could you show me how to disable it, thanks!",
                          "url": "https://github.com/idaholab/moose/discussions/29159#discussioncomment-11398317",
                          "updatedAt": "2024-11-27T19:00:14Z",
                          "publishedAt": "2024-11-27T19:00:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "in scripts/configure_petsc.h, set       --download-strumpack=0\\ at line 116",
                          "url": "https://github.com/idaholab/moose/discussions/29159#discussioncomment-11398648",
                          "updatedAt": "2024-11-27T19:29:19Z",
                          "publishedAt": "2024-11-27T19:29:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "Hi @GiudGiud, I tried this and it passed petsc build, but then the libmesh build also stucks at some point:\n  CXX      src/mesh/libmesh_opt_la-mesh_output.lo\n  CXX      src/mesh/libmesh_opt_la-mesh_refinement.lo\n  CXX      src/mesh/libmesh_opt_la-mesh_refinement_flagging.lo\n  CXX      src/mesh/libmesh_opt_la-mesh_refinement_smoothing.lo\n  CXX      src/mesh/libmesh_opt_la-mesh_serializer.lo\n  CXX      src/mesh/libmesh_opt_la-mesh_smoother.lo\n  CXX      src/mesh/libmesh_opt_la-mesh_smoother_laplace.lo\n  CXX      src/mesh/libmesh_opt_la-mesh_smoother_vsmoother.lo\n  CXX      src/mesh/libmesh_opt_la-mesh_subdivision_support.lo\n  CXX      src/mesh/libmesh_opt_la-mesh_tet_interface.lo\n\n\nI have used export MOOSE_JOBS=6 METHODS=opt, I wonder if there are other options I should set, thanks!",
                          "url": "https://github.com/idaholab/moose/discussions/29159#discussioncomment-11400422",
                          "updatedAt": "2024-11-28T00:45:02Z",
                          "publishedAt": "2024-11-28T00:45:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "should not happen\nI think maybe you are running out of memory and it s stalling? try less moose_jobs",
                          "url": "https://github.com/idaholab/moose/discussions/29159#discussioncomment-11400510",
                          "updatedAt": "2024-11-28T01:01:45Z",
                          "publishedAt": "2024-11-28T01:01:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "Yes, I use moose_jobs = 1 and pass the libmesh build, then when build moose test, I use single core, but still get killed by out of memory after some time:\n[czhao1@login02 test]$ make \nCompiling C++ (in opt mode) /expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/framework/build/unity_src/userobjects_Unity.C...\ng++: fatal error: Killed signal terminated program cc1plus\ncompilation terminated.\nmake: *** [/expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/framework/build.mk:151: /expanse/projects/qstore/usc143/qwxdev/apps/expanse/rocky8.8/moose_versions/moosed253789/framework/build/unity_src/userobjects_Unity.x86_64-pc-linux-gnu.opt.lo] Error 1",
                          "url": "https://github.com/idaholab/moose/discussions/29159#discussioncomment-11401360",
                          "updatedAt": "2024-11-28T02:23:28Z",
                          "publishedAt": "2024-11-28T02:23:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Wow you\u2019re really low on memory then\nthe lowest memory you can use is this\nMOOSE_UNITY=false make",
                          "url": "https://github.com/idaholab/moose/discussions/29159#discussioncomment-11401429",
                          "updatedAt": "2024-11-28T02:38:07Z",
                          "publishedAt": "2024-11-28T02:38:06Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Table interpolation using 'time elapsed' (or 'shifted time') value",
          "author": {
            "login": "caolwec"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nI hope to obtain 'y' values interpolated from a (x, y) table (read in at initial start), where x is the time elapsed from a starting time determined during the calculation. 'x' can be calculated using a postprocessor, but is there a way to use it to get interpolated 'y' values from the (x, y) table.",
          "url": "https://github.com/idaholab/moose/discussions/29160",
          "updatedAt": "2024-11-28T01:33:19Z",
          "publishedAt": "2024-11-27T19:38:49Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI would use the elapsed time as a functor.\nThen pass it through an object that will use the functor in lieu of time.\nhttps://mooseframework.inl.gov/source/auxkernels/FunctorCoordinatesFunctionAux.html\nnow you need a Function that does this. I should have done this instead. I ll make a PR\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/29160#discussioncomment-11399204",
                  "updatedAt": "2024-11-27T20:51:12Z",
                  "publishedAt": "2024-11-27T20:51:12Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "what is the end goal here? what type of Function and in which object is it being fed?\nTo make sure that a new Function is actually appropriate",
                          "url": "https://github.com/idaholab/moose/discussions/29160#discussioncomment-11399326",
                          "updatedAt": "2024-11-27T21:08:19Z",
                          "publishedAt": "2024-11-27T21:08:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "caolwec"
                          },
                          "bodyText": "Hello\nI would use the elapsed time as a functor. Then pass it through an object that will use the functor in lieu of time. https://mooseframework.inl.gov/source/auxkernels/FunctorCoordinatesFunctionAux.html\nnow you need a Function that does this. I should have done this instead. I ll make a PR\nGuillaume\n\nThanks! This works through an Aux variable. You are right - what I need exactly could be just a similar type of 'Function'.",
                          "url": "https://github.com/idaholab/moose/discussions/29160#discussioncomment-11401075",
                          "updatedAt": "2024-11-28T01:33:20Z",
                          "publishedAt": "2024-11-28T01:33:19Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "caolwec"
                  },
                  "bodyText": "Thanks for the response! My table of (x, y) data is read in through a 'PiecewiseLinear' function, and the interpolated function value will be used in a 'FunctionAux'.",
                  "url": "https://github.com/idaholab/moose/discussions/29160#discussioncomment-11399689",
                  "updatedAt": "2024-11-27T22:08:34Z",
                  "publishedAt": "2024-11-27T22:08:32Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "this already does what you need then.\nhttps://mooseframework.inl.gov/source/auxkernels/FunctorCoordinatesFunctionAux.html\nYou can use it instead of the FunctionAux\nwith a postprcoessor as the t_functor, which takes care of doing the time offset, and which you define using a ParsedPostprocessor (expression = t - time_offset)",
                          "url": "https://github.com/idaholab/moose/discussions/29160#discussioncomment-11399774",
                          "updatedAt": "2024-11-27T22:24:44Z",
                          "publishedAt": "2024-11-27T22:24:44Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}