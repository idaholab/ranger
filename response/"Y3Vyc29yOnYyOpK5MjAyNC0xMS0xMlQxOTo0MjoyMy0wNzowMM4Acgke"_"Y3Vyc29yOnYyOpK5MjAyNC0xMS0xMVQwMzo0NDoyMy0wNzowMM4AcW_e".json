{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0xMS0xMVQwMzo0NDoyMy0wNzowMM4AcW_e"
    },
    "edges": [
      {
        "node": {
          "title": "Multiple tests types using same input file",
          "author": {
            "login": "jessecarterMOOSE"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nWhat's a good way to do multiple tests on the output from a single input file? Example: I want to do an Exodiff and CSVdiff. Or maybe 2 CSVdiffs at different time steps. The only way I know is to put multiple tests in the tests spec but then the same problem gets run twice which seems inefficient (and potentially problematic if running in parallel where outputs could collide).",
          "url": "https://github.com/idaholab/moose/discussions/29057",
          "updatedAt": "2024-11-12T17:09:05Z",
          "publishedAt": "2024-11-12T14:57:29Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\n\nand potentially problematic if running in parallel where outputs could collide).\n\nYou can set prereq= in the tests spec to avoid this\nI would instead use Outputs/file_base to make sure the outputs of each test are different. Then they can all run in parallel.\nYou add this in the test spec using cli_args = Outputs/file_base=test_1_",
                  "url": "https://github.com/idaholab/moose/discussions/29057#discussioncomment-11227761",
                  "updatedAt": "2024-11-12T15:00:11Z",
                  "publishedAt": "2024-11-12T15:00:11Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "jessecarterMOOSE"
                          },
                          "bodyText": "Thanks. So if I want to multiple tests on the output from a single input file (Exodiff and CSVdiff for example), is there a better way than making a test for each test type and doing redundant runs?",
                          "url": "https://github.com/idaholab/moose/discussions/29057#discussioncomment-11227808",
                          "updatedAt": "2024-11-12T15:04:16Z",
                          "publishedAt": "2024-11-12T15:04:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "so the PPs are automatically included in the exodus file so you must be doing this for checking a VPP?\nYou could do this\n[exo]\n  type = Exodiff\n  input = test.i\n  ...\n[]\n[csv]\n  type = CSVDiff\n  input = 'no_op.i' # dummy file doing nothing\n  prereq = exo\n  csvdiff = 'test_out.csv'\n  ..\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/29057#discussioncomment-11227882",
                          "updatedAt": "2024-11-12T15:10:58Z",
                          "publishedAt": "2024-11-12T15:10:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "To expand on @GiudGiud answer, you also want to enable parallel_schedulding, if you truly want to enable tests 'b' and 'c' to run in parallel (assuming you also pass enough cores to run all tests at the same time (./run_tests -j 2).\n[Tests]\n  parallel_scheduling = true\n  [./a]\n    type = RunApp\n    input = foo.i\n  [../]\n  [./b]\n    type = RunApp\n    input = foo.i\n    cli_args = Outputs/file_base=test_1_\n    prereq = 'a'\n  [../]\n  [./c]\n    type = RunApp\n    input = foo.i\n    cli_args = Outputs/file_base=test_2_\n    prereq = 'a'\n  [../]\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/29057#discussioncomment-11227887",
                          "updatedAt": "2024-11-12T15:11:02Z",
                          "publishedAt": "2024-11-12T15:11:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jessecarterMOOSE"
                          },
                          "bodyText": "@milljm I only want to run the input file once and then do lots of tests on the output.\n@GiudGiud The example of doing Exodiff and CSVdiff is just an example. I have PP's and VPP's and exodus and want to check them all.",
                          "url": "https://github.com/idaholab/moose/discussions/29057#discussioncomment-11227937",
                          "updatedAt": "2024-11-12T15:16:15Z",
                          "publishedAt": "2024-11-12T15:16:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "@milljm I only want to run the input file once and then do lots of tests on the output.\n\nYou'll still want this:\n  parallel_scheduling = true\n\nto be able to do\n\nand then do lots of tests on the output.",
                          "url": "https://github.com/idaholab/moose/discussions/29057#discussioncomment-11227944",
                          "updatedAt": "2024-11-12T15:17:43Z",
                          "publishedAt": "2024-11-12T15:17:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "To emphasize this behavior:\n$ ./run_tests -i testing_test -j 10 -t\n[8.002s]       OK tests/test_harness.a\n[2.002s]       OK tests/test_harness.b\n[2.002s]       OK tests/test_harness.c\n[2.002s]       OK tests/test_harness.d\n[2.002s]       OK tests/test_harness.e\n[2.002s]       OK tests/test_harness.f\n[2.003s]       OK tests/test_harness.g\n[2.003s]       OK tests/test_harness.h\n[2.002s]       OK tests/test_harness.i\n[2.002s]       OK tests/test_harness.j\n-------------------------------------------------------------------------------------------\nRan 10 tests in 26.3 seconds. Average test time 2.6 seconds, maximum test time 8.0 seconds.\n10 passed, 0 skipped, 0 failed\n\nEach test is launched in serial, resulting in 26 seconds.\nBut when we add parallel_scheduling = true:\n@@ -1,4 +1,5 @@\n [Tests]\n+  parallel_scheduling = true\n   [a]\n     type = RunCommand\n     command = \"sleep 8\"\n$ ./run_tests -i testing_test -j 10 -t\n[8.002s]       OK tests/test_harness.a\n[1.998s]       OK tests/test_harness.e\n[1.998s]       OK tests/test_harness.g\n[1.983s]       OK tests/test_harness.h\n[1.994s]       OK tests/test_harness.d\n[1.993s]       OK tests/test_harness.j\n[1.998s]       OK tests/test_harness.f\n[1.998s]       OK tests/test_harness.c\n[2.002s]       OK tests/test_harness.i\n[2.002s]       OK tests/test_harness.b\n-------------------------------------------------------------------------------------------\nRan 10 tests in 10.2 seconds. Average test time 2.6 seconds, maximum test time 8.0 seconds.\n10 passed, 0 skipped, 0 failed\n\nall tests after the initial pre_preq are launched concurrently. Resulting in 10 seconds total test group completion.",
                          "url": "https://github.com/idaholab/moose/discussions/29057#discussioncomment-11228212",
                          "updatedAt": "2024-11-12T15:38:18Z",
                          "publishedAt": "2024-11-12T15:38:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jessecarterMOOSE"
                          },
                          "bodyText": "What if each of my tests is a CSVdiff? Doesn't each one re-run the problem? That's what I was trying to avoid.",
                          "url": "https://github.com/idaholab/moose/discussions/29057#discussioncomment-11228878",
                          "updatedAt": "2024-11-12T16:25:06Z",
                          "publishedAt": "2024-11-12T16:25:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "You can use the attribute:\nshould_execute = false\n\nThis allows the postProcessing step to commence, without running RunApp.\nSee https://github.com/idaholab/moose/blob/next/test/tests/test_harness/should_execute for detailed information on how this test spec file would work.",
                          "url": "https://github.com/idaholab/moose/discussions/29057#discussioncomment-11229540",
                          "updatedAt": "2024-11-12T17:09:06Z",
                          "publishedAt": "2024-11-12T17:09:05Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Basic Phase Field Equations",
          "author": {
            "login": "vermaprk"
          },
          "bodyText": "Hi I am trying to introduce a additive concentration variable (c_add) in a grand potential phase field system\nThe equation of c_add is:\ndc_add/dt = Div [ (D_eff* grad C_add) + mu_eff* c grad phi ]\nwhere, D_eff is the effective diffusion coefficient = (1-h)*D and mu is the effective mobility defined similarly.\nI am assuming no effect of c_add on my phase field variables i.e. order parameter (eta) and grand potential (pot) because of its relatively small concentration and it does not takes part in phase formation. Initially, c_add is only present in (1-eta) phase and diffused at the interface.\nThe major concern in my result is the non-zero value of c_add in the phase eta after the phase has evolved for sometime. Since dc_add/dt becomes zero in the evolved phase eta, the evolution of c_add becomes zero. However, c_add is non-zero.\nPlease suggest the modification required in my equation. Currently c_add is not coupled with phase field variables. I have found some literatures where c_add is simply multiplied with 1-h to do so but this is rather forcing c_add to zero than some kind of transport.\nThanks\n@laagesen @dschwen @GiudGiud",
          "url": "https://github.com/idaholab/moose/discussions/25561",
          "updatedAt": "2024-11-12T14:29:59Z",
          "publishedAt": "2023-09-23T07:25:53Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nso the concern is that c_add is going to zero? or that it is not going to zero?\nIt seems c_add is mostly diffused. If the source term is 0, it should stabilize to some spatially constant value unless the boundary conditions are removing c_add?\ndoes c_add start at 0 concentration?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/25561#discussioncomment-7091550",
                  "updatedAt": "2023-09-24T01:50:01Z",
                  "publishedAt": "2023-09-24T01:50:00Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "vermaprk"
                  },
                  "bodyText": "Initially c_add is zero for eta =1. However, since eta is evolving with\ntime, I expect c_add to become zero in the newly evolved eta=1. But my\nequation only reduces to dc_add/dt = 0 in eta=1 region and not c_add=0 . I\nneed both conditions to satisfy.\n\nMy concern is to make c_add=0 I will have to add some reaction term which\nwill model the consumption that will be function of my order parameter (\ntypical cahn Hilliard equation). But since my additive doesn't gets\nconsumed, it just moves along with interface how should I model it.\n\u2026\nOn Sun, 24 Sep, 2023, 7:20 am Guillaume Giudicelli, < ***@***.***> wrote:\n Hello\n\n so the concern is that c_add is going to zero? or that it is not going to\n zero?\n It seems c_add is mostly diffused. If the source term is 0, it should\n stabilize to some spatially constant value unless the boundary conditions\n are removing c_add?\n\n does c_add start at 0 concentration?\n\n Guillaume\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#25561 (comment)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/AQQMFGZERF5L4M36TCVUIG3X36GVHANCNFSM6AAAAAA5EALZLY>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>",
                  "url": "https://github.com/idaholab/moose/discussions/25561#discussioncomment-7091814",
                  "updatedAt": "2023-09-24T03:59:27Z",
                  "publishedAt": "2023-09-24T03:59:27Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "A 'consumption' term is typically a sink, which you can model with the BodyForce, Reaction or CoupledForce kernels depending on what the sink depends on.\nWhat is the equation for the reaction rate of c_add?",
                          "url": "https://github.com/idaholab/moose/discussions/25561#discussioncomment-7093101",
                          "updatedAt": "2023-09-24T10:59:59Z",
                          "publishedAt": "2023-09-24T10:59:59Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "vermaprk"
                  },
                  "bodyText": "No, actually there is no reaction or consumption of c_add. It has to drift\naway from from the interface in such a manner that c_add becomes zero on\nthe left of the interface (eta=1).\nIn general as per my understanding in phase field equations the\nconcentration field gets consumed as the material is required for phase\nformation. But my case is different, C_add doesn't takes part in phase\nformation therefore is not consumed.\nMay be some kind of convection term has to be there which I am not sure of.\n\nThanks\n\u2026\nOn Sun, 24 Sep, 2023, 4:30 pm Guillaume Giudicelli, < ***@***.***> wrote:\n A 'consumption' term is typically a sink, which you can model with the\n BodyForce, Reaction or CoupledForce kernels depending on what the sink\n depends on.\n What is the equation for the reaction rate of c_add?\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#25561 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/AQQMFG7E47EG6CBJI627OYLX4AHDTANCNFSM6AAAAAA5EALZLY>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>",
                  "url": "https://github.com/idaholab/moose/discussions/25561#discussioncomment-7093218",
                  "updatedAt": "2023-09-24T11:26:36Z",
                  "publishedAt": "2023-09-24T11:26:35Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Convection does seem closer to what you are describing in terms of physics.\nThe diffusion term you have right now does not do what you describe. The first one is typical diffusion, e.g. it moves concentration from high value regions to low value regions at a rate dependent on the gradient of the concentration)",
                          "url": "https://github.com/idaholab/moose/discussions/25561#discussioncomment-7095758",
                          "updatedAt": "2023-09-24T22:55:10Z",
                          "publishedAt": "2023-09-24T22:01:04Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "awaoz"
                  },
                  "bodyText": "Hello, I have encountered the same problem. I used the CHInterface kernel, but the results were not ideal.How did you solve it?Thanks",
                  "url": "https://github.com/idaholab/moose/discussions/25561#discussioncomment-11214759",
                  "updatedAt": "2024-11-11T13:30:59Z",
                  "publishedAt": "2024-11-11T13:30:57Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "vermaprk"
                          },
                          "bodyText": "I had to declare a new chemical potential variable for the additive and had to embed it's contribution into the grand potential density. The chemical potential for this variable has diffusive and migration flux but no source/sink term.",
                          "url": "https://github.com/idaholab/moose/discussions/25561#discussioncomment-11221394",
                          "updatedAt": "2024-11-12T05:03:45Z",
                          "publishedAt": "2024-11-12T05:03:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "awaoz"
                          },
                          "bodyText": "Thank you for your answer",
                          "url": "https://github.com/idaholab/moose/discussions/25561#discussioncomment-11227382",
                          "updatedAt": "2024-11-12T14:30:00Z",
                          "publishedAt": "2024-11-12T14:29:59Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Axisymmetry on New Lagrangian Kernels",
          "author": {
            "login": "richmondodufisan"
          },
          "bodyText": "I saw this: #20712\nWhere it seems to have been implemented. But I still got the error:\n*** ERROR ***\n/home/richmond98/projects/purple/Cornea_Linear_Elastic/Cornea_Harmonic_Perturbation_2D_Axisymmetric.i:52.3:\nThe following error occurred in the Kernel 'div_sig_x_real' of type TotalLagrangianStressDivergence.\n\nThis kernel should only act in Cartesian coordinates.\n\nI updated MOOSE a few weeks ago. I am using ComputeLagrangianStrainAxisymmetricCylindrical for the strain.",
          "url": "https://github.com/idaholab/moose/discussions/28870",
          "updatedAt": "2024-11-12T14:27:45Z",
          "publishedAt": "2024-10-17T03:33:34Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nAre you creating this object? 'div_sig_x_real' of type TotalLagrangianStressDivergence.\nif not then it s being added by the action.\nUnfortunately this means the SolidMechanics physics is not supporting RZ at the moment. You will need to use the DumpObjectsProblem on a XY problem to get the list of the objects the Physics is creating, then adapt this list manually for RZ coordinates.\n@hugary1995 for a double check on whether the new system actually should support RZ / if trying to hack it is a bad idea",
                  "url": "https://github.com/idaholab/moose/discussions/28870#discussioncomment-10973138",
                  "updatedAt": "2024-10-17T15:17:22Z",
                  "publishedAt": "2024-10-17T15:17:22Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Yes I created that object, I didn't use the action set up. This is the block:\n[Kernels]\n  [div_sig_x_real]\n    type = TotalLagrangianStressDivergence\n\tcomponent = 0\n\tdisplacements = 'disp_x_real disp_y_real disp_z_real'\n    variable = disp_x_real\n\tbase_name = real\n  []\n\n...\n\n[]\n\nand in my Materials block, I have: (not sure if it is worth checking out but the base_name functionality wasn't implemented for \"getting\" the elasticity tensor so I had to hardcode it here)\n[Materials]\n  [elastic_tensor_real]\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = ${youngs_modulus_val}\n    poissons_ratio = ${poissons_ratio_val}\n\tbase_name = real\n  []\n  [compute_stress_real]\n    type = ComputeLagrangianLinearElasticStress\n\telasticity_tensor = real_elasticity_tensor\n\tbase_name = real\n  []\n  [compute_strain_real]\n    type = ComputeLagrangianStrainAxisymmetricCylindrical\n    displacements = 'disp_x_real disp_y_real disp_z_real'\n\tbase_name = real\n  []\n\n...\n[]\n\nand my mesh block:\n[Mesh]\n  second_order = true\n  coord_type = RZ\n  [sample_mesh]\n    type = FileMeshGenerator\n    file = eyeball_2D_axisymmetric.msh\n  []\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/28870#discussioncomment-10975435",
                          "updatedAt": "2024-10-17T19:10:10Z",
                          "publishedAt": "2024-10-17T19:08:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Then that object that you created does not handle RZ.\nIf you can find a substitute that does RZ then try to use that. If not then you would need to implement support for RZ in that object.\nIt's not usually very difficult to handle RZ",
                          "url": "https://github.com/idaholab/moose/discussions/28870#discussioncomment-10975459",
                          "updatedAt": "2024-10-17T19:11:23Z",
                          "publishedAt": "2024-10-17T19:11:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Hi, I found the kernel (thanks to MOOSE being open source!). It is TotalLagrangianStressDivergenceAxisymmetricCylindrical. I think it would be helpful if the documentation page of TotalLagrangianStressDivergence links to/mention them (also for the spherical case, TotalLagrangianStressDivergenceCentrosymmetricSpherical).\nBut an important thing I just found (maybe it could be included as a warning?) is that in the axisymmetric case, the 2D mesh MUST be created in the x-y domain. I struggled for a while trying to figure out why the 3D and 2D axisymmetric simulations I ran didn't match, but then tried on a whim to create the mesh in the x-y plane (instead of x-z plane as before) and that fixed it.\nWell, I guess there already is some kind of warning, the page on coordinate systems says that the arrangement is r, z, theta, instead of r, theta, z. But I didn't think it was that obvious till I fixed it.",
                          "url": "https://github.com/idaholab/moose/discussions/28870#discussioncomment-11071682",
                          "updatedAt": "2024-10-28T07:34:27Z",
                          "publishedAt": "2024-10-28T07:34:27Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "thanks for reporting. I ll create an issue and we ll improve those docs",
                          "url": "https://github.com/idaholab/moose/discussions/28870#discussioncomment-11079430",
                          "updatedAt": "2024-10-28T20:16:01Z",
                          "publishedAt": "2024-10-28T20:16:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Right, thanks to both of you @richmondodufisan @GiudGiud . I agree both the documentation and the action should be improved.",
                          "url": "https://github.com/idaholab/moose/discussions/28870#discussioncomment-11227346",
                          "updatedAt": "2024-11-12T14:27:46Z",
                          "publishedAt": "2024-11-12T14:27:45Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to change output directory?",
          "author": {
            "login": "GGNode"
          },
          "bodyText": "When I ran a Moose parallel computation on a HPC cluster, I found that the computation speed was not as fast as I thought. I think I should change the output directory because the program was trying to write input_out.e to a virtual node which was restricted by internet speed. But I cannot find any useful tips for me to change the output directory where I can place the input_out.e file. Can anyone give me some suggestions?",
          "url": "https://github.com/idaholab/moose/discussions/22986",
          "updatedAt": "2024-11-12T13:07:43Z",
          "publishedAt": "2022-12-16T06:54:37Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "maxnezdyur"
                  },
                  "bodyText": "In the output block, you can specify the location where you want to save something using file_base. For example\nfile_base = /home/location_where_i_want_my_file/name_i_want_to_give_my_file",
                  "url": "https://github.com/idaholab/moose/discussions/22986#discussioncomment-4421432",
                  "updatedAt": "2022-12-16T13:20:17Z",
                  "publishedAt": "2022-12-16T13:20:17Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "achourasia"
                          },
                          "bodyText": "Is there a way to specify only the output directory instead of full path to the output file? The idea is to keep the default output name by only specifying the output directory.",
                          "url": "https://github.com/idaholab/moose/discussions/22986#discussioncomment-8353189",
                          "updatedAt": "2024-02-03T07:37:13Z",
                          "publishedAt": "2024-02-03T07:37:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nNot that I can see in the object parameters but feel free to contribute the feature, we would accept that change\nGuillaume",
                          "url": "https://github.com/idaholab/moose/discussions/22986#discussioncomment-8355806",
                          "updatedAt": "2024-02-03T16:27:02Z",
                          "publishedAt": "2024-02-03T16:27:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yulongggggg"
                          },
                          "bodyText": "Hi Guid do we have this feature now?\nI really want to specify only the output directory instead of full path to the output file",
                          "url": "https://github.com/idaholab/moose/discussions/22986#discussioncomment-11221319",
                          "updatedAt": "2024-11-12T04:50:05Z",
                          "publishedAt": "2024-11-12T04:50:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nNo we have not, we still use the file_base for that purpose",
                          "url": "https://github.com/idaholab/moose/discussions/22986#discussioncomment-11226057",
                          "updatedAt": "2024-11-12T13:07:44Z",
                          "publishedAt": "2024-11-12T13:07:43Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GGNode"
                  },
                  "bodyText": "Thank you very much!",
                  "url": "https://github.com/idaholab/moose/discussions/22986#discussioncomment-4456395",
                  "updatedAt": "2022-12-20T09:28:56Z",
                  "publishedAt": "2022-12-20T09:28:56Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Ordering of VectorPostprocessor results in CSV file",
          "author": {
            "login": "jessecarterMOOSE"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nI have a VectorPostprocessor that declares a few vectors. Is there a way to explicitly set the order they appear in the CSV file? It looks like it is done alphabetically.",
          "url": "https://github.com/idaholab/moose/discussions/29052",
          "updatedAt": "2024-11-12T12:57:11Z",
          "publishedAt": "2024-11-12T11:47:59Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI dont think there is a way.\nYou could add that in the base class if you need it.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/29052#discussioncomment-11225910",
                  "updatedAt": "2024-11-12T12:57:11Z",
                  "publishedAt": "2024-11-12T12:57:11Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Could NOT find HDF5 (missing: HDF5_LIBRARIES HDF5_INCLUDE_DIRS   HDF5_HL_LIBRARIES C HL) (found version \"\")",
          "author": {
            "login": "nancysemwal"
          },
          "bodyText": "",
          "url": "https://github.com/idaholab/moose/discussions/29043",
          "updatedAt": "2024-11-12T11:09:35Z",
          "publishedAt": "2024-11-11T10:44:04Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nfor HDF5, if you dont have it, it should be installed by PETSc. Then you can set HDF5_DIR to the folder containing the hdf5 installation.\nIf you do have it, then set HDF5_DIR",
                  "url": "https://github.com/idaholab/moose/discussions/29043#discussioncomment-11214546",
                  "updatedAt": "2024-11-11T13:10:14Z",
                  "publishedAt": "2024-11-11T13:10:12Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "for installing Cardinal with conda, no idea but I dont think it's possible?",
                          "url": "https://github.com/idaholab/moose/discussions/29043#discussioncomment-11214551",
                          "updatedAt": "2024-11-11T13:10:39Z",
                          "publishedAt": "2024-11-11T13:10:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Entry point fixes are more than likely going to require the reinstallation of Conda. With Conda exhibiting this error, I feel we can't trust Conda to be doing the right things.\n\n\nYou have a system installation of MPI and an MPI installation from Conda (by using our packages):\n\n\n-L/usr/lib/x86_64-linux-gnu/openmpi/lib/fortran/gfortran\n/home/nancy/miniconda3/envs/moose/bin/mpicc\n\nMany odd occurrences will crop up by allowing both to exist.\n\nAre you building on a thumbstick, or external drive? I am referring to the /mnt path for Cardinal. While this is fine, it may explain why missing libraries can exist; Are you building this on one machine and bringing it to another? FYI, that won't work well. Not unless both machines are identically built.\n\nThe issues you are running into seems to me, being caused by a not-sane environment. We need to clean this up. Because you have OpenMPI installed on the system, I would refrain from using any of our Conda packages, and just stick to using apt-get to install what you need.\nIt looks like the first run of your ./diagnostics.sh was only missing F77 F90 variables:\n# get out of the moose environment\nconda deactivate\nconda activate base\n\n# set variables that the system installed version of OpenMPI is not for some reason:\nexport F77=mpif77 F90=mpif90\n./diagnostics.sh\nBecause you introduced two completely different compiler stacks into the mix, the best thing to do from here (./diagnostics.sh is passing and you are not loading the moose environment), is start completely over. The entire Cardinal build must be built using the same compiler.",
                          "url": "https://github.com/idaholab/moose/discussions/29043#discussioncomment-11214926",
                          "updatedAt": "2024-11-11T13:46:44Z",
                          "publishedAt": "2024-11-11T13:46:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Going back and reading the other post yields more concerns:\nBefore, when you had the base environment loading, there was a different Python version being made available, and further more, was not a Conda variant:\nCONDA_PREFIX=/home/nancy/miniconda3\nCONDA_PROMPT_MODIFIER=(base)\nCONDA_PYTHON_EXE=/home/nancy/miniconda3/bin/python\n\n<trimmed>\n\nPython Sanity Checks\n\n/usr/bin/env python3 --version; (reporting as: Python 3.12.3) matches\nwhich python3 python;\n\n/usr/bin/python3 --version; == Python 3.12.3\nWARNING: python; does not exist\n\nlooks like you were using system supplied Python back then\nBut now its:\nCONDA_PREFIX=/home/nancy/miniconda3\nCONDA_PROMPT_MODIFIER=(base) \nCONDA_PYTHON_EXE=/home/nancy/miniconda3/bin/python\n\n<trimmed>\n\nPython Sanity Checks\n\n/usr/bin/env python3 --version; (reporting as: Python 3.12.7) matches\nwhich python3 python;\n\n/home/nancy/miniconda3/bin/python3 --version; == Python 3.12.7\n/home/nancy/miniconda3/bin/python --version; == Python 3.12.7\n\nConda supplied Python\nSomething changed between that build, and your current one. Just listing more oddities...\nWhile not a cause for failure, it is just odd is all I am pointing out.",
                          "url": "https://github.com/idaholab/moose/discussions/29043#discussioncomment-11215008",
                          "updatedAt": "2024-11-11T13:55:37Z",
                          "publishedAt": "2024-11-11T13:54:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nancysemwal"
                          },
                          "bodyText": "Yes, you're right about the Python thing.\nInitially I was using the system supplied Python but then I changed my $PATH to pick up the /home/miniconda3/bin/python instead.\nI am indeed having a lot of inconsistencies and oddities in my setup and trying to making Cardinal work with them is causing the complexities to creep in. My reason for doing so was to not lose the progress made while building PETSc, libmesh & wasp because it took a loooong time. But I guess there's no other way.",
                          "url": "https://github.com/idaholab/moose/discussions/29043#discussioncomment-11221483",
                          "updatedAt": "2024-11-12T05:23:43Z",
                          "publishedAt": "2024-11-12T05:23:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nancysemwal"
                          },
                          "bodyText": "Are you building on a thumbstick, or external drive? I am referring to the /mnt path for Cardinal. While this is fine, it may explain why missing libraries can exist; Are you building this on one machine and bringing it to another? FYI, that won't work well. Not unless both machines are identically built.\n\nNo, I'm not building on an external drive. The /mnt path is my /dev/sdb4, a 200 GB partition that I'd created from my 1 TB HDD (but not external, internal drive only, apart from a 250 GB SDD where my /home resides.)",
                          "url": "https://github.com/idaholab/moose/discussions/29043#discussioncomment-11221524",
                          "updatedAt": "2024-11-12T05:33:11Z",
                          "publishedAt": "2024-11-12T05:33:10Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Porosity based on STATE (MaterialProperty)- cant figure out, what did i do wrong",
          "author": {
            "login": "Traiwit"
          },
          "bodyText": "Hi PorousFlow experts,\nI need help with my Porosity class (where the porosity is updated based on state value) where STATE is another MaterialProperty\nlet's look at my simple input file below\n## mpiexec -n 4 ~/moose_beh/moose_beh-opt -i groundwater_test.i --n-threads=4 --t\n\ngravity = '0 0 -9.81'\n[Mesh]\n  [basic_mesh]\n    type = GeneratedMeshGenerator\n    dim = 3\n    xmin = -200\n    xmax = 200\n    nx = 10\n    ymin = -50\n    ymax = 50\n    ny = 5\n    zmin = -200\n    zmax = -100\n    nz = 5\n  []\n\n  [block_2]\n    type = SubdomainBoundingBoxGenerator\n    input = basic_mesh\n    block_id = 2\n    block_name = lower_aquifer\n    bottom_left = '150 -50 -200'\n    top_right = '200 50 -100'\n  []\n[]\n\n[Problem]\n  type = 'FEProblem'   # (see https://mooseframework.inl.gov/source/problems/FEProblem.html)\n  \n  ### checking parameters:\n  boundary_restricted_elem_integrity_check = true   # default: true\n  boundary_restricted_node_integrity_check = true   # default: true\n  check_uo_aux_state = false                        # default: false\n  error_on_jacobian_nonzero_reallocation = false    # default: false\n  fv_bcs_integrity_check = true                     # default: true\n  kernel_coverage_check = true                      # default: true\n  material_coverage_check = true                    # default: true\n  material_dependency_check = false                  # default: true\n  skip_nl_system_check = false                      # default: false\n[]\n\n[GlobalParams]\n  PorousFlowDictator = dictator\n[]\n\n[UserObjects]\n    [dictator]\n      type = PorousFlowDictator\n      porous_flow_vars = pp\n      number_fluid_phases = 1\n      number_fluid_components = 1\n      execute_on = 'TIMESTEP_END'   # the default\n    []\n  []\n\n[Variables]\n  [pp]\n  []\n[]\n\n[ICs]\n  [pp]\n    type = FunctionIC\n    variable = pp\n    function = fcn_pwp_initialCondition\n  []\n[]\n\n[BCs]\n  [pp]\n    type = FunctionDirichletBC\n    variable = pp\n    function = fcn_pwp_initialCondition\n    boundary = 'left'\n  []\n\n  # [bc_drain]\n  #   type = PorousFlowBEH_Drainage\n  #   boundary = 'right'\n  #   variable = pp\n  #   # char_elem_length_n = charElLength_M0\n  #   fluid_phase = 0\n  #   pt_vals =     '0 1e9'\n  #   multipliers = '0 1e9'\n  #   PT_shift = 0.\n  #   flux_function = 1e-1\n  #   use_mobility = true   \n  #   use_relperm = false   \n  # []\n[]\n\n[Functions]\n  [fcn_pwp_initialCondition]\n    type = ParsedFunction\n    expression = '9810.*(-100-z)'\n  []\n[]\n\n[AuxVariables]\n  [porosity_M0]\n    type = MooseVariableConstMonomial\n  []\n[]\n\n[AuxKernels]\n  [porosity_M0]\n    type = PorousFlowPropertyAux\n    variable = porosity_M0\n    property = porosity\n    execute_on = 'INITIAL TIMESTEP_BEGIN TIMESTEP_END'\n  []\n[]\n\n\n\n[Kernels]\n    [fluid_mass_dot]\n      type = PorousFlowMassTimeDerivative\n      variable = pp\n      fluid_component = 0\n      multiply_by_density = true\n    []\n    \n    [fluid_flux_fullupwind]\n      type = PorousFlowAdvectiveFlux\n      variable = pp\n      gravity = '${gravity}'\n      fluid_component = 0\n    []\n  []\n\n[FluidProperties]\n  [simple_fluid]\n    type = SimpleFluidProperties\n    thermal_expansion = 0\n    bulk_modulus = 1e9\n    density0 = 1000\n  []\n[]\n\n[UserObjects]\n    [uobj_saturation]\n      type = PorousFlowCapillaryPressureVG\n      alpha = 1e-6\n      m = 0.6\n      log_extension = True\n      sat_lr = 0.1\n    []\n[]\n\n[Materials]\n  [mat_groundwater]\n      type = PorousFlowSingleComponentFluid\n      fp = simple_fluid\n      phase = 0\n      pressure_unit = Pa          # options: Pa (default), MPa\n      temperature_unit = Kelvin   # options: Kelvin (default), Celsius\n      time_unit = years           # options: seconds (default), hours, days, years\n      compute_density_and_viscosity = true\n  []\n  [mat_temperature]\n    type = PorousFlowTemperature\n  []\n  [mat_massfrac]\n    type = PorousFlowMassFraction\n  []\n\n  [mat_saturation]\n    type = PorousFlow1PhaseP\n    porepressure = pp\n    capillary_pressure = uobj_saturation\n  []\n  \n  [porosity_block0]\n    type = PorousFlowPorosityConst\n    porosity = 0.07\n    block = 0\n  []\n  [porosity_block2_1]\n    type = PorousFlowPorosityConst\n    porosity = 0.075\n    block = 2\n  []\n\n  # [PorousFlowPorosityFromCSV]\n  #   type = PorousFlowPorosityFromCSV\n  #   state = state\n  #   state_values =      '0    1       2    3'\n  #   poro_state_values = '0.07 0.07  0.075 0.1'\n  # []\n\n    ## specify state here\n  [state1]\n    type = GenericFunctionMaterial\n    block = 0\n    prop_names = state\n    prop_values = 1\n  [../]\n  [state2]\n    type = GenericFunctionMaterial\n    block = 2\n    prop_names = state\n    prop_values = 2\n  [../]\n\n  [biot_mod]\n    type = PorousFlowConstantBiotModulus\n    fluid_bulk_modulus = 2E9\n    biot_coefficient = 1.0\n  []\n  [permeability_aquifers]\n    type = PorousFlowPermeabilityConst\n    permeability = '1E-14 0 0 0 1E-14 0 0 0 1E-14'\n  []\n  [mat_relative_permeability]\n      type = PorousFlowRelativePermeabilityConst\n      phase = 0\n      kr = 1.0\n  []\n[]\n\n[Preconditioning]\n  [smp]\n    type = SMP\n    full = true\n  []\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = Newton\n  use_pre_SMO_residual = false\n  dt = 0.0005\n  end_time = 0.01 \n  nl_abs_tol = 1E-5\n  nl_rel_tol = 1E-20\n[]\n\n[Outputs]\n  [exodus]\n    type = Exodus\n    file_base = test_poro_change\n    output_material_properties = true\n  []\n[]\n\nso as you can see, there are 2 ways of assigning the porosity:\n\nMOOSE standard way\n\n  [porosity_block0]\n    type = PorousFlowPorosityConst\n    porosity = 0.07\n    block = 0\n  []\n  [porosity_block2_1]\n    type = PorousFlowPorosityConst\n    porosity = 0.075\n    block = 2\n  []\n\n\nfrom my class\n\n # [PorousFlowPorosityFromCSV]\n  #   type = PorousFlowPorosityFromCSV\n  #   state = state\n  #   state_values =      '0    1       2    3'\n  #   poro_state_values = '0.07 0.07  0.075 0.1'\n  # []\n\n    ## specify state here\n  [state1]\n    type = GenericFunctionMaterial\n    block = 0\n    prop_names = state\n    prop_values = 1\n  [../]\n  [state2]\n    type = GenericFunctionMaterial\n    block = 2\n    prop_names = state\n    prop_values = 2\n  [../]\n\nthe porosity showing on Paraview are exactly the same, but the pp are drastically different (only when PorousFlowMassTimeDerivative is activated)\n\npp with assign porosity from MOOSE default method\n\nPP when assign porosity from my class\n\nand below is my class .C\ni couldnt figure out, what did i do wrong? also you can see the density are a lil bit different too\n//* This file is part of the MOOSE framework\n//* https://www.mooseframework.org\n//*\n//* All rights reserved, see COPYRIGHT for full restrictions\n//* https://github.com/idaholab/moose/blob/master/COPYRIGHT\n//*\n//* Licensed under LGPL 2.1, please see LICENSE for details\n//* https://www.gnu.org/licenses/lgpl-2.1.html\n\n#include \"PorousFlowPorosityFromCSV.h\"\n\nregisterMooseObject(\"moose_behApp\", PorousFlowPorosityFromCSV);\n\nInputParameters\nPorousFlowPorosityFromCSV::validParams()\n{\n  InputParameters params = PorousFlowPorosityBase::validParams();\n  params.addParam<UserObjectName>(\"read_prop_user_object\",\n                                  \"The ElementReadPropertyFile GeneralUserObject to read element-specific property values from file\");\n  params.addClassDescription(\"This Material calculates the porosity assuming it is constant\");\n  params.addParam<MaterialPropertyName>(\"state\", 0, \"state\");\n  params.addParam<std::vector<int>>(\"state_values\", std::vector<int>(), \"List of state values\");\n  params.addParam<std::vector<Real>>(\"poro_state_values\", std::vector<Real>(), \"List of porosity values corresponding to the state values\");\n  return params;\n}\n\nPorousFlowPorosityFromCSV::PorousFlowPorosityFromCSV(const InputParameters & parameters)\n  : PorousFlowPorosityBase(parameters),\n    _read_prop_user_object(isParamValid(\"read_prop_user_object\")\n                               ? &getUserObject<ElementPropertyReadFile>(\"read_prop_user_object\")\n                               : nullptr),\n    _state(getMaterialProperty<Real>(\"state\")),\n    _stateValues(getParam<std::vector<int>>(\"state_values\")),\n    _poroStateValues(getParam<std::vector<Real>>(\"poro_state_values\"))\n{\n    // Ensure the state and poro_state vectors are of the same size\n    if (_stateValues.size() != _poroStateValues.size()) {\n        mooseError(\"state_values and poro_state_values must have the same length\");\n    }\n\n    // Populate the state to porosity map\n    for (size_t i = 0; i < _stateValues.size(); ++i) {\n        _stateToPoroMap[_stateValues[i]] = _poroStateValues[i];\n    }\n}\n\nvoid\nPorousFlowPorosityFromCSV::initQpStatefulProperties()\n{\n  // Calculate Porosity\n  if (_stateToPoroMap.find(_state[_qp]) != _stateToPoroMap.end()) {\n    // If the state exists in the map, use the corresponding porosity value\n    Real poroValue = _stateToPoroMap[_state[_qp]];\n    _porosity[_qp] = poroValue;\n  } else {\n    if (_read_prop_user_object) {\n      _porosity[_qp] = _read_prop_user_object->getData(_current_elem, 0);\n    } else {\n      mooseWarning(\"No user object specified for reading property values, and state value not found in the map. Porosity will remain undefined.\");\n    }\n  }\n}\n\nvoid\nPorousFlowPorosityFromCSV::computeQpProperties()\n{\n  initQpStatefulProperties();\n\n    // The derivatives are zero for all time\n    (*_dporosity_dvar)[_qp].assign(_num_var, 0.0);\n    (*_dporosity_dgradvar)[_qp].assign(_num_var, RealGradient());\n}\n\n\nthank you!\nHi @cpgr I tag you since you are the expert here \ud83e\udd47\nquick note:\nit seems that the problem only occurs when i assign porosity based on state (like below)\nstate_values =      '0    1       2    3'\nporo_state_values = '0.07 0.07  0.075 0.1'\nvaried spatial porosity from .csv file does not give this weird pp/results",
          "url": "https://github.com/idaholab/moose/discussions/29041",
          "updatedAt": "2024-11-13T01:58:28Z",
          "publishedAt": "2024-11-11T06:11:29Z",
          "category": {
            "name": "Q&A Modules: Porous Flow"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Traiwit"
                  },
                  "bodyText": "interesting finding\nso i let it run a bit, the pp seems to go back to where it should be\n\n\nnot even sure why, since\nstate_values = '0 1 2 3'\nporo_state_values = '0.07 0.07 0.075 0.1'\nare assigned since INITIAL similar to MOOSE default way",
                  "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11211139",
                  "updatedAt": "2024-11-11T06:50:04Z",
                  "publishedAt": "2024-11-11T06:50:03Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "hello\nif you output porosity using the outputs parameter of the material, do you see the profile you expect when using your material?\nBe careful with this\n  if (_stateToPoroMap.find(_state[_qp]) != _stateToPoroMap.end()) {\n\nyou are converting state, a field of Real, to an int (depending on the type of _stateToPoroMap maybe implicitly). It's probably working here with integers though since you are not getting the warning and also double = (Real) represents ints exactly.\nOtherwise since the results eventually agree, it must stem from your use of initQpStatefulProperties to computeQpProperties.\nIf you set the code directly in computeQpProperties, does the result improve?\nBy using initQpStatefulProperties the material is now considered to have a state, e.g. to depend on its previous values for its current values.\nThis material seems stateful when state is such that on some time steps you find a value, and afterwards you have steps where a value is not found and you only get the warning.",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11214736",
                          "updatedAt": "2024-11-11T13:29:01Z",
                          "publishedAt": "2024-11-11T13:29:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @GiudGiud\nThe porosity output looks good to me (as expecte for all cases)\nI will check the difference when i moved stuff from initQpStatefulProperties to computeQpProperties\nI didnt know about this before\n\nBy using initQpStatefulProperties the material is now considered to have a state, e.g. to depend on its previous values for its current values.\n\nalso I did have a quick fixed when i modified PorousFlowMassTimeDerivative\nReal\nPorousFlowMassTimeDerivative::computeQpResidual()\n{\n  Real mass = 0.0;\n  Real mass_old = 0.0;\n  for (unsigned ph = 0; ph < _num_phases; ++ph)\n  {\n    const Real dens = (_multiply_by_density ? (*_fluid_density)[_i][ph] : 1.0);\n    mass += dens * _fluid_saturation_nodal[_i][ph] * _mass_frac[_i][ph][_fluid_component];\n    const Real dens_old = (_multiply_by_density ? (*_fluid_density_old)[_i][ph] : 1.0);\n    mass_old +=\n        dens_old * _fluid_saturation_nodal_old[_i][ph] * _mass_frac_old[_i][ph][_fluid_component];\n  }\n  const Real strain = (_has_total_strain ? (*_total_strain_old)[_qp].trace() : 0.0);\n\n## Original\n # return _test[_i][_qp] * (1.0 + strain) * (_porosity[_i] * mass - _porosity_old[_i] * mass_old) /\n #        _dt;\n\n## change  _porosity_old[_i]  to  _porosity[_i] \n return _test[_i][_qp] * (1.0 + strain) * (_porosity[_i] * mass - _porosity[_i] * mass_old) /\n         _dt;  \n}\n\nit kinda works, I tested it with:\n\nMOOSE way of assign porosity + original PorousFlowMassTimeDerivative\nMOOSE way of assign porosity + modified PorousFlowMassTimeDerivative\nmy class + modified PorousFlowMassTimeDerivative\n\nThey all give the same results from node-to-node comparison\nnote: I haven't tested it with the case when i change porosity between time_step yet",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11219576",
                          "updatedAt": "2024-11-11T23:06:12Z",
                          "publishedAt": "2024-11-11T23:06:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "this line was coding the backwards Euler time integration. So using porosity_old was correct imo. However, porosity_old might have had the wrong value. In which case this expression was not working for you.",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11219739",
                          "updatedAt": "2024-11-11T23:42:34Z",
                          "publishedAt": "2024-11-11T23:42:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "dumb question: how do I then make sure that porosity_old that is produced from my class is correct?",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11219758",
                          "updatedAt": "2024-11-11T23:46:30Z",
                          "publishedAt": "2024-11-11T23:46:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You could output it\nWe d need to modify https://mooseframework.inl.gov/source/auxkernels/MaterialRealAux.html to output old and older properties.",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11219774",
                          "updatedAt": "2024-11-11T23:49:54Z",
                          "publishedAt": "2024-11-11T23:49:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cpgr"
                          },
                          "bodyText": "Might be worth making a 1 element model and just printing the values to the console to make sure everything is being initialised correctly",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11219954",
                          "updatedAt": "2024-11-12T00:27:22Z",
                          "publishedAt": "2024-11-12T00:27:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi guys,\nyeh, now i can see something isnt right\nfor the context, i run 1 step simulation with\n  [PorousFlowPorosityFromCSV]\n    type = PorousFlowPorosityFromCSV\n    state = state\n    state_values =      '0    1     2    3'\n    poro_state_values = '0.07 0.07  0.071 0.1'\n  []\n\nin theory, _porosity_old and _porosity should be exactly the same\n(moose default method gives the same values for _porosity_old and _porosity)\n_porosity_old: 0.071\n_porosity: 0.07\nmass_old: 1000\nmass: 1011.45\n\n_porosity_old: 0.071\n_porosity: 0.07\nmass_old: 1000\nmass: 1011.45\n\n_porosity_old: 0.071\n_porosity: 0.07\nmass_old: 1000\nmass: 1011.45\n\n_porosity_old: 0.071\n_porosity: 0.07\nmass_old: 1000\nmass: 1011.45\n\n_porosity_old: 0.071\n_porosity: 0.07\nmass_old: 1000\nmass: 1011.45\n\nquestion now would be: can i control _porosity_old from my class?\nor i have to make another material property and name it _porosity_old ? and call it differently from the original PorousFlowMassTimeDerivative's way\n_porosity_old(getMaterialPropertyOld<Real>(\"PorousFlow_porosity_nodal\")),",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11220055",
                          "updatedAt": "2024-11-12T00:45:22Z",
                          "publishedAt": "2024-11-12T00:45:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @cpgr\nI think I might have found a bug (or maybe it's just a misunderstanding on my part) with how MOOSE assigns porosity.\nIf I set porosity to vary over time using [Controls], the porosity_nodal seems to stay constant.\nfor example:\n  [porosity_block0]\n    type = PorousFlowPorosityConst\n    porosity = 0.07\n    block = 0\n  []\n  [porosity_block2_1]\n    type = PorousFlowPorosityConst\n    porosity = 0.071\n    block = 2\n  []\n  [porosity_block2_2]\n    type = PorousFlowPorosityConst\n    porosity = 0.85\n    block = 2\n    enable = false\n  []\n  [porosity_block2_3]\n    type = PorousFlowPorosityConst\n    porosity = 1\n    block = 2\n    enable = false\n  []\n\n[Controls]\n  [control_1]\n    type = ConditionalFunctionEnableControl\n    conditional_function = 'if(t > 0.0005 & t<=0.001 ,1,0)'\n    enable_objects = 'Materials::porosity_block2_2'\n    disable_objects = 'Materials::porosity_block2_1'\n    execute_on = 'INITIAL TIMESTEP_BEGIN TIMESTEP_END'\n  [../]\n  [control_2]\n    type = ConditionalFunctionEnableControl\n    conditional_function = 'if(t>0.001,1,0)'\n    enable_objects = 'Materials::porosity_block2_3'\n    disable_objects = 'Materials::porosity_block2_2'\n    execute_on = 'INITIAL TIMESTEP_BEGIN TIMESTEP_END'\n  [../]\n[]\n\nfrom paraview I can see, porosity_qp has change but porosity_nodal remains the same, and PorousFlowMassTimeDerivative takes nodal value not qp",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11220183",
                          "updatedAt": "2024-11-12T01:08:51Z",
                          "publishedAt": "2024-11-12T01:08:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cpgr"
                          },
                          "bodyText": "I prefer 'feature' rather than bug \ud83d\ude06\nPorosity is a tricky material as we typically need it at nodes and ups, so it gets added twice. In your control example, you aren't switching the nodal porosity materials that get added in the background - these should be called 'porosity_block2_1_nodal' etc, (all your porosity materials with a  _nodal appended to the end). I imagine that if you add these to the control block that it will work.\nI have been thinking of your problem and believe it would be better to make an AuxVariable porosity that gets set based on a state AuxVariable. You can probably achieve what you want using a FunctionAux with a PiecewiseConstant function? The advantage of this is that the porosity AuxVariable can be used with the existing PorousFlowPorosityConst material to provide a spatially heterogeneous porosity based on the state variable.",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11220865",
                          "updatedAt": "2024-11-12T03:12:15Z",
                          "publishedAt": "2024-11-12T03:12:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cpgr"
                          },
                          "bodyText": "In regards to the error when using your material, there must be a logic issue in there somewhere as it looks like the old value is getting set to the state + 1 value?",
                          "url": "https://github.com/idaholab/moose/discussions/29041#discussioncomment-11220875",
                          "updatedAt": "2024-11-12T03:14:53Z",
                          "publishedAt": "2024-11-12T03:14:53Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to use MOOSE to generate a layered square with circular void in the middle?",
          "author": {
            "login": "Yulongggggg"
          },
          "bodyText": "Dear developers, I am trying to use MOOSE to generate a mesh, which is a square with a circular void inside, can u tell me how to do it? Also, the square should be layered, i.e., composed of different blocks(rectangle shape), and how to assign different boundary names (apply to the boundary condition block. e.g., 'inner')",
          "url": "https://github.com/idaholab/moose/discussions/29045",
          "updatedAt": "2024-11-11T15:10:30Z",
          "publishedAt": "2024-11-11T14:54:07Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "I am trying to use MOOSE to generate a mesh, which is a square with a circular void inside, can u tell me how to do it?\n\nYou can use this from the Reactor module\nhttps://mooseframework.inl.gov/source/meshgenerators/PinMeshGenerator.html\nor this\nhttps://mooseframework.inl.gov/source/meshgenerators/ConcentricCircleMeshGenerator.html\nwith has_outer_square set to true\nthen delete the central cirlcle using a BlockDeletionGenerator\n\nand how to assign different boundary names (apply to the boundary condition block. e.g., 'inner')\n\nOnce the blocks are set you can use this\nhttps://mooseframework.inl.gov/source/meshgenerators/SideSetsBetweenSubdomainsGenerator.html",
                  "url": "https://github.com/idaholab/moose/discussions/29045#discussioncomment-11215738",
                  "updatedAt": "2024-11-11T14:58:40Z",
                  "publishedAt": "2024-11-11T14:58:38Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Yulongggggg"
                          },
                          "bodyText": "Thank you! Could you please tell me how to generate a layered square mesh with inclusion inside? Which looks like this",
                          "url": "https://github.com/idaholab/moose/discussions/29045#discussioncomment-11215829",
                          "updatedAt": "2024-11-11T15:06:20Z",
                          "publishedAt": "2024-11-11T15:06:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "with the mesh generators I mentioned you should get a good start.\nYou can add subdomains 1 by 1 using this generator\nhttps://mooseframework.inl.gov/source/meshgenerators/ParsedSubdomainMeshGenerator.html\nhow many layered subdomains do you need?",
                          "url": "https://github.com/idaholab/moose/discussions/29045#discussioncomment-11215876",
                          "updatedAt": "2024-11-11T15:10:31Z",
                          "publishedAt": "2024-11-11T15:10:30Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "how to apply phase field to different subdomain?",
          "author": {
            "login": "RWTHLHK"
          },
          "bodyText": "It is very time consuming to apply phase field on an entire 3D mesh, so I only want to apply phase field to a small subdomain(block 1). But I always get material property not defined error. I know this is because I am not defining material property on different blocks in a correct way but I don't know how to fix this. Can some expert please have a look at my  inp file?\nnew block 1:\n\nkernels:\n\nmaterials:\n\nThe error I get:",
          "url": "https://github.com/idaholab/moose/discussions/29042",
          "updatedAt": "2024-11-11T13:15:00Z",
          "publishedAt": "2024-11-11T10:39:51Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nUse Debug/show_material_props=true to get the names of the material properties to match up between the two equations. What is happening is that half your material properties are prefaced with uncracked which is set in cracked_stress while the rest is not prefaced, and the equations are not set consistently with one or the other. Did you block restrict the SolidMechanics physics?",
                  "url": "https://github.com/idaholab/moose/discussions/29042#discussioncomment-11214600",
                  "updatedAt": "2024-11-11T13:15:00Z",
                  "publishedAt": "2024-11-11T13:14:59Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "PTScotch needs flex installed error while installing Cardinal",
          "author": {
            "login": "nancysemwal"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n I have consulted the Posting Guidelines.\n I have searched the Discussions Forum and MOOSE Framework Troubleshooting and have not found what I was looking for\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n\nIssue or question about MOOSE\nHello everyone.\nI am installing Cardinal on my PC using this \"Building Cardinal without MOOSE's conda Environment\" guide.\nBefore installing Cardinal, I had already installed MOOSE using conda  because I didn't know that Cardinal could manage its dependencies itself. I can access this MOOSE installation using conda activate moose. However, while installing Cardinal, I am not in this environment. I am in the base environment only. So I think I'm on the right path.\nHowever when executing ./contrib/moose/scripts/update_and_rebuild_petsc.sh command I am getting the following error:\nUNABLE to CONFIGURE with GIVEN OPTIONS (see configure.log for details):- PTScotch needs flex installed\nI have already searched this forum and found Questions when building Cardinal without MOOSE's conda environment #27115 which talked about deinit and rinit using git submodule update --init --recursive moose command (This didn't work for me) and Error when installing PETSc and libMesh #27184 but here the issue was with METIS and not flex so I didn't try the solutions. So I'm making a new thread.\nOne thing to note is that I am not doing the installation in my HOME directory but rather in some other directory. I believe that's not a problem as long as I specify the correct paths.\nChanges made in my .bashrc -\nexport NEKRS_HOME=/mnt/faa6b7ba-bc59-4346-b975-2b5cd78afa12/cardinal/install\nexport CC=mpicc\nexport CXX=mpicxx\nexport FC=mpif90\nHere I have omitted one command which is suggested as OPTIONAL in the tutorial\nexport OPENMC_CROSS_SECTIONS=${HOME}/cross_sections/endfb-vii.1-hdf5/cross_sections.xml\nThat's because I am not installing in HOME, and when I checked the path where I am installing (/mnt/faa6b7ba-bc59-4346-b975-2b5cd78afa12/), there is no folder named cross_sections. Could this be the cause of my issue?\nI also checked my configure.log file and saw something which seems amiss to me.\nConfigure Options: --with-hdf5-dir=/home/nancy/.local/share/Trash/files/anaconda2/pkgs/hdf5-1.10.2-hba1933b_1/include/hdf5.h/../../ \nWhy is the HDF5 package being picked up from a trash directory ? I am assuming this is somehow responsible for the issue.\nI feel like I have tried everything that I could. What more can be done?\nDetails:\nOS - Ubuntu 24.04.1 LTS (Installed about 2 months ago)\nCmake - 3.28.4\nGCC - 13.2.0\nG++ - 13.2.0\nGFortran - 13.2.0\nGit - 2.43.0\nConda - 24.9.1\nEncountering Errors? Please include diagnostic output\nInfluential Environment Variables\nCC=mpicc\nCONDA_CHANNEL=https://conda.software.inl.gov/public\nCONDA_DEFAULT_ENV=base\nCONDA_EXE=/home/nancy/miniconda3/bin/conda\nCONDA_PREFIX=/home/nancy/miniconda3\nCONDA_PROMPT_MODIFIER=(base)\nCONDA_PYTHON_EXE=/home/nancy/miniconda3/bin/python\nCONDA_SHLVL=1\nCURL_CA_BUNDLE=\nCXX=mpicxx\nFC=mpif90\nLD_LIBRARY_PATH=/usr/local/cuda-11.8/lib64 MOOSE_JOBS=6 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin REQUESTS_CA_BUNDLE= SSL_CERT_FILE= Compiler(s) (CC CXX FC F77 F90):`\nwhich $CC; /usr/bin/mpicc\n$CC --version; gcc (Ubuntu 13.2.0-23ubuntu4) 13.2.0\n$CC -show; gcc -I/usr/lib/x86_64-linux-gnu/openmpi/include -I/usr/lib/x86_64-linux-gnu/openmpi/include/openmpi -L/usr/lib/x86_64-linux-gnu/openmpi/lib -lmpi\nwhich $CXX; /usr/bin/mpicxx\n$CXX --version; g++ (Ubuntu 13.2.0-23ubuntu4) 13.2.0\n$CXX -show; g++ -I/usr/lib/x86_64-linux-gnu/openmpi/include -I/usr/lib/x86_64-linux-gnu/openmpi/include/openmpi -L/usr/lib/x86_64-linux-gnu/openmpi/lib -lmpi_cxx -lmpi\nwhich $FC; /usr/bin/mpif90\n$FC --version; GNU Fortran (Ubuntu 13.2.0-23ubuntu4) 13.2.0\n$FC -show; gfortran -I/usr/lib/x86_64-linux-gnu/openmpi/lib/../../fortran/gfortran-mod-15/openmpi -I/usr/lib/x86_64-linux-gnu/openmpi/lib -L/usr/lib/x86_64-linux-gnu/openmpi/lib/fortran/gfortran -lmpi_usempif08 -lmpi_usempi_ignore_tkr -lmpi_mpifh -lmpi -lopen-rte -lopen-pal -lhwloc -levent_core -levent_pthreads -lm -lz\nF77\tnot set\nF90\tnot set\nFAIL: One or more compiler environment variables not set, or set incorrectly\nPython Sanity Checks\n/usr/bin/env python3 --version; (reporting as: Python 3.12.3) matches\nwhich python3 python;\n/usr/bin/python3 --version; == Python 3.12.3\nWARNING: python; does not exist\nOK\nPython Modules (TestHarness, run-ability)\nFAIL:    missing module(s): packaging \nEither install the above packages, or perhaps you have yet to activate the moose environment: conda activate moose\nMissing 'failing' Python modules will prevent you from building MOOSE.\nFAIL: One or more Python issues present.\nMOOSE Repository/Conda Version Checks\nWARNING: Unable to run Conda tests due to missing Python modules\nchecks FAILED",
          "url": "https://github.com/idaholab/moose/discussions/29017",
          "updatedAt": "2024-11-11T10:47:53Z",
          "publishedAt": "2024-11-06T12:19:57Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "The path forward here is to install flex.\nIt should just be sudo apt-get install flex\n\nthere is no folder named cross_sections. Could this be the cause of my issue?\n\nNo this wont cause issues for installation. You ll need cross sections to run openmc later though\n\nWhy is the HDF5 package being picked up from a trash directory\n\nDo you have it installed elsewhere?",
                  "url": "https://github.com/idaholab/moose/discussions/29017#discussioncomment-11166697",
                  "updatedAt": "2024-11-06T13:18:13Z",
                  "publishedAt": "2024-11-06T13:18:13Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "It is because we add an inclusive path to ~/.local. ref: \n  \n    \n      moose/scripts/configure_petsc.sh\n    \n    \n         Line 52\n      in\n      facbaef\n    \n  \n  \n    \n\n        \n          \n           HDF5_PATHS=/usr/lib/hdf5:/usr/local/hdf5:/usr/share/hdf5:/usr/local/hdf5/share:/opt/hdf5:$HOME/.local \n        \n    \n  \n\n\n@cticenhour and I spoke about possibly refining the path to be not so broad.",
                          "url": "https://github.com/idaholab/moose/discussions/29017#discussioncomment-11167129",
                          "updatedAt": "2024-11-06T14:01:25Z",
                          "publishedAt": "2024-11-06T14:01:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nancysemwal"
                          },
                          "bodyText": "I installed flex using sudo apt-get install flex and also deleted the trash folder from where the HDF5 package was getting picked. After this, there was no problem in building the 3 dependencies. But I am now stuck in a new problem which again involves HDF5, detailed here.",
                          "url": "https://github.com/idaholab/moose/discussions/29017#discussioncomment-11213212",
                          "updatedAt": "2024-11-11T10:45:26Z",
                          "publishedAt": "2024-11-11T10:44:23Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}