{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0xMC0xMlQyMDowMDozNC0wNjowMM4ATFEA"
    },
    "edges": [
      {
        "node": {
          "title": "Paraview Installed but Conda Cannot Find It",
          "author": {
            "login": "ParadoxPrism117"
          },
          "bodyText": "I have been trying to visualize the results from a simulation I ran using Paraview but I cannot get the software to run. I followed the steps on conda-forge. https://github.com/conda-forge/paraview-feedstock\nHowever, when I went to install it, it replied \"# All requested packages already installed\". I checked \"conda list\" and it was listed in the environment but when I tried to activate it using \"conda activate paraview\" it could not find the conda environment.\nIt sounds like it IS installed, but it cannot find it?",
          "url": "https://github.com/idaholab/moose/discussions/28628",
          "updatedAt": "2024-10-17T01:27:12Z",
          "publishedAt": "2024-09-16T13:21:13Z",
          "category": {
            "name": "Q&A Tools"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "hello\nwhat does which paraview return in the command line?\nDid you create a separate environment for paraview? Or did you simply install it in your current one?",
                  "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10659787",
                  "updatedAt": "2024-09-16T13:26:46Z",
                  "publishedAt": "2024-09-16T13:26:45Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "it returns\n/home/user/miniforge/bin/paraview\nIt shouldn't be in a special environment, or at least I didn't intend it to be in one.",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10660113",
                          "updatedAt": "2024-09-16T13:53:48Z",
                          "publishedAt": "2024-09-16T13:53:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "can you just type paraview in the console to run it then?",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10660223",
                          "updatedAt": "2024-09-16T14:03:16Z",
                          "publishedAt": "2024-09-16T14:03:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "Response: \"Segmentation fault (core dumped)\"",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10660239",
                          "updatedAt": "2024-09-16T14:04:30Z",
                          "publishedAt": "2024-09-16T14:04:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "So it is installed it just does not run.\nThe conda install of paraview is likely going to be difficult to debug.\nI recommand you re install from the online binaries\nhttps://www.paraview.org/download/",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10660291",
                          "updatedAt": "2024-09-16T14:09:32Z",
                          "publishedAt": "2024-09-16T14:09:32Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "This usually indicates you're missing core OS dependencies (like mesa, nvidia, etc).\nWhat happens if you instruct your system to install paraview using it's package manager (like apt-get install paraview)? If thats a possibility, this will usually bring in those necessary dependencies that Conda can't satisfy. You don't have to install paraview in this way if you don't want to (answer \"no\"). Just by virtue of the install attempt, it'll list whats missing and give an idea whats required.",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10660358",
                          "updatedAt": "2024-09-16T14:13:32Z",
                          "publishedAt": "2024-09-16T14:13:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "This usually indicates you're missing core OS dependencies (like mesa, nvidia, etc).\nWhat happens if you instruct your system to install paraview using it's package manager (like apt-get install paraview)? If thats a possibility, this will usually bring in those necessary dependencies that Conda can't satisfy. You don't have to install paraview in this way if you don't want to (answer \"no\"). Just by virtue of the install attempt, it'll list whats missing and give an idea whats required.\n\nResponse to \"apt-get install paraview\":\nE: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)\nE: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10660465",
                          "updatedAt": "2024-09-16T14:23:09Z",
                          "publishedAt": "2024-09-16T14:23:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "So it is installed it just does not run. The conda install of paraview is likely going to be difficult to debug. I recommand you re install from the online binaries https://www.paraview.org/download/\n\nI downloaded the tar.gz folder but I don't see any kind of configure or make file to actually install paraview",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10660510",
                          "updatedAt": "2024-09-16T14:26:49Z",
                          "publishedAt": "2024-09-16T14:26:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "should just be some clicking with those files. no make or configure",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10660529",
                          "updatedAt": "2024-09-16T14:28:31Z",
                          "publishedAt": "2024-09-16T14:28:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "So did the download package work from www.paraview.org? That is odd in my opinion, as Conda installs the very same \"binary only, no need to configure or compile\".\nI would assume the same errors would occur due to missing system dependencies with the downloaded tarball from www.paraview.org (the tarball would not install mesa, nvidia, etc).\nBut I see you selected that as the appropriate solution.\nEdit:\nAlso, the error you received with apt-get was because you need to use sudo in order to run it. But if everything is working, no need to run this command anymore!",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10660965",
                          "updatedAt": "2024-09-16T15:10:54Z",
                          "publishedAt": "2024-09-16T15:09:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jackeggemeyer"
                          },
                          "bodyText": "I am running into the same issue, if you go into the paraview folder you can launch it with no issues. Just hit the thing with the same logo as the -opt files. How can I force conda to be aware of the install so I can use the terminal?",
                          "url": "https://github.com/idaholab/moose/discussions/28628#discussioncomment-10964788",
                          "updatedAt": "2024-10-16T22:03:10Z",
                          "publishedAt": "2024-10-16T22:02:46Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Is there a PostProcessor/Output object that can show a variable value along a boundary?",
          "author": {
            "login": "richmondodufisan"
          },
          "bodyText": "Hi,\nI have a problem with a periodic solution.\n\nWhen I get the simulation output, my current workflow is to take the exodus file to paraview and draw a line over the mesh to get a plot of the result, which is harmonic, and then fit it to a decaying sine function to get the properties I need. I would like to automate this process as I want to run this simulation several times for various material properties.\nIs there a postprocessor object that can output the results along a boundary in excel? I browsed through the postprocessor list and I'm not sure I could find one. The only option I could think of is to use PointValue, but that would require selecting hundreds of points to keep the resolution of the sine wave good. Is there any other option for doing this?",
          "url": "https://github.com/idaholab/moose/discussions/27232",
          "updatedAt": "2024-10-16T23:54:45Z",
          "publishedAt": "2024-03-29T05:44:29Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou could specify a line along the boundary if it is straight\nhttps://mooseframework.inl.gov/source/vectorpostprocessors/LineValueSampler.html\nthis can also work\nhttps://mooseframework.inl.gov/source/vectorpostprocessors/PositionsFunctorValueSampler.html\nbut you ll need to create a Positions object for the boundary. I d like that in MOOSE btw\nIf not you could make a new one, a BoundaryValueSampler",
                  "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-8951743",
                  "updatedAt": "2024-03-29T13:26:07Z",
                  "publishedAt": "2024-03-29T13:26:06Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "This should work, thanks!!",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-8962246",
                          "updatedAt": "2024-03-31T00:35:07Z",
                          "publishedAt": "2024-03-31T00:35:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "I liked LineValueSampler, but when I switched to a quasistatic simulation and added the 'execute_on' command (set it to final), it didn't listen and instead returned empty csv files for every timestep. I then manually set it to the default, i.e 'timestep_end' and it still returned empty csv files. I tried supplying 'timestep_end' and 'final' with and without quotes.\nOnly after I took out 'execute_on' and let it do the default by itself (timestep_end), did it start printing out values again. How can I fix this?",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-10675714",
                          "updatedAt": "2024-09-17T23:21:12Z",
                          "publishedAt": "2024-09-17T23:21:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This does not seem right. Could you make a minimal example of this?",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-10675793",
                          "updatedAt": "2024-09-17T23:42:09Z",
                          "publishedAt": "2024-09-17T23:42:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Yes, sure:\nhttps://github.com/richmondodufisan/purple/blob/main/Cornea_Hyperelastic_NeoHookean/linevaluenotworking.i\nThat's a minimal example where I used 'final' and it returned an empty csv file. If I took that option out completely and let it use the default, it returned the line value sample at every timestep (timestep_end)\nThe minimal example only uses MOOSE kernels and I used GeneratedMeshGenerator so you can download and run easily",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-10686754",
                          "updatedAt": "2024-09-18T22:48:27Z",
                          "publishedAt": "2024-09-18T22:48:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok this is semi-expected. you need to add the FINAL execute_on to the CSV output to get a result\n  [csv]\n    type = CSV\n    execute_on = FINAL\n  []\n\nI ll add a little check / warning. seems like a gotcha right now",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-10687117",
                          "updatedAt": "2024-09-19T00:15:43Z",
                          "publishedAt": "2024-09-19T00:15:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "And this should be in the output block? does that set it globally then? like for example if I have a VectorPostProcessor that I want only at the final timestep but I have a PostProcessor that I want at every timestep, how do I do that then?",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-10687151",
                          "updatedAt": "2024-09-19T00:24:21Z",
                          "publishedAt": "2024-09-19T00:24:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You would have to have multiple CSV outputs objects. Or have multiple flags on one\nCSV output does not happen unless the flag is present in the outputs block",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-10687200",
                          "updatedAt": "2024-09-19T00:40:20Z",
                          "publishedAt": "2024-09-19T00:40:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "It does have a global effect, in that it affects all the VPPs.",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-10687201",
                          "updatedAt": "2024-09-19T00:40:54Z",
                          "publishedAt": "2024-09-19T00:40:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "I'm sorry I am a bit confused by what you mean. As an example, say I have:\n[Postprocessors]\n  [displace_y_real]\n    type = PointValue\n    variable = disp_y_real\n    point = '0.002 0.001 0'\n  []\n  \n  [displace_y_imag]\n    type = PointValue\n    variable = disp_y_imag\n    point = '0.002 0.001 0'\n  []\n[]\n\n[VectorPostprocessors]\n  [wave_profile]\n    type = LineValueSampler\n    variable = disp_y\n    start_point = '0.002 ${mid_height} 0'\n    end_point = '${fparse l_plate - 0.002} ${mid_height} 0'\n    num_points = ${number_of_points}\n    sort_by = x\n    execute_on = final\n  []\n[]\n\nIf I understand correctly, I need to do:\n[Outputs]\n  print_linear_residuals = false\n  [csv]\n    type = CSV\n    execute_on = FINAL\n  []\n  exodus = true\n  [pgraph]\n    type = PerfGraphOutput\n    execute_on = 'final'  # Default is \"final\"\n    level = 1             # Default is 1\n  []\n[]\n\nfor the VectorPostProcessor to work, right? What about the PostProcessor?",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-10687236",
                          "updatedAt": "2024-09-19T00:50:26Z",
                          "publishedAt": "2024-09-19T00:49:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "postprocessor will only output on final if you do this\nyou could do this\n[Outputs]\n  print_linear_residuals = false\n  [csv]\n    type = CSV\n    execute_on = 'TIMESTEP_END FINAL'\n  []",
                          "url": "https://github.com/idaholab/moose/discussions/27232#discussioncomment-10687487",
                          "updatedAt": "2024-09-19T01:45:21Z",
                          "publishedAt": "2024-09-19T01:45:19Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Multiapp and changing subdomain ID",
          "author": {
            "login": "Wendy-Ji"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHello,\nI am getting a segmentation fault for a particular case of changing the subdomain ID of elements in a multiapp.\nThe example I put below has two subdomains (1 and 2), and an empty subdomain (3). The elements in subdomain 2 change to subdomain 3, and the variable $\\phi$ is defined over subdomains 1 and 2.\nWhen I run just this scenario, i.e. the subapp code, the simulation runs fine.\nWhen I run the same scenario in a multiapp, i.e. the master and subapp code below, with the variable $\\phi$ transferring from the subapp to the master, then a segmentation fault occurs in the master app when the elements change subdomain ID.\nThis multi-app setup works fine for other cases of changing subdomain ID, so I'm not sure what's wrong here.\nSubapp:\n[Problem]\n  solve = false\n[]\n\n[Mesh]\n  [gen]\n    type = GeneratedMeshGenerator\n    dim = 2\n    nx = 2\n    ny = 2\n  []\n  [left]\n    type = SubdomainBoundingBoxGenerator\n    input = 'gen'\n    block_id = 1\n    bottom_left = '0 0 0'\n    top_right = '0.5 1 1'\n  []\n  [right]\n    type = SubdomainBoundingBoxGenerator\n    input = 'left'\n    block_id = 2\n    bottom_left = '0.5 0 0'\n    top_right = '1 1 1'\n  []\n  add_subdomain_ids = 3\n[]\n\n[Variables]\n  [phi]\n    block = '1 2'\n  []\n[]\n\n[MeshModifiers]\n  [deact]\n    type = TimedSubdomainModifier\n    times = '1'\n    blocks_from = '2'\n    blocks_to = '3'\n    execute_on = 'INITIAL TIMESTEP_BEGIN'\n  []\n[]\n\n[Executioner]\n  type = Transient\n  dt = 0.5\n  num_steps = 3\n[]\n\nMaster app:\n[Problem]\n  solve = false\n[]\n\n[Mesh]\n  [gen]\n    type = GeneratedMeshGenerator\n    dim = 2\n    nx = 2\n    ny = 2\n  []\n  [left]\n    type = SubdomainBoundingBoxGenerator\n    input = 'gen'\n    block_id = 1\n    bottom_left = '0 0 0'\n    top_right = '0.5 1 1'\n  []\n  [right]\n    type = SubdomainBoundingBoxGenerator\n    input = 'left'\n    block_id = 2\n    bottom_left = '0.5 0 0'\n    top_right = '1 1 1'\n  []\n  add_subdomain_ids = 3\n[]\n\n[AuxVariables]\n  [phi_aux]\n    block = '1 2'\n  []\n[]\n\n[MeshModifiers]\n  [deact]\n    type = TimedSubdomainModifier\n    times = '1'\n    blocks_from = '2'\n    blocks_to = '3'\n    execute_on = 'INITIAL TIMESTEP_BEGIN'\n  []\n[]\n\n[Executioner]\n  type = Transient\n  dt = 0.5\n  num_steps = 3\n[]\n\n[MultiApps]\n  [multiapp]\n    type = TransientMultiApp\n    positions = '0.0 0.0 0.0'\n    input_files = 'subapp.i'\n  []\n[]\n\n[Transfers]\n  [phi_from_subapp]\n    type = MultiAppCopyTransfer\n    from_multi_app = 'multiapp'\n    source_variable = 'phi'\n    variable = 'phi_aux'\n  []\n[]",
          "url": "https://github.com/idaholab/moose/discussions/28861",
          "updatedAt": "2024-10-17T03:29:43Z",
          "publishedAt": "2024-10-16T05:00:59Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThe MultiAppCopyTransfer is meant for meshes that are exactly the same. Since you are changing the mesh, they are no longer the same. Please use this one instead:\nhttps://mooseframework.inl.gov/source/transfers/MultiAppGeneralFieldShapeEvaluationTransfer.html",
                  "url": "https://github.com/idaholab/moose/discussions/28861#discussioncomment-10959669",
                  "updatedAt": "2024-10-16T12:55:48Z",
                  "publishedAt": "2024-10-16T12:55:47Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Searching for source code in MooseApp",
          "author": {
            "login": "Emmanuel-324"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHello, I have been looking for this source code in my MooseApp(MatDiffusion.C) but cannot find it. I have seen it online on the MOOSE page and source documentation. However, I am unable to locate it in my MOOSE directory. Any help?",
          "url": "https://github.com/idaholab/moose/discussions/28856",
          "updatedAt": "2024-10-18T21:15:15Z",
          "publishedAt": "2024-10-15T22:12:28Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nIt wont be in your app folder, it will be in the moose folder, in moose/src/kernels\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/28856#discussioncomment-10952987",
                  "updatedAt": "2024-10-15T22:25:02Z",
                  "publishedAt": "2024-10-15T22:25:02Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Emmanuel-324"
                          },
                          "bodyText": "Yes, that was what I thought yet there is no moose/src/kernels folder. What I see is moose/and_other_folders_except_for src or include. And I cannot find which module it is associated with.",
                          "url": "https://github.com/idaholab/moose/discussions/28856#discussioncomment-10953277",
                          "updatedAt": "2024-10-15T23:26:08Z",
                          "publishedAt": "2024-10-15T23:26:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "oh it s in framework/src/kernels",
                          "url": "https://github.com/idaholab/moose/discussions/28856#discussioncomment-10953300",
                          "updatedAt": "2024-10-15T23:31:59Z",
                          "publishedAt": "2024-10-15T23:31:59Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Emmanuel-324"
                          },
                          "bodyText": "Thanks! Found it!",
                          "url": "https://github.com/idaholab/moose/discussions/28856#discussioncomment-10953331",
                          "updatedAt": "2024-10-15T23:38:39Z",
                          "publishedAt": "2024-10-15T23:38:39Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Compile and tests fail after Docker install",
          "author": {
            "login": "mshtx-mdacc"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n I have consulted the Posting Guidelines.\n I have searched the Discussions Forum and MOOSE Framework Troubleshooting and have not found what I was looking for\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n\nIssue or question about MOOSE\nI followed the installation instructions for Docker from here. There is a yaml error when I try make -j 4, but it continues the compile.\nWhen I run ./run_tests -j 4 there are errors.\nErrors and daignostics.sh output shown below.\n(Optional) code in question / simulation log / errors\n# make -j 4\nWARNING: Failed to initialize PreMake for version checking; this may be ignored but may suggest an environment issue.\n\nTraceback (most recent call last):\n  File \"/projects/moose/framework/../scripts/premake.py\", line 20, in __init__\n    from versioner import Versioner\n  File \"/projects/moose/scripts/versioner.py\", line 25, in <module>\n    import yaml\nModuleNotFoundError: No module named 'yaml'\n\nTraceback (most recent call last):\n  File \"/projects/moose/framework/../scripts/premake.py\", line 261, in <module>\n    PreMake().check()\n  File \"/projects/moose/framework/../scripts/premake.py\", line 27, in __init__\n    self.versioner_meta = Versioner().version_meta()\nUnboundLocalError: local variable 'Versioner' referenced before assignment\nmake: [/projects/moose/framework/moose.mk:399: prebuild] Error 1 (ignored)\nRebuilding symlinks in /projects/moose/framework/build/header_symlinks\nCreating Unity Directory /projects/moose/framework/build/unity_src\nCopying default MOOSE configuration to: /projects/moose/framework/include/base/MooseConfig.h...\nCompiling C++ (in opt mode) /projects/moose/framework/contrib/pcre/src/pcrecpp.cc...\n\n\n./run_tests error:\n\n# ./run_tests -j 4\nWARNING: Failed to initialize PreMake for version checking; this may be ignored but may suggest an environment issue.\n\nTraceback (most recent call last):\n  File \"/projects/moose/framework/../scripts/premake.py\", line 20, in __init__\n    from versioner import Versioner\n  File \"/projects/moose/scripts/versioner.py\", line 25, in <module>\n    import yaml\nModuleNotFoundError: No module named 'yaml'\n\nTraceback (most recent call last):\n  File \"/projects/moose/framework/../scripts/premake.py\", line 261, in <module>\n    PreMake().check()\n  File \"/projects/moose/framework/../scripts/premake.py\", line 27, in __init__\n    self.versioner_meta = Versioner().version_meta()\nUnboundLocalError: local variable 'Versioner' referenced before assignment\nmake: [/projects/moose/framework/moose.mk:399: prebuild] Error 1 (ignored)\nBuilding and linking hit...\nmake[1]: Entering directory '/projects/moose/framework/contrib/hit'\nBuilding hit for python with python3-config\nmake[1]: 'hit' is up to date.\nmake[1]: Leaving directory '/projects/moose/framework/contrib/hit'\nTraceback (most recent call last):\n  File \"/projects/moose/python/pyhit/__init__.py\", line 13, in <module>\n    import hit\nModuleNotFoundError: No module named 'hit'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/projects/moose/python/pyhit/__init__.py\", line 18, in <module>\n    import hit\nImportError: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.29' not found (required by /projects/moose/python/pyhit/../../framework/contrib/hit/hit.so)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/projects/moose/test/./run_tests\", line 6, in <module>\n    from TestHarness import TestHarness\n  File \"/projects/moose/python/TestHarness/__init__.py\", line 15, in <module>\n    from .TestHarness import TestHarness\n  File \"/projects/moose/python/TestHarness/TestHarness.py\", line 20, in <module>\n    from FactorySystem.Factory import Factory\n  File \"/projects/moose/python/FactorySystem/__init__.py\", line 13, in <module>\n    from .Parser import Parser\n  File \"/projects/moose/python/FactorySystem/Parser.py\", line 13, in <module>\n    import pyhit\n  File \"/projects/moose/python/pyhit/__init__.py\", line 22, in <module>\n    import hit\nImportError: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.29' not found (required by /projects/moose/python/pyhit/../../framework/contrib/hit/hit.so)\nEncountering Errors? Please include diagnostic output\n# scripts/diagnostics.sh\n####################################################################################################\nInfluential Environment Variables\n\nCC=mpicc\nCONDA_CHANNEL=https://conda.software.inl.gov/public\nCONDA_DEFAULT_ENV=moose\nCONDA_EXE=/opt/miniforge3/bin/conda\nCONDA_PREFIX=/opt/miniforge3/envs/moose\nCONDA_PROMPT_MODIFIER=(moose)\nCONDA_PYTHON_EXE=/opt/miniforge3/bin/python\nCONDA_SHLVL=1\nCURL_CA_BUNDLE=\nCXX=mpicxx\nF77=mpif77\nF90=mpif90\nFC=mpif90\nLD_LIBRARY_PATH=/opt/mpich/lib:/opt/rh/gcc-toolset-12/root/usr/lib64:/opt/rh/gcc-toolset-12/root/usr/lib:/opt/mpich/lib:/opt/rh/gcc-toolset-12/root/usr/lib64:/opt/rh/gcc-toolset-12/root/usr/lib:/.singularity.d/libs\nLIBMESH_DIR=/opt/libmesh\nMODULESHOME=/usr/share/Modules\nMODULES_CMD=/usr/share/Modules/libexec/modulecmd.tcl\nMODULES_RUN_QUARANTINE=LD_LIBRARY_PATH LD_PRELOAD\nMOOSE_APPTAINER_GENERATOR_LIBRARY=moose-dev\nMOOSE_APPTAINER_GENERATOR_NAME=moose-dev-mpich-x86_64\nMOOSE_APPTAINER_GENERATOR_NAME_SUMMARY=moose-dev-mpich-x86_64:28a1964\nMOOSE_APPTAINER_GENERATOR_TAG=28a1964\nMOOSE_APPTAINER_GENERATOR_VERSION=28a1964\nMOOSE_JOBS=6\nMOOSE_MPI_DIR=/opt/mpich\nPATH=/opt/wasp/bin:/opt/miniforge3/bin:/opt/code-server/bin:/opt/mpich/bin:/opt/rh/gcc-toolset-12/root/usr/bin:/opt/wasp/bin:/opt/miniforge3/envs/moose/bin:/opt/miniforge3/condabin:/opt/miniforge3/bin:/opt/code-server/bin:/opt/mpich/bin:/opt/rh/gcc-toolset-12/root/usr/bin:/usr/share/Modules/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/root/bin\nPETSC_DIR=/opt/petsc\nREQUESTS_CA_BUNDLE=\nSSL_CERT_FILE=\nWASP_DIR=/opt/wasp\n####################################################################################################\nCompiler(s) (CC CXX FC F77 F90):\n\nwhich $CC; /opt/mpich/bin/mpicc\n$CC --version; gcc (GCC) 12.2.1 20221121 (Red Hat 12.2.1-7)\n$CC -show; gcc -I/opt/mpich/include -L/opt/mpich/lib -Wl,-rpath -Wl,/opt/mpich/lib -Wl,--enable-new-dtags -lmpi\n\nwhich $CXX; /opt/mpich/bin/mpicxx\n$CXX --version; g++ (GCC) 12.2.1 20221121 (Red Hat 12.2.1-7)\n$CXX -show; g++ -I/opt/mpich/include -L/opt/mpich/lib -lmpicxx -Wl,-rpath -Wl,/opt/mpich/lib -Wl,--enable-new-dtags -lmpi\n\nwhich $FC; /opt/mpich/bin/mpif90\n$FC --version; GNU Fortran (GCC) 12.2.1 20221121 (Red Hat 12.2.1-7)\n$FC -show; gfortran -I/opt/mpich/include -I/opt/mpich/include -L/opt/mpich/lib -lmpifort -Wl,-rpath -Wl,/opt/mpich/lib -Wl,--enable-new-dtags -lmpi\n\nwhich $F77; /opt/mpich/bin/mpif77\n$F77 --version; GNU Fortran (GCC) 12.2.1 20221121 (Red Hat 12.2.1-7)\n$F77 -show; gfortran -I/opt/mpich/include -I/opt/mpich/include -L/opt/mpich/lib -lmpifort -Wl,-rpath -Wl,/opt/mpich/lib -Wl,--enable-new-dtags -lmpi\n\nwhich $F90; /opt/mpich/bin/mpif90\n$F90 --version; GNU Fortran (GCC) 12.2.1 20221121 (Red Hat 12.2.1-7)\n$F90 -show; gfortran -I/opt/mpich/include -I/opt/mpich/include -L/opt/mpich/lib -lmpifort -Wl,-rpath -Wl,/opt/mpich/lib -Wl,--enable-new-dtags -lmpi\n\nOK\n####################################################################################################\nPython Sanity Checks\n\n/usr/bin/env python3 --version; (reporting as: Python 3.10.15) matches\nwhich python3 python;\n\n/opt/miniforge3/bin/python3 --version; == Python 3.10.15\n/opt/miniforge3/bin/python --version; == Python 3.10.15\n\nOK\n####################################################################################################\nPython Modules (TestHarness, run-ability)\n\n\nWARNING: missing module(s): pyaml jinja2\n\nEither install the above packages, or perhaps you have yet\nto activate the moose environment: conda activate moose\n\nMissing 'warning' Python modules may cause miscellaneous runtime issues.\n\nWARNING: One or more Python issues present.\n####################################################################################################\nMOOSE Repository/Conda Version Checks\n\nWARNING: Unable to run Conda tests due to missing Python modules\n\n\nchecks FAILED",
          "url": "https://github.com/idaholab/moose/discussions/28798",
          "updatedAt": "2024-10-15T15:11:55Z",
          "publishedAt": "2024-10-07T19:42:03Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "hello\nyou ll want to install pyaml to beat this error\nModuleNotFoundError: No module named 'yaml'\n\nyou can conda install pyaml if that's available. If not maybe pip install instead?",
                  "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10872504",
                  "updatedAt": "2024-10-07T19:45:55Z",
                  "publishedAt": "2024-10-07T19:45:54Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "mshtx-mdacc"
                          },
                          "bodyText": "I did a conda list and yaml is installed:\nyaml                      0.2.5                h7f98852_2    conda-forge\nWhen go ahead and try conda install yaml it takes a very long time, but it does update it. It also says I should update conda.\nI still get the compile error after conda install yaml. Should I deactivate and activate the moose env?",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10872756",
                          "updatedAt": "2024-10-07T20:13:57Z",
                          "publishedAt": "2024-10-07T20:13:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "yaml is not the same as pyaml to be sure\nyou should update conda. new conda is much faster at dependency resolution than old conda\nconda update conda to get at least 23.2",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10873154",
                          "updatedAt": "2024-10-07T21:09:37Z",
                          "publishedAt": "2024-10-07T21:09:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I am concerned how the Docker image isn't fully featured with everything needed to run.\nWhat host OS are you using? Windows, Mac, etc?",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10879801",
                          "updatedAt": "2024-10-08T12:50:18Z",
                          "publishedAt": "2024-10-08T12:50:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mshtx-mdacc"
                          },
                          "bodyText": "NVIDIA DGX Server Version 5.4.0 (GNU/Linux 5.4.0-125-generic x86_64)",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10879906",
                          "updatedAt": "2024-10-08T12:58:05Z",
                          "publishedAt": "2024-10-08T12:58:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I don't believe our Docker image is going to make use of the GPU hardware on the host machine, if that was your goal. I am quickly browsing through this: https://docs.nvidia.com/deeplearning/deeplearning/frameworks/pdf/Preparing-To-Use-Containers.pdf\nAre you using nvidia-docker? I always thought our Docker images were self contained with the entire OS, but according to NVIDIA's literature:\n\"Containers are different than a virtual machine (VM) such as VMware. A VM has a complete operating system and possibly applications and data files. Containers do not contain a complete operating system.\"\n... mmm not sure I agree with this. Or, they can contain the entire OS (such is the case with our Docker image, based on Ubuntu). Regardless, because they make such a statement, it does have me wondering if nvidia-docker is doing something very different than say the official docker. Like, not loading up the OS environment contained in our Docker image, and perhaps, supplanting it with their own? That would actually make sense where that:\nImportError: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.29' not found\n\nerror comes from...\nEdit: correction, we convert our Apptainer Rocky container to Docker. So not Ubuntu.",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10880157",
                          "updatedAt": "2024-10-08T13:35:50Z",
                          "publishedAt": "2024-10-08T13:19:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mshtx-mdacc"
                          },
                          "bodyText": "I was told nvidia-docker is the same as docker but with GPUs. I don't plan on using the GPUs right now. This is just an old machine I can test on. I did have this working a month or two ago with this image:  idaholab/moose-dev:2faac4b\nI don't know what changed, but it stopped working with the latest git clone. I figured I'd try to get the latest working and here we are.",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10880442",
                          "updatedAt": "2024-10-08T13:40:09Z",
                          "publishedAt": "2024-10-08T13:40:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I was trying to install Docker on my work machine to do the same, but the new license clause is a little concerning. I'll need to work with my manager...\nFurther reading, and I am also under the impression that nvidia-docker just enables hardware access to the GPUs. And that it still uses plain ol' Docker. So I imagine this should all work. Especially since it was with idaholab/moose-dev:2faac4b as you say.",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10880584",
                          "updatedAt": "2024-10-08T13:50:10Z",
                          "publishedAt": "2024-10-08T13:50:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Okay, docker installed. I too run into an error. Not like yours, but an error regardless. I imagine mine may be related to being on an Apple ARM machine. Still, being able to go through the process I have an idea to try.\nI also receive the missing yaml module. But you can ignore these.\nPerhaps all you need to perform is a deep clean of your repository, and re-build? The compilers may have changes from your previous docker image to our current one, and the instructions make no mention of that.\ncd /projects/moose\ngit clean -xfd; git submodule foreach --recursive git clean -xfd\ncd test\nmake -j 4",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10881030",
                          "updatedAt": "2024-10-08T14:27:33Z",
                          "publishedAt": "2024-10-08T14:24:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Hah, okay. Got my MOOSE compiled, but I run into the same error as you when attempting to run tests:\nTraceback (most recent call last):\n  File \"/projects/moose/test/./run_tests\", line 6, in <module>\n    from TestHarness import TestHarness\n  File \"/projects/moose/python/TestHarness/__init__.py\", line 15, in <module>\n    from .TestHarness import TestHarness\n  File \"/projects/moose/python/TestHarness/TestHarness.py\", line 20, in <module>\n    from FactorySystem.Factory import Factory\n  File \"/projects/moose/python/FactorySystem/__init__.py\", line 13, in <module>\n    from .Parser import Parser\n  File \"/projects/moose/python/FactorySystem/Parser.py\", line 13, in <module>\n    import pyhit\n  File \"/projects/moose/python/pyhit/__init__.py\", line 22, in <module>\n    import hit\nImportError: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.29' not found (required by /projects/moose/python/pyhit/../../framework/contrib/hit/hit.so)\n\nLooks like hit links incorrectly. Yet moose_test-opt executes fine. We just can't use the TestHarness... Pinging @loganharbour, as I know we recently changed how we link. However, I would expect things to be failing all over the place.\n# ldd hit.so \n./hit.so: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.29' not found (required by ./hit.so)\n./hit.so: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.26' not found (required by ./hit.so)\n\tlibstdc++.so.6 => /lib64/libstdc++.so.6 (0x00007fffff064000)\n\tlibwasphit.so.04 => /opt/wasp/lib/libwasphit.so.04 (0x00007fffff016000)\n\tlibwaspson.so.04 => /opt/wasp/lib/libwaspson.so.04 (0x00007ffffefc9000)\n\tlibwaspcore.so.04 => /opt/wasp/lib/libwaspcore.so.04 (0x00007ffffefa5000)\n\tlibwaspsiren.so.04 => /opt/wasp/lib/libwaspsiren.so.04 (0x00007ffffef88000)\n\tlibwasphalite.so.04 => /opt/wasp/lib/libwasphalite.so.04 (0x00007ffffef2f000)\n\tlibwasplsp.so.04 => /opt/wasp/lib/libwasplsp.so.04 (0x00007ffffeeed000)\n\tlibwaspjson.so.04 => /opt/wasp/lib/libwaspjson.so.04 (0x00007ffffeeab000)\n\tlibwasphive.so.04 => /opt/wasp/lib/libwasphive.so.04 (0x00007ffffeea1000)\n\tlibwaspddi.so.04 => /opt/wasp/lib/libwaspddi.so.04 (0x00007ffffee82000)\n\tlibwaspexpr.so.04 => /opt/wasp/lib/libwaspexpr.so.04 (0x00007ffffee4d000)\n\tlibmpicxx.so.12 => /opt/mpich/lib/libmpicxx.so.12 (0x00007ffffee2a000)\n\tlibmpi.so.12 => /opt/mpich/lib/libmpi.so.12 (0x00007ffffe201000)\n\tlibm.so.6 => /lib64/libm.so.6 (0x00007ffffde7f000)\n\tlibgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007ffffdc67000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007ffffd891000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007fffffdce000)\n\tlibpthread.so.0 => /lib64/libpthread.so.0 (0x00007ffffd671000)\n\tlibrt.so.1 => /lib64/librt.so.1 (0x00007ffffd467000)",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10881442",
                          "updatedAt": "2024-10-08T15:03:19Z",
                          "publishedAt": "2024-10-08T14:58:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mshtx-mdacc"
                          },
                          "bodyText": "I've been removing the entire moose directory and doing a new git clone every time. The Docker container is recreated from the image every time, so it should be \"fresh\", but I will test with the git clean. I'm not sure how there would be any residual data from before.\nI was able to get the compile and test to work using the  'idaholab/moose-dev:2faac4b' image and git checkout 74e0db0. I chose that one because the last time it worked was on August 18th.",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10881542",
                          "updatedAt": "2024-10-08T15:05:41Z",
                          "publishedAt": "2024-10-08T15:05:41Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "mshtx-mdacc"
                  },
                  "bodyText": "Rebuilding WASP failed for me too",
                  "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10883566",
                  "updatedAt": "2024-10-08T18:02:16Z",
                  "publishedAt": "2024-10-08T18:02:15Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Looks like another is running into possible something similar: #28815",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10897101",
                          "updatedAt": "2024-10-09T20:53:01Z",
                          "publishedAt": "2024-10-09T20:53:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I am being told this may be related to WASP. However, I don't see a version difference between the two hashes. I am still investigating...",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10904565",
                          "updatedAt": "2024-10-10T13:42:26Z",
                          "publishedAt": "2024-10-10T13:42:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I am not that savvy with Docker, and I am finding some oddities using it. For example, upon entering the container, Conda is not properly initialized. The whole yaml issue for example can be fixed by deactivating/reactivating the environment:\ndocker run -it -v projects:/projects idaholab/moose-dev:latest\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: / ]\n# python\nPython 3.10.15 | packaged by conda-forge | (main, Sep 30 2024, 17:51:04) [GCC 13.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import yaml\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nModuleNotFoundError: No module named 'yaml'\n>>> exit()\n\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: / ]\n# conda deactivate\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: / ]\n# conda activate moose\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: / ]\n# python\nPython 3.11.10 | packaged by conda-forge | (main, Sep 30 2024, 18:08:57) [GCC 13.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import yaml\n>>> exit()",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10906463",
                          "updatedAt": "2024-10-10T16:25:06Z",
                          "publishedAt": "2024-10-10T16:25:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Well now... latest actually works when I deactive/reactivate the environment:\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: / ]\n# conda deactivate\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: / ]\n# conda activate moose\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: / ]\n# python\nPython 3.11.10 | packaged by conda-forge | (main, Sep 30 2024, 18:08:57) [GCC 13.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import yaml\n>>> exit()\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: (master) / ]\n# cd /projects/moose/test\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: (master) /projects/moose/test ]\n# make -j 3\n...\n<trimmed>\n...\nLinking Executable /projects/moose/test/moose_test-opt...\nmoose-dev-mpich-x86_64:28a1964 [root@86ae33b6579f: (master) /projects/moose/test ]\n# ./run_tests -i always_ok\ntests/test_harness.always_ok .............................................................................. OK\n---------------------------------------------------------------------------------\nRan 1 tests in 0.8 seconds. Average test time 0.6 seconds, maximum test time 0.6 seconds.\n1 passed, 0 skipped, 0 pending, 0 failed\nCan you try to do the following:\nconda deactivate\nconda activate moose\ncd /projects/moose/test\nmake\nand perhaps after a git clean -xfd to be sure... and then run tests?",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10906649",
                          "updatedAt": "2024-10-10T16:45:03Z",
                          "publishedAt": "2024-10-10T16:45:03Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mshtx-mdacc"
                          },
                          "bodyText": "Deactivating and activating conda worked. There was no need for git clean -xfd since I did a fresh clone.",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10947929",
                          "updatedAt": "2024-10-15T13:14:23Z",
                          "publishedAt": "2024-10-15T13:14:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I am working on a PR which I hope will help with not requiring deactivate/reactivate procedures. We obviously don't want this to be a requirement!",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10949270",
                          "updatedAt": "2024-10-15T15:11:55Z",
                          "publishedAt": "2024-10-15T15:11:55Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "brandonlangley"
                  },
                  "bodyText": "@milljm -\nIt may be unrelated, but is this the same issue encountered back in April with #27377 hitting this exact same GLIBCXX error:\nTraceback (most recent call last):\n  File \"/path/to/moose/python/pyhit/__init__.py\", line 18, in <module>\n    import hit\nImportError: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.29' not found (required by /path/to/hit.so)",
                  "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10909013",
                  "updatedAt": "2024-10-10T21:45:56Z",
                  "publishedAt": "2024-10-10T21:45:55Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I have a feeling this is going to be something solved when I get around to this: #28813\nBasically, I am finding 'sourcing' the environment is not enough when dealing with our container's initialization routines.",
                          "url": "https://github.com/idaholab/moose/discussions/28798#discussioncomment-10915435",
                          "updatedAt": "2024-10-11T13:14:22Z",
                          "publishedAt": "2024-10-11T13:14:21Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Newsletter September 2024",
          "author": {
            "login": "GiudGiud"
          },
          "bodyText": "The September 2024 MOOSE Newsletter has been released!",
          "url": "https://github.com/idaholab/moose/discussions/28846",
          "updatedAt": "2024-10-14T20:04:24Z",
          "publishedAt": "2024-10-14T18:21:42Z",
          "category": {
            "name": "News"
          },
          "comments": {
            "edges": []
          }
        }
      },
      {
        "node": {
          "title": "Constitutive Failure",
          "author": {
            "login": "Emmanuel-324"
          },
          "bodyText": "@sapitts I used the \"ComputeCrystalPlasticityThermalEigenstrain\" to add eigen strain contribution into my crystal plasticity model.\nBelow is relevant parts of the code\n[./dummy_temperature]\n      family = MONOMIAL\n      order = CONSTANT\n    []\n[./set_dummy_temperature]\n      type = ConstantAux\n      variable = dummy_temperature\n      value = 1.0  \n    [../]\n[phase0_eigenstrain_0]\n    type = ComputeCrystalPlasticityThermalEigenstrain\n    eigenstrain_name = phase0_eigenstrain_0\n    deformation_gradient_name = phase0_deformation_gradient_0\n    temperature = dummy_temperature\n    thermal_expansion_coefficients = '0.0067 0.0286 0.0067'\n    base_name = phase0\n  []\n\nBut I get a constitutive failure as shown below\n\ufffd[36m\n*** Info ***\nSolidMechanics Action: selecting 'total small strain' formulation. Use `incremental = true` to select 'incremental small strain' instead.\ufffd[39m\nCurrently Setting Up\n  Initializing\n    Finished Initializing Equation Systems                                               [\ufffd[33m  0.92 s\ufffd[39m] [\ufffd[33m  500 MB\ufffd[39m]\n  Finished Initializing                                                                  [\ufffd[33m  0.96 s\ufffd[39m] [\ufffd[33m  501 MB\ufffd[39m]\nFinished Setting Up                                                                      [\ufffd[33m  1.66 s\ufffd[39m] [\ufffd[33m  501 MB\ufffd[39m]\nFramework Information:\nMOOSE Version:           git commit 4505a3e on 2024-06-10\nLibMesh Version:         1c5369aa05eaae8ebeb7930845fce3b1d59cbb37\nPETSc Version:           3.20.3\nSLEPc Version:           3.20.1\nCurrent Time:            Mon Sep 30 15:45:57 2024\nExecutable Timestamp:    Fri Sep 27 18:22:34 2024\n\nParallelism:\n  Num Processors:          2\n  Num Threads:             1\n\nMesh: \n  Parallel Type:           replicated\n  Mesh Dimension:          2\n  Spatial Dimension:       2\n  Nodes:                   \n    Total:                 77650\n    Local:                 40870\n    Min/Max/Avg:           36780/40870/38825\n  Elems:                   \n    Total:                 73128\n    Local:                 36564\n    Min/Max/Avg:           36564/36564/36564\n  Num Subdomains:          1\n  Num Partitions:          2\n  Partitioner:             metis\n\nNonlinear System:\n  Num DOFs:                310600\n  Num Local DOFs:          163480\n  Variables:               { \"disp_x\" \"disp_y\" \"eta0\" \"eta1\" } \n  Finite Element Types:    \"LAGRANGE\" \n  Approximation Orders:    \"FIRST\" \n\nAuxiliary System:\n  Num DOFs:                219384\n  Num Local DOFs:          109692\n  Variables:               \"vonmises\" \"stress_xx\" \"dummy_temperature\" \n  Finite Element Types:    \"MONOMIAL\" \"MONOMIAL\" \"MONOMIAL\" \n  Approximation Orders:    \"CONSTANT\" \"CONSTANT\" \"CONSTANT\" \n\nExecution Information:\n  Executioner:             Transient\n  TimeStepper:             IterationAdaptiveDT\n  TimeIntegrator:          ImplicitEuler\n  Solver Mode:             Preconditioned JFNK\n  PETSc Preconditioner:    lu mat_superlu_dist_fact: SamePattern  mat_superlu_dist_replacetinypivot: true \n  MOOSE Preconditioner:    SMP\n\n.Currently Executing\n  Performing Initial Setup\n    Setting Up Materials\n      Finished Computing Initial Material Values                                         [\ufffd[33m  0.73 s\ufffd[39m] [\ufffd[33m 1032 MB\ufffd[39m]\n    Finished Setting Up Materials                                                        [\ufffd[33m  0.73 s\ufffd[39m] [\ufffd[33m 1032 MB\ufffd[39m]\n  Finished Performing Initial Setup                                                      [\ufffd[33m  1.71 s\ufffd[39m] [\ufffd[33m 1045 MB\ufffd[39m]\n\nTime Step 0, time = 0\n\nPostprocessor Values:\n+----------------+----------------+----------------+\n| time           | stress_xx      | vonmises       |\n+----------------+----------------+----------------+\n|   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |\n+----------------+----------------+----------------+\n\nWarning:  This MeshOutput subclass only supports meshes which are contiguously renumbered!\n                                                                [\ufffd[33m 25.13 s\ufffd[39m] [\ufffd[33m 2356 MB\ufffd[39m]\n      4 Linear |R| = \ufffd[32m2.005573e+03\ufffd[39m\n  Currently Outputting\n    Finished Outputting Step                                                             [\ufffd[33m  2.42 s\ufffd[39m] [\ufffd[33m 1148 MB\ufffd[39m]\n  Finished Outputting                                                                    [\ufffd[33m  2.43 s\ufffd[39m] [\ufffd[33m 1148 MB\ufffd[39m]\n\nTime Step 1, time = 0.0005, dt = 0.0005\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 0.00025, dt = 0.00025\n    Computing Residual\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 0.000125, dt = 0.000125\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 6.25e-05, dt = 6.25e-05\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 3.125e-05, dt = 3.125e-05\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 1.5625e-05, dt = 1.5625e-05\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 7.8125e-06, dt = 7.8125e-06\n                                                                [\ufffd[33m 25.24 s\ufffd[39m] [\ufffd[33m 2356 MB\ufffd[39m]\n      5 Linear |R| = \ufffd[32m4.066195e+02\ufffd[39m\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 3.90625e-06, dt = 3.90625e-06\n    Computing Residual\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 1.95313e-06, dt = 1.95313e-06\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 9.76563e-07, dt = 9.76563e-07\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 4.88281e-07, dt = 4.88281e-07\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 2.44141e-07, dt = 2.44141e-07\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 1.2207e-07, dt = 1.2207e-07\n                                                                [\ufffd[33m 25.23 s\ufffd[39m] [\ufffd[33m 2356 MB\ufffd[39m]\n      6 Linear |R| = \ufffd[32m8.705781e+01\ufffd[39m\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 6.10352e-08, dt = 6.10352e-08\n    Computing Residual\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 3.05176e-08, dt = 3.05176e-08\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 1.52588e-08, dt = 1.52588e-08\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 7.62939e-09, dt = 7.62939e-09\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 3.8147e-09, dt = 3.8147e-09\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 1.90735e-09, dt = 1.90735e-09\n.                                                                [\ufffd[33m 25.29 s\ufffd[39m] [\ufffd[33m 2356 MB\ufffd[39m]\n      7 Linear |R| = \ufffd[32m1.869723e+01\ufffd[39m\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 9.53674e-10, dt = 9.53674e-10\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 4.76837e-10, dt = 4.76837e-10\n    Computing Residual\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 2.38419e-10, dt = 2.38419e-10\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 1.19209e-10, dt = 1.19209e-10\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 5.96046e-11, dt = 5.96046e-11\n.\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\nNonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 2.98023e-11, dt = 2.98023e-11\n.                                                                [\ufffd[33m 25.34 s\ufffd[39m] [\ufffd[33m 2356 MB\ufffd[39m]\n      8 Linear |R| = \ufffd[32m4.010335e+00\ufffd[39m\n\n    Computing Residual    Computing Residual.                                                                  [\ufffd[33m 15.02 s\ufffd[39m] [\ufffd[33m 1150 MB\ufffd[39m]\n 0 Nonlinear |R| = \ufffd[32m9.410223e+05\ufffd[39m\n.    Computing Jacobian...                                                                  [\ufffd[33m 12.54 s\ufffd[39m] [\ufffd[33m 1194 MB\ufffd[39m]\n                                                                [\ufffd[33m 24.74 s\ufffd[39m] [\ufffd[33m 2356 MB\ufffd[39m]\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\n\nA MooseException was raised during FEProblemBase::computeResidualTags\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\n 1 Nonlinear |R| = \ufffd[33m9.405887e+05\ufffd[39m\nNonlinear solve did not converge due to DIVERGED_FNORM_NAN iterations 1\n  Finished Solving                                                                       [\ufffd[33m259.79 s\ufffd[39m] [\ufffd[33m 2038 MB\ufffd[39m]\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 3.72529e-12, dt = 3.72529e-12\n      0 Linear |R| = \ufffd[32m9.410223e+05\ufffd[39m\n\n    Computing Residual\n    Computing Residual..                                                                  [\ufffd[33m 14.69 s\ufffd[39m] [\ufffd[33m 1753 MB\ufffd[39m]\n 0 Nonlinear |R| = \ufffd[32m9.403824e+05\ufffd[39m\n    Computing Jacobian..                                                                  [\ufffd[33m 11.57 s\ufffd[39m] [\ufffd[33m 1753 MB\ufffd[39m]\n.                                                                [\ufffd[33m 26.78 s\ufffd[39m] [\ufffd[33m 2223 MB\ufffd[39m]\n      1 Linear |R| = \ufffd[32m1.735643e+05\ufffd[39m\n      0 Linear |R| = \ufffd[32m9.403824e+05\ufffd[39m\n    Computing Residual\n    Computing Residual......                                                                [\ufffd[33m 24.61 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      1 Linear |R| = \ufffd[32m1.682828e+05\ufffd[39m\n                                                                [\ufffd[33m 27.38 s\ufffd[39m] [\ufffd[33m 2224 MB\ufffd[39m]\n      2 Linear |R| = \ufffd[32m3.301680e+04\ufffd[39m\n    Computing Residual    Computing Residual......                                                                [\ufffd[33m 25.15 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      2 Linear |R| = \ufffd[32m2.653108e+04\ufffd[39m\n                                                                [\ufffd[33m 27.50 s\ufffd[39m] [\ufffd[33m 2225 MB\ufffd[39m]\n      3 Linear |R| = \ufffd[32m1.151673e+04\ufffd[39m\n    Computing Residual    Computing Residual.....                                                                [\ufffd[33m 25.39 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      3 Linear |R| = \ufffd[32m7.149096e+03\ufffd[39m\n.                                                                [\ufffd[33m 27.47 s\ufffd[39m] [\ufffd[33m 2225 MB\ufffd[39m]\n      4 Linear |R| = \ufffd[32m3.356829e+03\ufffd[39m\n    Computing Residual    Computing Residual.....                                                                [\ufffd[33m 25.31 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      4 Linear |R| = \ufffd[32m1.445788e+03\ufffd[39m\n.    Computing Residual                                                                [\ufffd[33m 27.53 s\ufffd[39m] [\ufffd[33m 2226 MB\ufffd[39m]\n      5 Linear |R| = \ufffd[32m8.201200e+02\ufffd[39m\n.    Computing Residual...                                                                [\ufffd[33m 25.27 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      5 Linear |R| = \ufffd[32m2.664199e+02\ufffd[39m\n.    Computing Residual.                                                                [\ufffd[33m 27.48 s\ufffd[39m] [\ufffd[33m 2226 MB\ufffd[39m]\n      6 Linear |R| = \ufffd[32m2.067922e+02\ufffd[39m\n.    Computing Residual...                                                                [\ufffd[33m 25.25 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      6 Linear |R| = \ufffd[32m5.230396e+01\ufffd[39m\n.    Computing Residual..                                                                [\ufffd[33m 27.55 s\ufffd[39m] [\ufffd[33m 2226 MB\ufffd[39m]\n      7 Linear |R| = \ufffd[32m5.121541e+01\ufffd[39m\n    Computing Residual...                                                                [\ufffd[33m 25.32 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      7 Linear |R| = \ufffd[32m1.023860e+01\ufffd[39m\n.    Computing Residual..                                                                [\ufffd[33m 27.53 s\ufffd[39m] [\ufffd[33m 2226 MB\ufffd[39m]\n      8 Linear |R| = \ufffd[32m1.277816e+01\ufffd[39m\n.    Computing Residual..                                                                [\ufffd[33m 25.28 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      8 Linear |R| = \ufffd[32m1.969368e+00\ufffd[39m\n    Computing Residual...                                                                [\ufffd[33m 27.55 s\ufffd[39m] [\ufffd[33m 2227 MB\ufffd[39m]\n      9 Linear |R| = \ufffd[32m3.164672e+00\ufffd[39m\n.    Computing Residual.                                                                [\ufffd[33m 24.84 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\n\nA MooseException was raised during FEProblemBase::computeResidualTags\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\n 1 Nonlinear |R| = \ufffd[33m9.403824e+05\ufffd[39m\nNonlinear solve did not converge due to DIVERGED_FNORM_NAN iterations 1\n  Finished Solving                                                                       [\ufffd[33m260.84 s\ufffd[39m] [\ufffd[33m 1753 MB\ufffd[39m]\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 1.86265e-12, dt = 1.86265e-12\n.\n    Computing Residual..                                                                  [\ufffd[33m 14.42 s\ufffd[39m] [\ufffd[33m 1753 MB\ufffd[39m]\n 0 Nonlinear |R| = \ufffd[32m9.401865e+05\ufffd[39m\n.                                                                [\ufffd[33m 26.92 s\ufffd[39m] [\ufffd[33m 2227 MB\ufffd[39m]\n\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\n\nA MooseException was raised during FEProblemBase::computeResidualTags\nComputeMultipleCrystalPlasticityStress: Constitutive failure\nTo recover, the solution will fail and then be re-attempted with a reduced time step.\n\n 1 Nonlinear |R| = \ufffd[33m9.410223e+05\ufffd[39m\nNonlinear solve did not converge due to DIVERGED_FNORM_NAN iterations 1\n  Finished Solving                                                                       [\ufffd[33m309.08 s\ufffd[39m] [\ufffd[33m 1723 MB\ufffd[39m]\n\ufffd[31m Solve Did NOT Converge!\ufffd[39m\nAborting as solve did not converge\n\nSolve failed, cutting timestep.\n\nTime Step 1, time = 1.49012e-11, dt = 1.49012e-11\n    Computing Jacobian.                                                                  [\ufffd[33m 11.33 s\ufffd[39m] [\ufffd[33m 1753 MB\ufffd[39m]\n\n    Computing Residual.      0 Linear |R| = \ufffd[32m9.401865e+05\ufffd[39m\n                                                                  [\ufffd[33m 16.18 s\ufffd[39m] [\ufffd[33m 1723 MB\ufffd[39m]\n 0 Nonlinear |R| = \ufffd[32m9.408027e+05\ufffd[39m\n\n    Computing Residual    Computing Jacobian..                                                                  [\ufffd[33m 12.47 s\ufffd[39m] [\ufffd[33m 1723 MB\ufffd[39m]\n.      0 Linear |R| = \ufffd[32m9.408027e+05\ufffd[39m\n.                                                                [\ufffd[33m 22.58 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      1 Linear |R| = \ufffd[32m1.663665e+05\ufffd[39m\n\n    Computing Residual    Computing Residual......                                                                [\ufffd[33m 23.04 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      2 Linear |R| = \ufffd[32m2.422012e+04\ufffd[39m\n                                                                [\ufffd[33m 26.66 s\ufffd[39m] [\ufffd[33m 2317 MB\ufffd[39m]\n      1 Linear |R| = \ufffd[32m1.718833e+05\ufffd[39m\n    Computing Residual    Computing Residual.....                                                                [\ufffd[33m 23.14 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      3 Linear |R| = \ufffd[32m5.672407e+03\ufffd[39m\n.    Computing Residual                                                                [\ufffd[33m 27.12 s\ufffd[39m] [\ufffd[33m 2317 MB\ufffd[39m]\n      2 Linear |R| = \ufffd[32m3.101018e+04\ufffd[39m\n.    Computing Residual...                                                                [\ufffd[33m 23.24 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      4 Linear |R| = \ufffd[32m9.867253e+02\ufffd[39m\n.    Computing Residual.                                                                [\ufffd[33m 27.34 s\ufffd[39m] [\ufffd[33m 2317 MB\ufffd[39m]\n      3 Linear |R| = \ufffd[32m1.010828e+04\ufffd[39m\n.    Computing Residual...                                                                [\ufffd[33m 23.19 s\ufffd[39m] [\ufffd[33m 2345 MB\ufffd[39m]\n      5 Linear |R| = \ufffd[32m1.662660e+02\ufffd[39m\n.    Computing Residual",
          "url": "https://github.com/idaholab/moose/discussions/28731",
          "updatedAt": "2024-10-14T17:34:12Z",
          "publishedAt": "2024-09-30T19:56:08Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "sapitts"
                  },
                  "bodyText": "I am not surprised that you see a constitutive failure: you are instantaneously applying a very large eigenstrain. Consider methods that you can use to gradually increase the eigenstrain, and review the troubleshooting documentation here: https://mooseframework.inl.gov/application_usage/failed_solves.html I would also recommend using an incremental strain formulation for a simulation involving crystal plasticity.\nAlso review the debugging information to ensure that your specific constitutive model is working as you expect: https://mooseframework.inl.gov/application_development/debugging.html",
                  "url": "https://github.com/idaholab/moose/discussions/28731#discussioncomment-10885563",
                  "updatedAt": "2024-10-08T21:47:40Z",
                  "publishedAt": "2024-10-08T21:47:40Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Emmanuel-324"
                          },
                          "bodyText": "Yes, I do agree with you on the magnitude of the eigenstrain. I used these arbitrary numbers and I did not get the constitutive failure('1e-05 2e-05 3e-05'). The values I used were taken from a paper. I am thinking of using normalized values instead. What do you suggest?\nThanks for the feedback",
                          "url": "https://github.com/idaholab/moose/discussions/28731#discussioncomment-10885650",
                          "updatedAt": "2024-10-08T22:03:17Z",
                          "publishedAt": "2024-10-08T22:03:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Emmanuel-324"
                          },
                          "bodyText": "And can you suggest some of the ways I can gradually increase the eigenstrain?\nThanks for the help",
                          "url": "https://github.com/idaholab/moose/discussions/28731#discussioncomment-10915786",
                          "updatedAt": "2024-10-11T13:47:37Z",
                          "publishedAt": "2024-10-11T13:47:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "sapitts"
                          },
                          "bodyText": "It is your work to determine the best way to apply the conditions that optimize your physics and the numerical constraints of your system. One of the options you could consider is to apply the eigenstrains as a function of time (maybe asynchronously)\nIn either case, make sure you are using a finite, incremental strain formulation. Total small strain is not a good choice for simulations including plastic deformation.",
                          "url": "https://github.com/idaholab/moose/discussions/28731#discussioncomment-10938894",
                          "updatedAt": "2024-10-14T16:17:40Z",
                          "publishedAt": "2024-10-14T16:17:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Emmanuel-324"
                          },
                          "bodyText": "I am not sure how the \"ComputeCrystalPlasticityThermalEigenstrain\" class works. But just a further thought or maybe a question. How will the contribution of the eigenstrain be added to my simulation considering the fact that temperature is constant in the XYZ direction?\nI have implemented the finite incremental strain formulation as you suggested. The contribution from the eigenstrain my simulation was constant in both x and y directions. i have attached the csv file.\nTest_s049_eigen_out.csv\nThis is some important part of my input script:\n[./set_dummy_temperature]\n      type = ConstantAux\n      variable = dummy_temperature\n      value = 1.0 \n      execute_on = 'timestep_begin' \n    [../]\n  [elasticity_tensor_phase0]\n    type = ComputeElasticityTensorCP\n    C_ijkl = '2.906e5 1.87e5 1.87e5 2.906e5 1.87e5 2.906e5 1.142e5 1.142e5 1.142e5'\n    fill_method = symmetric9\n    euler_angle_1 = 0.0\n    euler_angle_2 = 0.0\n    euler_angle_3 = 0.0\n    base_name = phase0\n  []\n  [stress_phase0]\n    type = ComputeMultipleCrystalPlasticityStress\n    crystal_plasticity_models = 'trial_xtalpl_phase0'\n    eigenstrain_names = 'phase0_eigenstrain_0'\n    tan_mod_type = exact\n    rtol = 1e-08\n    base_name = phase0\n  []\n  [trial_xtalpl_phase0]\n    type = CrystalPlasticityKalidindiUpdate\n    number_slip_systems = 12\n    slip_sys_file_name = input_slip_sys.txt\n    crystal_lattice_type = BCC\n    resistance_tol = 0.01\n    r = 1.4             \n    h = 6000            \n    t_sat = 598.5        \n    gss_a = 1.5         \n    ao = 0.001           \n    xm = 0.017             \n    gss_initial = 600\n    base_name = phase0\n  []\n[phase0_eigenstrain_0]\n    type = ComputeCrystalPlasticityThermalEigenstrain\n    eigenstrain_name = phase0_eigenstrain_0\n    deformation_gradient_name = phase0_deformation_gradient_0\n    temperature = dummy_temperature\n    thermal_expansion_coefficients = '1e-05 2e-05 3e-05'\n    base_name = phase0\n  []\n\n[./TensorMechanics]\n      displacements = 'disp_x disp_y'\n      add_variables = true\n      generate_output = stress_xx\n      strain = FINITE\n   []",
                          "url": "https://github.com/idaholab/moose/discussions/28731#discussioncomment-10939524",
                          "updatedAt": "2024-10-14T17:23:34Z",
                          "publishedAt": "2024-10-14T17:23:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "sapitts"
                          },
                          "bodyText": "The documentation for these classes is well written, see https://mooseframework.inl.gov/source/materials/crystal_plasticity/ComputeCrystalPlasticityThermalEigenstrain.html and https://mooseframework.inl.gov/source/materials/crystal_plasticity/ComputeMultipleCrystalPlasticityStress.html. The references listed at the bottom of the thermal eigenstrain page have additional details",
                          "url": "https://github.com/idaholab/moose/discussions/28731#discussioncomment-10939615",
                          "updatedAt": "2024-10-14T17:34:13Z",
                          "publishedAt": "2024-10-14T17:34:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Moose ex03 missing parameter",
          "author": {
            "login": "libinbabu1991"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n I have consulted the Posting Guidelines.\n I have searched the Discussions Forum and MOOSE Framework Troubleshooting and have not found what I was looking for\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n\nIssue or question about MOOSE\nHello,\nI am getting missing required parameter error as below.\nPlease advise how to resolve it.\nThanks!\n(Optional) code in question / simulation log / errors\n(moose) root@131-ENG-DESKTOP:~/projects/moose/examples/ex03_coupling# make -j8\nCreating Unity /root/projects/moose/examples/ex03_coupling/build/unity_src/kernels_Unity.C\nCompiling C++ (in opt mode) /root/projects/moose/examples/ex03_coupling/build/unity_src/kernels_Unity.C...\nLinking Library /root/projects/moose/examples/ex03_coupling/lib/libex03-opt.la...\nLinking Executable /root/projects/moose/examples/ex03_coupling/ex03-opt...\n(moose) root@131-ENG-DESKTOP:~/projects/moose/examples/ex03_coupling# ./ex03-opt -i ex03.i\n\n\n*** Info ***\n'execute_on' parameter specified in [Outputs] block is ignored for object 'checkpoint'.\nDefine this object in its own sub-block of [Outputs] to modify its execution schedule.\n\n\n*** ERROR ***\n/root/projects/moose/examples/ex03_coupling/ex03.i:23: missing required parameter 'Kernels/conv/velocity'\n        Doc String: \"Velocity Vector\"\n\n\nStack frames: 19\nEncountering Errors? Please include diagnostic output\nNo response",
          "url": "https://github.com/idaholab/moose/discussions/28841",
          "updatedAt": "2024-10-14T17:09:09Z",
          "publishedAt": "2024-10-13T04:59:33Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI can't reproduce this locally.\nCan you give the diagnostics output from the diagnostics script in moose.scripts ?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/28841#discussioncomment-10931149",
                  "updatedAt": "2024-10-13T23:25:17Z",
                  "publishedAt": "2024-10-13T23:25:17Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "libinbabu1991"
                          },
                          "bodyText": "I could not find a diagnostic file in my app dog's folder > scripts.\nI looked inside the Moose folder and found one.\nI hope I have taken the diagnostics.sh file content from the right location \\wsl.localhost\\Ubuntu\\root\\projects\\moose\\scripts\nPlease see the content below.\n#!/bin/bash\n#* This file is part of the MOOSE framework\n#* https://www.mooseframework.org\n#*\n#* All rights reserved, see COPYRIGHT for full restrictions\n#* https://github.com/idaholab/moose/blob/master/COPYRIGHT\n#*\n#* Licensed under LGPL 2.1, please see LICENSE for details\n#* https://www.gnu.org/licenses/lgpl-2.1.html\nSCRIPT_DIR=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\"\nfunction ecolor_support()\n{\nECOLOR_SUPPORT=\"${ECOLOR_SUPPORT:-$(tput colors)}\"\necho \"${ECOLOR_SUPPORT}\"\n}\nfunction get_value()\n{\ngrep \"^$1: \" \"${SCRIPT_DIR}\"/../framework/doc/packages_config.yml | awk '{print $2}'\n}\nfunction print_failure_and_exit()\n{\nif [[ -n \"${CANCELED}\" ]]; then exit 1; fi\nprint_red \"ERROR: \"\nprintf \"Printing report.\\n\"\nenv_test\nprintf '\nThere was an error while %s\nPlease report the entirety of the output of diagnostics on\nthis terminal to either YOUR existing post OR a new post on\nhttps://github.com/idaholab/moose/discussions\\n' \"$(print_red \"$@\")\"\nexit_on_failure 1\n}\nfunction print_reset()\n{\nif [[ \"${NO_COLOR:-0}\" == 0 ]]; then\nprintf \"\\033[0m\"\nfi\n}\nfunction print_sep()\n{\nmax_len=$(tput cols)\nif [[ $max_len -gt 100 ]]; then max_len=100; fi\nprintf -v foo \"%${max_len}s\" '' && echo \"${foo//?/#}\"\n}\nfunction print_bold()\n{\nif [[ \"${NO_COLOR}\" == 1 ]]; then\nprintf '%b' \"$@\"\nelif [[ \"$(ecolor_support)\" -ge 256 ]]; then\nprintf '\\033[1;37m%b' \"$@\"\nelse\nprintf '\\033[1m%b' \"$@\"\nfi\nprint_reset\n}\nfunction print_red()\n{\nif [[ \"${NO_COLOR}\" == 1 ]]; then\nprintf '%b' \"$@\"\nelse\nprintf '\\033[1;91m%b' \"$@\"\nfi\nprint_reset\n}\nfunction print_orange()\n{\nif [[ \"${NO_COLOR}\" == 1 ]]; then\nprintf '%b' \"$@\"\nelif [[ \"$(ecolor_support)\" -ge 256 ]]; then\nprintf \"\\033[38;5;202m%b\" \"$@\"\nelse\nprintf \"\\033[0;33m%b\" \"$@\"\nfi\nprint_reset\n}\nfunction print_green()\n{\nif [[ \"${NO_COLOR}\" == 1 ]]; then\nprintf '%b' \"$@\"\nelse\nprintf \"\\033[1;92m%b\" \"$@\"\nfi\nprint_reset\n}\nfunction run_command()\n{\nif [[ \"${NO_COLOR}\" == 1 ]]; then\ntrue\nelif [[ \"$(ecolor_support)\" -ge 256 ]]; then\nprintf \"\\033[38;5;236m\"\nelse\nprintf \"\\033[1;30m\"\nfi\n# shellcheck disable=SC2068\n$@\nexit_code=$?\nprint_reset\nreturn $exit_code\n}\nfunction create_tmp()\n{\nif [[ -n \"$CTMP_DIR\" ]]; then echo \"${CTMP_DIR}\"; return; fi\nif [[ \"$(uname)\" == 'Darwin' ]]; then\nlocal TMP_DIR=\"${TMP_DIR:-\"$(mktemp -d -t MOOSE)\"}\"\nelse\nlocal TMP_DIR=\"${TMP_DIR:-\"$(mktemp -d -t MOOSE.XXXXXXXX)\"}\"\nfi\necho \"${TMP_DIR}\"\n}\nfunction exit_on_failure()\n{\nif [[ \"${NO_FAILURE}\" == '1' ]]; then\nprintf '\\n--continue-on-fail enabled. Not exiting.\\n\\n'\nreturn\nfi\nexit \"${1}\"\n}\nfunction print_help()\n{\n# shellcheck disable=SC2034\nargs=(\"-h|--help\"\n\"-f|--full-build\"\n\"-r|--run-checks\"\n\"-c|--conda-channel\"\n\"--continue-on-fail\"\n\"-v|--verbose\"\n\"--no-colors\")\n# shellcheck disable=SC2034\nargs_about=(\"Print this message and exit.\"\\\n            \"Build PETSc, libMesh, WASP, MOOSE, and then run entire test suite.\"\\\n            \"Build MOOSE and then run aggregated tests.\"\\\n            \"Prioritize MOOSE packages with this channel (default is public).\"\\\n            \"Do not stop on failure. If this option works, you have intermittent network issues.\"\\\n            \"Print additional output from commands being executed.\"\\\n            \"Do not print color.\")\n\nprintf '\\nSyntax:\\n\\t./%s\\n\\nOptions:\\n\\n' \"$(basename \"$0\")\"\nprint_args args args_about\nprintf '\\nInfluencial Environment Variables:\\n\n\n\\tMETHODS             libMesh build type \"opt dbg devel oprof\" (default: opt)\n\\tMETHOD              MOOSE build type (default: \"opt\")\n\\tMOOSE_JOBS          Cores available during make\nProxies/Certificate Authority environmet variables:\n(corporate work machines may require that these be set)\n\\tREQUESTS_CA_BUNDLE=%s\n\\tSSL_CERT_FILE=%s\n\\tCURL_CA_BUNDLE=%s\n\\thttp_proxy=%s\n\\thttps_proxy=%s\nSupplying no arguments prints useful environment information.\\n\\n' \n\"${REQUESTS_CA_BUNDLE:-'not set'}\" \n\"${SSL_CERT_FILE:-'not set'}\" \n\"${CURL_CA_BUNDLE:-'not set'}\" \n\"${HTTP_PROXY:-${http_proxy:-'not set'}}\" \n\"${HTTPS_PROXY:-${https_proxy:-'not set'}}\"\n}\nfunction ctl_c()\n{\nprintf \"\\033[0m\\n\\nYou canceled diagnostics. Running clean-up routines.\nPlease do not ctl-c again, and allow the temp directory to be deleted.\\n\"\nexport CANCELED=true\nexit 1\n}\nCheck Arguments. If PRISTINE is already set, break out of argument checking\nif [[ -z \"$PRISTINE_ENVIRONMENT\" ]]; then\n# shellcheck disable=SC1091\nsource \"${SCRIPT_DIR}\"/functions/help_system\nwhile [[ \"$#\" -gt 0 ]]; do\ncase \"${1}\" in\n-h|--help)\nprint_help; exit 0;;\n-f|--full-build)\nexport FULL_BUILD=1; shift ;;\n-r|--run-checks)\nexport RUN_CHECKS=1; shift ;;\n-c|--conda-channel)\nif ! [[ \"${2}\" =~ ^http|^file ]]; then\nprint_red '\\ninvalid -c|--conda-channel value\\n'\nprint_help; exit 1\nfi\nexport CONDA_CHANNEL=\"${2}\"; shift 2;;\n--continue-on-fail)\nexport NO_FAILURE=1; shift ;;\n-v|--verbose)\nexport VERBOSITY=1; shift ;;\n--no-colors)\nexport NO_COLOR=1; shift ;;\n*)\nprintf 'Unknown argument: %s\\n' \"${1}\"; exit 1;;\nesac\ndone\n# default to printing active environment, otherwise do not print active environment\n# (basically I want the default behavior to behave like the previous diagnostic.sh script)\nif [[ -n \"${FULL_BUILD}\" ]] || [[ -n \"${RUN_CHECKS}\" ]]; then\nNO_ENVIRONMENT=1\nfi\n# FULL_BUILD or RUN_CHECKS is set, but not PRISTINE_ENVIRONMENT\nif [[ \"${PRISTINE_ENVIRONMENT}\" != 0 ]] && [[ \"${NO_ENVIRONMENT}\" == 1 ]]; then\n# Obtain a temp directory\nexport CTMP_DIR\nCTMP_DIR=$(create_tmp)\n# Delete temporary directory at any time this script exits\ntrap 'printf \"\\033[0m\\n\\nDeleting temporary directory\\n\\n\\t${CTMP_DIR}\\n\"; rm -rf \"$CTMP_DIR\";' EXIT\nprintf \"Beginning in a pristine environment\\n\"\nenv -i bash --rcfile <(echo \"CLEAN_ENV='True' \nTERM=${TERM:-'xterm'} \nPRISTINE_ENVIRONMENT=1 \nMETHODS=${METHODS:-opt} \nMETHOD=${METHOD:-opt} \nMOOSE_JOBS=${MOOSE_JOBS:-6} \nFULL_BUILD=${FULL_BUILD:-0} \nRUN_CHECKS=${RUN_CHECKS:-0} \nNO_FAILURE=${NO_FAILURE:-0} \nVERBOSITY=${VERBOSITY:-0} \nNO_COLOR=${NO_COLOR:-0} \nCONDA_CHANNEL=${CONDA_CHANNEL:-'https://conda.software.inl.gov/public'} \nREQUESTS_CA_BUNDLE=${REQUESTS_CA_BUNDLE:-''} \nSSL_CERT_FILE=${SSL_CERT_FILE:-''} \nCURL_CA_BUNDLE=${CURL_CA_BUNDLE:-''} \nCTMP_DIR=${CTMP_DIR} \nNO_ENVIRONMENT=1 \n${SCRIPT_DIR}/${BASH_SOURCE[0]}; exit\")\nexit $?\nelse\n# Set defaults\nexport PRISTINE_ENVIRONMENT=${PRISTINE_ENVIRONMENT:-0}\nexport FULL_BUILD=${FULL_BUILD:-0}\nexport METHOD=${METHOD:-opt}\nexport METHODS=${METHODS:-opt}\nexport MOOSE_JOBS=${MOOSE_JOBS:-6}\nexport RUN_CHECKS=${RUN_CHECKS:-0}\nexport NO_FAILURE=${NO_FAILURE:-0}\nexport VERBOSITY=${VERBOSITY:-0}\nexport NO_COLOR=${NO_COLOR:-0}\nexport CONDA_CHANNEL=${CONDA_CHANNEL:-'https://conda.software.inl.gov/public'}\nexport REQUESTS_CA_BUNDLE=${REQUESTS_CA_BUNDLE:-''}\nexport SSL_CERT_FILE=${SSL_CERT_FILE:-''}\nexport CURL_CA_BUNDLE=${CURL_CA_BUNDLE:-''}\nexport NO_ENVIRONMENT=${NO_ENVIRONMENT:-0}\nfi\nfi\nAugment additional pristine environment variables\nif [[ \"${PRISTINE_ENVIRONMENT}\" == \"1\" ]]; then\ntrap 'ctl_c' INT\n# Further sandbox our environment\nexport HOME=${CTMP_DIR}\n# Make our environment more sane\nexport PATH=/bin:/usr/bin:/sbin\nif [[ \"$(ecolor_support)\" -ge 256 ]]; then\nexport TERM=xterm-256color\nelse\nexport TERM=xterm\nfi\n# Make our environment safe\numask 027\n# It's not enough to set these with --rcfile.\n# They must be exported to be inherited by child processes\nexport CTMP_DIR REQUESTS_CA_BUNDLE SSL_CERT_FILE CURL_CA_BUNDLE\nprint_sep\nprintf 'Temporary Directory:\\n%s\\n' \"${CTMP_DIR}\"\nfi\nMake print_environment available in any step\nshellcheck disable=SC1091\nsource \"${SCRIPT_DIR}\"/functions/diagnostic_environment.sh\nDo only the one thing if default behavior\nif [[ \"${NO_ENVIRONMENT}\" == 0 ]]; then print_environment; exit; fi\nDo all the things\nprintf '\nNote: The following steps will be performed in a temporary directory,\nand will be deleted when finished or upon encountering an error.\n  The purpose of this tool is to determine if external factors\n  are preventing you from building or running MOOSE.\n\n  Errors encountered will usually mean network or hardware related\n  causes (VPN, Network Proxies, Corporate SSL Certificates, etc).\n\n  If diagnostics runs to completion without errors then likely the\n  issue will be something in your environment as to the cause. If\n  this is case, run %s again without any arguments, and\n  carefully scrutinize the output.\\n' \"$(basename \"$0\")\"\n\nprint_sep\nshellcheck disable=SC1091\nsource \"${SCRIPT_DIR}\"/functions/diagnostic_conda.sh\nshellcheck disable=SC1091\nsource \"${SCRIPT_DIR}\"/functions/diagnostic_application.sh\nshellcheck disable=SC1091\nsource \"${SCRIPT_DIR}\"/functions/diagnostic_tests.sh\nGet individual packages for now, until moose-mpi becomes available\nexport MOOSE_PACKAGES\nMOOSE_PACKAGES=\"moose-mpi moose-libmesh-vtk moose-tools $(get_value 'default_mpi') \nzlib python packaging pyaml jinja2\"\ninstall_conda\ncreate_env\nbuild_application\ntest_application",
                          "url": "https://github.com/idaholab/moose/discussions/28841#discussioncomment-10931283",
                          "updatedAt": "2024-10-14T00:15:46Z",
                          "publishedAt": "2024-10-14T00:15:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "you have to run the script not copy it.\nit should be run from moose/scripts\nare you using your executable in dog/ ? Dont use that for running examples",
                          "url": "https://github.com/idaholab/moose/discussions/28841#discussioncomment-10931301",
                          "updatedAt": "2024-10-14T00:17:42Z",
                          "publishedAt": "2024-10-14T00:17:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "libinbabu1991"
                          },
                          "bodyText": "Okay. Sorry my mistake.\nYes, I used the executable dog-opt to run the examples. (:~/projects/dog/ex03_coupling# ../dog-opt -i ex03.i )\nWhat executable should I use for ex03?\nI ran the bellow script:\n(moose) root@131-ENG-DESKTOP:~/projects/moose/scripts# ./diagnostics.sh\n####################################################################################################\nInfluential Environment Variables\nCC=mpicc\nCC_FOR_BUILD=/root/miniconda3/envs/moose/bin/x86_64-conda-linux-gnu-cc\nCFLAGS=   -fPIC -fstack-protector-strong -fno-plt  -ffunction-sections -pipe -isystem /root/miniconda3/envs/moose/include\nCONDA_BUILD_SYSROOT=/root/miniconda3/envs/moose/x86_64-conda-linux-gnu/sysroot\nCONDA_CHANNEL=https://conda.software.inl.gov/public\nCONDA_DEFAULT_ENV=moose\nCONDA_EXE=/root/miniconda3/bin/conda\nCONDA_PREFIX=/root/miniconda3/envs/moose\nCONDA_PREFIX_1=/root/miniconda3\nCONDA_PROMPT_MODIFIER=(moose)\nCONDA_PYTHON_EXE=/root/miniconda3/bin/python\nCONDA_SHLVL=2\nCONDA_TOOLCHAIN_BUILD=x86_64-conda-linux-gnu\nCONDA_TOOLCHAIN_HOST=x86_64-conda-linux-gnu\nCPP=/root/miniconda3/envs/moose/bin/x86_64-conda-linux-gnu-cpp\nCPPFLAGS=   -isystem /root/miniconda3/envs/moose/include\nCURL_CA_BUNDLE=\nCXX=mpicxx\nCXXFILT=/root/miniconda3/envs/moose/bin/x86_64-conda-linux-gnu-c++filt\nCXXFLAGS=-fvisibility-inlines-hidden -fmessage-length=0    -fPIC -fstack-protector-strong -fno-plt  -ffunction-sections -pipe -isystem /root/miniconda3/envs/moose/include  -std=c++17\nCXX_FOR_BUILD=/root/miniconda3/envs/moose/bin/x86_64-conda-linux-gnu-c++\nF77=mpif77\nF90=mpif90\nF95=/root/miniconda3/envs/moose/bin/x86_64-conda-linux-gnu-f95\nFC=mpif90\nFC_FOR_BUILD=/root/miniconda3/envs/moose/bin/x86_64-conda-linux-gnu-gfortran\nFFLAGS=   -fPIC -fstack-protector-strong -fno-plt  -ffunction-sections -pipe -isystem /root/miniconda3/envs/moose/include\nFI_PROVIDER=tcp\nHDF5_DIR=/root/miniconda3/envs/moose\nLD=/root/miniconda3/envs/moose/bin/x86_64-conda-linux-gnu-ld\nLDFLAGS=-Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,--allow-shlib-undefined -Wl,-rpath,/root/miniconda3/envs/moose/lib -Wl,-rpath-link,/root/miniconda3/envs/moose/lib -L/root/miniconda3/envs/moose/lib\nLD_GOLD=/root/miniconda3/envs/moose/bin/x86_64-conda-linux-gnu-ld.gold\nLIBMESH_DIR=/root/miniconda3/envs/moose/libmesh\nMOOSE_JOBS=6\nMOOSE_NO_CODESIGN=true\nPATH=/root/miniconda3/envs/moose/bin:/root/miniconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0:/mnt/c/Windows/System32/OpenSSH:/mnt/c/Program Files (x86)/HP/HP Performance Advisor:/mnt/c/Program Files/dotnet:/mnt/c/Program Files/Siemens/NX2306/CAPITALINTEGRATION/capitalnxremote:/mnt/c/Users/LibinBabu/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/LibinBabu/AppData/Local/Programs/Microsoft VS Code/bin:/snap/bin:/root/miniconda3/envs/moose/wasp/bin\nPETSC_DIR=/root/miniconda3/envs/moose/petsc\nREQUESTS_CA_BUNDLE=\nSSL_CERT_FILE=\nWASP_DIR=/root/miniconda3/envs/moose/wasp\n####################################################################################################\nCompiler(s) (CC CXX FC F77 F90):\nwhich $CC; /root/miniconda3/envs/moose/bin/mpicc\n$CC --version; x86_64-conda-linux-gnu-cc (conda-forge gcc 12.3.0-7) 12.3.0\n$CC -show; x86_64-conda-linux-gnu-cc -I/root/miniconda3/envs/moose/include -I/root/miniconda3/envs/moose/include -L/root/miniconda3/envs/moose/lib -Wl,-rpath,/root/miniconda3/envs/moose/lib -I/root/miniconda3/envs/moose/include -L/root/miniconda3/envs/moose/lib -Wl,-rpath -Wl,/root/miniconda3/envs/moose/lib -Wl,--enable-new-dtags -lmpi\nwhich $CXX; /root/miniconda3/envs/moose/bin/mpicxx\n$CXX --version; x86_64-conda-linux-gnu-c++ (conda-forge gcc 12.3.0-7) 12.3.0\n$CXX -show; x86_64-conda-linux-gnu-c++ -I/root/miniconda3/envs/moose/include -I/root/miniconda3/envs/moose/include -L/root/miniconda3/envs/moose/lib -Wl,-rpath,/root/miniconda3/envs/moose/lib -I/root/miniconda3/envs/moose/include -L/root/miniconda3/envs/moose/lib -lmpicxx -Wl,-rpath -Wl,/root/miniconda3/envs/moose/lib -Wl,--enable-new-dtags -lmpi\nwhich $FC; /root/miniconda3/envs/moose/bin/mpif90\n$FC --version; GNU Fortran (conda-forge gcc 12.3.0-7) 12.3.0\n$FC -show; x86_64-conda-linux-gnu-gfortran -I/root/miniconda3/envs/moose/include -L/root/miniconda3/envs/moose/lib -Wl,-rpath,/root/miniconda3/envs/moose/lib -I/root/miniconda3/envs/moose/include -I/root/miniconda3/envs/moose/include -L/root/miniconda3/envs/moose/lib -lmpifort -Wl,-rpath -Wl,/root/miniconda3/envs/moose/lib -Wl,--enable-new-dtags -lmpi\nwhich $F77; /root/miniconda3/envs/moose/bin/mpif77\n$F77 --version; GNU Fortran (conda-forge gcc 12.3.0-7) 12.3.0\n$F77 -show; x86_64-conda-linux-gnu-gfortran -I/root/miniconda3/envs/moose/include -fallow-argument-mismatch -L/root/miniconda3/envs/moose/lib -Wl,-rpath,/root/miniconda3/envs/moose/lib -I/root/miniconda3/envs/moose/include -I/root/miniconda3/envs/moose/include -L/root/miniconda3/envs/moose/lib -lmpifort -Wl,-rpath -Wl,/root/miniconda3/envs/moose/lib -Wl,--enable-new-dtags -lmpi\nwhich $F90; /root/miniconda3/envs/moose/bin/mpif90\n$F90 --version; GNU Fortran (conda-forge gcc 12.3.0-7) 12.3.0\n$F90 -show; x86_64-conda-linux-gnu-gfortran -I/root/miniconda3/envs/moose/include -L/root/miniconda3/envs/moose/lib -Wl,-rpath,/root/miniconda3/envs/moose/lib -I/root/miniconda3/envs/moose/include -I/root/miniconda3/envs/moose/include -L/root/miniconda3/envs/moose/lib -lmpifort -Wl,-rpath -Wl,/root/miniconda3/envs/moose/lib -Wl,--enable-new-dtags -lmpi\nOK\n####################################################################################################\nPython Sanity Checks\n/usr/bin/env python3 --version; (reporting as: Python 3.11.8) matches\nwhich python3 python;\n/root/miniconda3/envs/moose/bin/python3 --version; == Python 3.11.8\n/root/miniconda3/envs/moose/bin/python --version; == Python 3.11.8\nOK\n####################################################################################################\nPython Modules (TestHarness, run-ability)\nOK\n####################################################################################################\nMOOSE Repository/Conda Version Checks\n          Installed     Required\n\nmoose-dev     2024.10.01 == 2024.10.01\nmoose-libmesh 2024.08.30 == 2024.08.30\nmoose-petsc   3.21.5     == 3.21.5\nmoose-wasp    2024.05.08 == 2024.05.08\nmoose-mpi     2024.10.01 == 2024.10.01\nOK\nchecks PASSED",
                          "url": "https://github.com/idaholab/moose/discussions/28841#discussioncomment-10931425",
                          "updatedAt": "2024-10-14T00:51:37Z",
                          "publishedAt": "2024-10-14T00:51:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok that s the problem\nyou have to use the example 3 executable to run the ex03 inputs\nthere's an object in that folder you need to use",
                          "url": "https://github.com/idaholab/moose/discussions/28841#discussioncomment-10931431",
                          "updatedAt": "2024-10-14T00:54:09Z",
                          "publishedAt": "2024-10-14T00:54:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "libinbabu1991"
                          },
                          "bodyText": "I changed the directory from dog to moose and tried. But the error still comes. Please see below:\n(moose) root@131-ENG-DESKTOP:/projects/dog/ex03_coupling# cd /projects/moose/examples/ex03_coupling\n(moose) root@131-ENG-DESKTOP:/projects/moose/examples/ex03_coupling# make -j8\n(moose) root@131-ENG-DESKTOP:/projects/moose/examples/ex03_coupling# ./ex03-opt -i ex03.i\n*** Info ***\n'execute_on' parameter specified in [Outputs] block is ignored for object 'checkpoint'.\nDefine this object in its own sub-block of [Outputs] to modify its execution schedule.\n*** ERROR ***\n/root/projects/moose/examples/ex03_coupling/ex03.i:23: missing required parameter 'Kernels/conv/velocity'\nDoc String: \"Velocity Vector\"\nStack frames: 19\n0: libMesh::print_trace(std::ostream&)",
                          "url": "https://github.com/idaholab/moose/discussions/28841#discussioncomment-10931460",
                          "updatedAt": "2024-10-14T01:03:30Z",
                          "publishedAt": "2024-10-14T01:03:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "did you modify this ex03.i input?",
                          "url": "https://github.com/idaholab/moose/discussions/28841#discussioncomment-10931517",
                          "updatedAt": "2024-10-14T01:21:11Z",
                          "publishedAt": "2024-10-14T01:21:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "libinbabu1991"
                          },
                          "bodyText": "Hi,\nI was able to successfully run example 3 when I used the input file from a fresh package of example files. I used the examples from TMAP8>MOOSE\n\\wsl.localhost\\Ubuntu\\root\\projects\\TMAP8\\moose\\examples\\ex03_coupling\nI might have made some modifications to the initial package of ex03.i file unknowingly.\nThanks for your patience and support!",
                          "url": "https://github.com/idaholab/moose/discussions/28841#discussioncomment-10939398",
                          "updatedAt": "2024-10-14T17:09:10Z",
                          "publishedAt": "2024-10-14T17:09:09Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "[need help] 3 questions RE: ElementSubdomainModifier and CoupledVarThresholdElementSubdomainModifier",
          "author": {
            "login": "Traiwit"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHi guys,\nI have 3 questions RE: ElementSubdomainModifier (more specifically CoupledVarThresholdElementSubdomainModifier)\nFirst question, how do I make BC wait for the boundary to be generated? lets say i'm generating a boundary at every time step\n [new_side]\n    type = CoupledVarThresholdElementSubdomainModifier\n    coupled_var = 'state_M0'\n    criterion_type = EQUAL\n    threshold = 1\n    subdomain_id = 3\n    complement_subdomain_id = 1\n    moving_boundary_name = moving_boundary_tet\n    execute_on = 'TIMESTEP_BEGIN'\n[]\n\nbut during the initialization, it just gives this error\n*** ERROR ***\n(BCs/bc_drain0001_Pit/boundary):\n    the following side sets (ids) do not exist on the mesh: moving_boundary_tet (21)\n    \n    MOOSE distinguishes between \"node sets\" and \"side sets\" depending on whether \n    you are using \"Nodal\" or \"Integrated\" BCs respectively. Node sets corresponding \n    to your side sets are constructed for you by default.\n    \n    Try setting \"Mesh/construct_side_list_from_node_list=true\" if you see this error.\n    Note: If you are running with adaptivity you should prefer using side sets.\n\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n\nI tried to ignore the checks, but still doesnt work\n[Problem]\n  boundary_restricted_elem_integrity_check = false  # default: true\n  boundary_restricted_node_integrity_check = false   # default: true\n  check_uo_aux_state = false                        # default: false\n  error_on_jacobian_nonzero_reallocation = false    # default: false\n  fv_bcs_integrity_check = false                     # default: true\n  kernel_coverage_check = false                      # default: true\n  material_coverage_check = false                    # default: true\n  material_dependency_check = false                  # default: true\n  skip_nl_system_check = false                      # default: false\n[]\n\n\nQuestion2: if I call CoupledVarThresholdElementSubdomainModifier twice in 1 input file, the surface/side generated is overwritten the previous one, for example if I do this\n[tet]\n  type = CoupledVarThresholdElementSubdomainModifier\n  coupled_var = 'state_M0'\n  criterion_type = EQUAL\n  block = '1 3'\n  threshold = 1\n  subdomain_id = 3\n  complement_subdomain_id = 1\n  moving_boundary_name = moving_boundary_tet\n  execute_on = 'TIMESTEP_BEGIN'\n[]\n\n\n[wedge]\n  type = CoupledVarThresholdElementSubdomainModifier\n  coupled_var = 'state_M0'\n  block = '2 4'\n  criterion_type = EQUAL\n  threshold = 1\n  subdomain_id = 4\n  complement_subdomain_id = 2\n  moving_boundary_name = moving_boundary_wedge\n  execute_on = 'TIMESTEP_BEGIN'\n[]\n\nonly moving_boundary_wedge will be produced in the mesh, how to overcome this problem? as later on, i might want to generate surface at the top of the mesh for surface recharge and stuff as well as the drain surface\n\nLast question, this is probs the most headache one\nI have modified ElementSubdomainModifier, so that it only produces surface(s) based on the variable, (i dont want anything to do with Subdomain whatsoever). I'm not so good with C++ so I mostly just commented out lines that related to subdomain\nnow I have a problem, the surface I generated is almost perfect, but it still generated artificial surfaces inside the main surface, I dig deep enough to realise that this 'inside surface' is caused by the parallelisation? the more mpi cores > the more inside surfaces\n\ncompare to the one I want (pre-made, not generated)\n\nbelow is my modified ElementSubdomainModifier.C could you help me to improve this?\nor should I make another function that remove the surfaces inside any surface (scan all directions, etc)?\n#include \"ElementSubdomainModifier.h\"\n#include \"DisplacedProblem.h\"\n\n#include \"libmesh/parallel_algebra.h\"\n#include \"libmesh/parallel.h\"\n#include \"libmesh/dof_map.h\"\n#include \"libmesh/remote_elem.h\"\n#include \"libmesh/parallel_ghost_sync.h\"\n\nInputParameters\nElementSubdomainModifier::validParams()\n{\n  InputParameters params = ElementUserObject::validParams();\n  params.addClassDescription(\n      \"Modify element subdomain ID. This userobject only runs on the undisplaced mesh, and it will \"\n      \"modify both the undisplaced and the displaced mesh.\");\n  params.addParam<bool>(\"apply_initial_conditions\",\n                        true,\n                        \"Whether to apply initial conditions on the moved nodes and elements\");\n  params.addParam<BoundaryName>(\n      \"moving_boundary_name\",\n      \"Boundary to modify when an element is moved. A boundary with the provided name will be \"\n      \"created if not already exists on the mesh.\");\n  params.addParam<BoundaryName>(\"complement_moving_boundary_name\",\n                                \"Boundary that associated with the unmoved domain when neighbor \"\n                                \"element(s) is moved. A boundary with the provided name will be \"\n                                \"created if not already exists on the mesh.\");\n  params.set<bool>(\"use_displaced_mesh\") = false;\n  params.suppressParameter<bool>(\"use_displaced_mesh\");\n  return params;\n}\n\nElementSubdomainModifier::ElementSubdomainModifier(const InputParameters & parameters)\n  : ElementUserObject(parameters),\n    _displaced_problem(_fe_problem.getDisplacedProblem().get()),\n    _apply_ic(getParam<bool>(\"apply_initial_conditions\")),\n    _moving_boundary_specified(isParamValid(\"moving_boundary_name\")),\n    _complement_moving_boundary_specified(isParamValid(\"complement_moving_boundary_name\")),\n    _moving_boundary_id(-1)\n{\n}\n\nvoid\nElementSubdomainModifier::initialSetup()\n{\n  if (_moving_boundary_specified)\n  {\n    _moving_boundary_name = getParam<BoundaryName>(\"moving_boundary_name\");\n    setMovingBoundaryName(_mesh);\n    if (_displaced_problem)\n      setMovingBoundaryName(_displaced_problem->mesh());\n  }\n\n  if (_complement_moving_boundary_specified)\n  {\n    _complement_moving_boundary_name = getParam<BoundaryName>(\"complement_moving_boundary_name\");\n    setComplementMovingBoundaryName(_mesh);\n    if (_displaced_problem)\n      setComplementMovingBoundaryName(_displaced_problem->mesh());\n  }\n}\n\nvoid\nElementSubdomainModifier::setMovingBoundaryName(MooseMesh & mesh)\n{\n  // We only need one boundary to modify. Create a dummy vector just to use the API.\n  const std::vector<BoundaryID> boundary_ids = mesh.getBoundaryIDs({{_moving_boundary_name}}, true);\n  mooseAssert(boundary_ids.size() == 1, \"Expect exactly one boundary ID.\");\n  _moving_boundary_id = boundary_ids[0];\n  mesh.setBoundaryName(_moving_boundary_id, _moving_boundary_name);\n  mesh.getMesh().get_boundary_info().sideset_name(_moving_boundary_id) = _moving_boundary_name;\n  mesh.getMesh().get_boundary_info().nodeset_name(_moving_boundary_id) = _moving_boundary_name;\n}\n\nvoid\nElementSubdomainModifier::setComplementMovingBoundaryName(MooseMesh & mesh)\n{\n  // We only need one boundary to modify. Create a dummy vector just to use the API.\n  const std::vector<BoundaryID> boundary_ids =\n      mesh.getBoundaryIDs({{_complement_moving_boundary_name}}, true);\n  mooseAssert(boundary_ids.size() == 1, \"Expect exactly one boundary ID.\");\n  _complement_moving_boundary_id = boundary_ids[0];\n  mesh.setBoundaryName(_complement_moving_boundary_id, _complement_moving_boundary_name);\n  mesh.getMesh().get_boundary_info().sideset_name(_complement_moving_boundary_id) =\n      _complement_moving_boundary_name;\n  mesh.getMesh().get_boundary_info().nodeset_name(_complement_moving_boundary_id) =\n      _complement_moving_boundary_name;\n}\n\nvoid\nElementSubdomainModifier::initialize()\n{\n  _moved_elems.clear();\n  _moved_displaced_elems.clear();\n  _moved_nodes.clear();\n  _cached_subdomain_assignments.clear();\n  _moving_boundary_subdomains.clear();\n}\n\nvoid\nElementSubdomainModifier::execute()\n{\n  // First, compute the desired subdomain ID for the current element.\n  SubdomainID subdomain_id = computeSubdomainID();\n\n  // If the current element's subdomain ID isn't what we want\n  if (subdomain_id != std::numeric_limits<SubdomainID>::max() &&\n      _current_elem->subdomain_id() != subdomain_id)\n  {\n    _moving_boundary_subdomains.insert(subdomain_id);\n    _moving_boundary_subdomains.insert(_current_elem->subdomain_id());\n    // Current element ID, used to index both the element on the displaced and undisplaced meshes.\n    _mesh.getMesh().allow_renumbering(false);\n    dof_id_type elem_id = _current_elem->id();\n    // Change the element's subdomain\n    Elem * elem = _mesh.elemPtr(elem_id);\n    // Elem * displaced_elem =\n    //     _displaced_problem ? _displaced_problem->mesh().elemPtr(elem_id) : nullptr;\n    _mesh.getMesh().allow_renumbering(false);\n\n    // Save the affected nodes so that we can later update/initialize the solution\n    for (unsigned int i = 0; i < elem->n_nodes(); ++i)\n      _moved_nodes.insert(elem->node_id(i));\n    // _cached_subdomain_assignments.emplace_back(elem, subdomain_id);\n    _moved_elems.push_back(elem);\n\n  }\n}\n\n\nvoid\nElementSubdomainModifier::threadJoin(const UserObject & in_uo)\n{\n  // Join the data from uo into _this_ object:\n  const auto & uo = static_cast<const ElementSubdomainModifier &>(in_uo);\n\n  _moved_elems.insert(_moved_elems.end(), uo._moved_elems.begin(), uo._moved_elems.end());\n\n  _moved_displaced_elems.insert(_moved_displaced_elems.end(),\n                                uo._moved_displaced_elems.begin(),\n                                uo._moved_displaced_elems.end());\n\n  _moved_nodes.insert(uo._moved_nodes.begin(), uo._moved_nodes.end());\n  // _cached_subdomain_assignments.insert(_cached_subdomain_assignments.end(),\n  //                                      uo._cached_subdomain_assignments.begin(),\n  //                                      uo._cached_subdomain_assignments.end());\n}\n\nvoid\nElementSubdomainModifier::finalize()\n{\n  // Do not apply cached subdomain changes\n  // for (auto & [elem, subdomain_id] : _cached_subdomain_assignments)\n  //   elem->subdomain_id() = subdomain_id;\n\n  _ghost_sides_to_add.clear();\n  _complement_ghost_sides_to_add.clear();\n  _complement_ghost_sides_to_remove.clear();\n  _complement_ghost_nodes_to_remove.clear();\n\n  /*\n    Synchronize ghost element subdomain ID\n    Note: this needs to be done before updating boundary info because\n    updating boundary requires the updated element subdomain ids\n  */\n  SyncSubdomainIds sync(_mesh.getMesh());\n  Parallel::sync_dofobject_data_by_id(_mesh.getMesh().comm(),\n                                      _mesh.getMesh().elements_begin(),\n                                      _mesh.getMesh().elements_end(),\n                                      sync);\n\n\n  if (_moving_boundary_specified)\n    updateMovingBoundaryInfo(_mesh, _moved_elems);\n\n  // Synchronize boundary information after mesh update\n  synchronizeBoundaryInfo(_mesh);\n\n  // // Reinit equation systems\n  // _fe_problem.meshChanged();\n\n  _mesh.getMesh().allow_renumbering(false);\n\n  // // Apply initial condition for the newly moved elements and boundary nodes\n  buildMovedElemsRange();\n  buildMovedBndNodesRange();\n\n\n\n}\n\n\n\n\nvoid\nElementSubdomainModifier::updateMovingBoundaryInfo(MooseMesh & mesh, const std::vector<const Elem *> & moved_elems)\n{\n\n\n  if (_moving_boundary_subdomains.size())\n    mooseAssert(_moving_boundary_subdomains.size() == 2,\n                \"The number of moving subdomains should be two\");\n\n  BoundaryInfo & bnd_info = mesh.getMesh().get_boundary_info();\n\n  bnd_info.sideset_name(_moving_boundary_id) = _moving_boundary_name;\n  bnd_info.nodeset_name(_moving_boundary_id) = _moving_boundary_name;\n\n  auto & elem_side_bnd_ids = bnd_info.get_sideset_map();\n  std::set<const Elem *> boundary_elem_candidates(moved_elems.begin(), moved_elems.end());\n  std::vector<std::pair<const Elem *, unsigned int>> elem_sides_to_be_cleared;\n\n  std::cout << \"Number of moved elements: \" << moved_elems.size() << std::endl;\n\n  // Collect current boundary elements and sides to be cleared\n  for (const auto & [elem, side_bnd] : elem_side_bnd_ids)\n  {\n    auto side = side_bnd.first;\n    auto boundary_id = side_bnd.second;\n    if (boundary_id == _moving_boundary_id)\n    {\n      elem_sides_to_be_cleared.emplace_back(elem, side);\n      // std::cout << \"Marking old boundary side for removal: Elem ID \" << elem->id() << \", Side \" << side << std::endl;\n    }\n  }\n\n  // Clear old boundary sides\n  for (auto & [elem, side] : elem_sides_to_be_cleared)\n  {\n    bnd_info.remove_side(elem, side, _moving_boundary_id);\n    // std::cout << \"Removed old boundary side: Elem ID \" << elem->id() << \", Side \" << side << std::endl;\n  }\n\n  std::cout << \"Old boundary sides removed.\" << std::endl;\n\n  // Add moved elements to the candidate list\n  for (auto elem : moved_elems)\n    boundary_elem_candidates.insert(elem);\n\n  // Set to collect new boundary nodes\n  std::set<const Node *> boundary_nodes;\n\n  // Process the boundary element candidates\n  for (auto elem : boundary_elem_candidates)\n  {\n    for (auto side : elem->side_index_range())\n    {\n      const Elem * neighbor = elem->neighbor_ptr(side);\n\n      // Debug statement to print element and side info\n      // std::cout << \"Processing Element ID: \" << elem->id() << \", Side: \" << side << std::endl;\n\n      if (neighbor && neighbor->active() && neighbor != libMesh::remote_elem)\n      {\n        // Only add side if the neighbor is not part of the moved elements\n        if (std::find(moved_elems.begin(), moved_elems.end(), neighbor) == moved_elems.end())\n        {\n          bnd_info.add_side(elem, side, _moving_boundary_id);\n          // std::cout << \"Adding new boundary side: Elem ID \" << elem->id() << \", Side \" << side << std::endl;\n\n          // Collect nodes for this side\n          auto nodes = elem->nodes_on_side(side);\n          for (auto node : nodes)\n            boundary_nodes.insert(&(elem->node_ref(node)));\n        }\n      }\n      else if (neighbor && !neighbor->active() && neighbor != libMesh::remote_elem)\n      {\n        // std::cout << \"Neighbor is not active, checking family members.\" << std::endl;\n        std::vector<const Elem *> active_family;\n        auto top_parent = neighbor->top_parent();\n        top_parent->active_family_tree_by_neighbor(active_family, elem);\n        for (auto felem : active_family)\n        {\n          if (std::find(moved_elems.begin(), moved_elems.end(), felem) == moved_elems.end())\n          {\n            auto cside = felem->which_neighbor_am_i(elem);\n            bnd_info.add_side(felem, cside, _moving_boundary_id);\n            // std::cout << \"Adding new boundary side from family: Elem ID \" << felem->id() << \", Side \" << cside << std::endl;\n\n            if (felem->processor_id() != this->processor_id())\n              _ghost_sides_to_add[felem->processor_id()].emplace_back(felem->id(), cside);\n\n            // Collect nodes for this side\n            auto nodes = felem->nodes_on_side(cside);\n            for (auto node : nodes)\n              boundary_nodes.insert(&(felem->node_ref(node)));\n          }\n        }\n      }\n    }\n  }\n\n  // Clear old boundary nodes\n  auto & nodeset_map = bnd_info.get_nodeset_map();\n  std::vector<const Node *> nodes_elem_sides_to_be_cleared;\n  for (const auto & pair : bnd_info.get_nodeset_map())\n    if (pair.second == _moving_boundary_id)\n      nodes_elem_sides_to_be_cleared.push_back(pair.first);\n\n  for (const auto node : nodes_elem_sides_to_be_cleared)\n  {\n    bnd_info.remove_node(node, _moving_boundary_id);\n    // std::cout << \"Removed old boundary node: Node ID \" << node->id() << std::endl;\n  }\n\n    /* Reconstruct a new nodeset from the updated sideset */\n  // std::set<const Node *> boundary_nodes;\n  for (const auto & [elem, side_bnd] : elem_side_bnd_ids)\n  {\n    auto side = side_bnd.first;\n    auto boundary_id = side_bnd.second;\n    if (boundary_id == _moving_boundary_id)\n    {\n      auto nodes = elem->nodes_on_side(side);\n      for (auto node : nodes)\n        boundary_nodes.insert(&(elem->node_ref(node)));\n    }\n  }\n\n  // Add new boundary nodes\n  for (const auto node : boundary_nodes)\n  {\n    bnd_info.add_node(node, _moving_boundary_id);\n    // std::cout << \"Added new boundary node: Node ID \" << node->id() << std::endl;\n  }\n\n  std::cout << \"Boundary nodes updated.\" << std::endl;\n\n  // Ensure synchronization\n  // synchronizeBoundaryInfo(mesh);\n}\n\n\nvoid\nElementSubdomainModifier::updateComplementBoundaryInfo(\n    MooseMesh & mesh, const std::vector<const Elem *> & moved_elems)\n{\n\n}\n\nvoid\nElementSubdomainModifier::synchronizeBoundaryInfo(MooseMesh & mesh)\n{\n  // std::cout << \"Pushing boundary side info...\" << std::endl;\n  pushBoundarySideInfo(mesh);\n  // std::cout << \"Boundary side info pushed.\" << std::endl;\n\n  // std::cout << \"Pushing boundary node info...\" << std::endl;\n  pushBoundaryNodeInfo(mesh);\n  // std::cout << \"Boundary node info pushed.\" << std::endl;\n\n  // // std::cout << \"Synchronizing side ids...\" << std::endl;\n  mesh.getMesh().get_boundary_info().parallel_sync_side_ids();\n  // // std::cout << \"Side ids synchronized.\" << std::endl;\n\n  // // std::cout << \"Synchronizing node ids...\" << std::endl;\n  mesh.getMesh().get_boundary_info().parallel_sync_node_ids();\n\n  std::cout << \"SynchronizeBoundaryInfo is done.\" << std::endl;\n\n  // std::cout << \"Updating mesh...\" << std::endl;\n  // mesh.update();\n  // std::cout << \"Mesh updated.\" << std::endl;\n}\n\n\nvoid\nElementSubdomainModifier::pushBoundarySideInfo(MooseMesh & moose_mesh)\n{\n  auto & mesh = moose_mesh.getMesh();\n  auto elem_remove_functor =\n      [&mesh, this](processor_id_type,\n                    const std::vector<std::pair<dof_id_type, unsigned short int>> & received_elem)\n  {\n    // remove the side\n    for (const auto & pr : received_elem)\n      mesh.get_boundary_info().remove_side(\n          mesh.elem_ptr(pr.first), pr.second, _complement_moving_boundary_id);\n  };\n\n  // We create a tempalte functor to add with custom boundary IDs\n  auto elem_add_functor_with_boundary_id =\n      [&mesh](const std::vector<std::pair<dof_id_type, unsigned short int>> & received_elem,\n              const BoundaryID boundary_id)\n  {\n    // add the side\n    for (const auto & pr : received_elem)\n      mesh.get_boundary_info().add_side(mesh.elem_ptr(pr.first), pr.second, boundary_id);\n  };\n\n  // Then we use it with the regular and the complement boundary id\n  auto complement_elem_add_functor =\n      [this, elem_add_functor_with_boundary_id](\n          processor_id_type,\n          const std::vector<std::pair<dof_id_type, unsigned short int>> & received_elem)\n  { elem_add_functor_with_boundary_id(received_elem, _complement_moving_boundary_id); };\n\n  auto elem_add_functor =\n      [this, elem_add_functor_with_boundary_id](\n          processor_id_type,\n          const std::vector<std::pair<dof_id_type, unsigned short int>> & received_elem)\n  { elem_add_functor_with_boundary_id(received_elem, _moving_boundary_id); };\n\n  // Push/pull the ghost cell sides for the regular and complement boundaries\n  Parallel::push_parallel_vector_data(\n      mesh.get_boundary_info().comm(), _ghost_sides_to_add, elem_add_functor);\n  Parallel::push_parallel_vector_data(\n      mesh.get_boundary_info().comm(), _complement_ghost_sides_to_remove, elem_remove_functor);\n  if (_complement_moving_boundary_specified)\n    Parallel::push_parallel_vector_data(mesh.get_boundary_info().comm(),\n                                        _complement_ghost_sides_to_add,\n                                        complement_elem_add_functor);\n}\n\nvoid\nElementSubdomainModifier::pushBoundaryNodeInfo(MooseMesh & moose_mesh)\n{\n  auto & mesh = moose_mesh.getMesh();\n  auto node_remove_functor =\n      [&mesh, this](processor_id_type, const std::vector<dof_id_type> & received_nodes)\n  {\n    for (const auto & pr : received_nodes)\n    {\n      if (_moving_boundary_specified)\n        mesh.get_boundary_info().remove_node(mesh.node_ptr(pr), _moving_boundary_id);\n      if (_complement_moving_boundary_specified)\n        mesh.get_boundary_info().remove_node(mesh.node_ptr(pr), _complement_moving_boundary_id);\n    }\n  };\n\n  Parallel::push_parallel_vector_data(\n      mesh.get_boundary_info().comm(), _complement_ghost_nodes_to_remove, node_remove_functor);\n}\n\n\n\nvoid\nElementSubdomainModifier::buildMovedElemsRange()\n{\n  // Clear the object first\n  _moved_elems_range.reset();\n\n  // Make some fake element iterators defining this vector of elements\n  Elem * const * elem_itr_begin = const_cast<Elem * const *>(_moved_elems.data());\n  Elem * const * elem_itr_end = elem_itr_begin + _moved_elems.size();\n\n  const auto elems_begin = MeshBase::const_element_iterator(\n      elem_itr_begin, elem_itr_end, Predicates::NotNull<Elem * const *>());\n  const auto elems_end = MeshBase::const_element_iterator(\n      elem_itr_end, elem_itr_end, Predicates::NotNull<Elem * const *>());\n\n  _moved_elems_range = std::make_unique<ConstElemRange>(elems_begin, elems_end);\n}\n\nvoid\nElementSubdomainModifier::buildMovedBndNodesRange()\n{\n  // This is more involved than building the element range, because not all moved nodes are\n  // necessarily associated with a boundary initial condition. We need to first build a set of\n  // boundary nodes. Clear the object first:\n  _moved_bnd_nodes_range.reset();\n\n  // create a vector of the newly activated nodes\n  std::set<const BndNode *> moved_bnd_nodes_set;\n  for (auto & bnd_node : *_mesh.getBoundaryNodeRange())\n  {\n    dof_id_type bnd_node_id = bnd_node->_node->id();\n    if (_moved_nodes.find(bnd_node_id) != _moved_nodes.end())\n      moved_bnd_nodes_set.insert(bnd_node);\n  }\n\n  // Dump all the boundary nodes into a vector so that we can build a range out of it\n  std::vector<const BndNode *> moved_bnd_nodes;\n  moved_bnd_nodes.assign(moved_bnd_nodes_set.begin(), moved_bnd_nodes_set.end());\n\n  // Make some fake node iterators defining this vector of nodes\n  BndNode * const * bnd_node_itr_begin = const_cast<BndNode * const *>(moved_bnd_nodes.data());\n  BndNode * const * bnd_node_itr_end = bnd_node_itr_begin + moved_bnd_nodes.size();\n\n  const auto bnd_nodes_begin = MooseMesh::const_bnd_node_iterator(\n      bnd_node_itr_begin, bnd_node_itr_end, Predicates::NotNull<const BndNode * const *>());\n  const auto bnd_nodes_end = MooseMesh::const_bnd_node_iterator(\n      bnd_node_itr_end, bnd_node_itr_end, Predicates::NotNull<const BndNode * const *>());\n\n  _moved_bnd_nodes_range = std::make_unique<ConstBndNodeRange>(bnd_nodes_begin, bnd_nodes_end);\n}\n\nvoid\nElementSubdomainModifier::setOldAndOlderSolutionsForMovedNodes(SystemBase & sys)\n{\n\n}\n\nvoid\nElementSubdomainModifier::setAncestorsSubdomainIDs(const SubdomainID & subdomain_id,\n                                                   const dof_id_type & elem_id)\n{\n\n}\n\n\nif I'm not mistaken @hugary1995 is the one who created this class, right?\nI'm also tagging: @GiudGiud since you know the general framework pretty well.\nThank you very much!\nKind regards,\nTrai",
          "url": "https://github.com/idaholab/moose/discussions/27857",
          "updatedAt": "2024-10-14T02:51:06Z",
          "publishedAt": "2024-06-11T05:40:06Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Question 1:\nYou could try using Controls to start the BC as inactive, I am not sure it would work though\nI think we need a add_sideset_id parameter in the Mesh, just like we have for subdomains",
                  "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9742589",
                  "updatedAt": "2024-06-11T18:46:39Z",
                  "publishedAt": "2024-06-11T18:46:37Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Question 2: this seems like a bug. Let's make a minimal example and fix this",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9742606",
                          "updatedAt": "2024-06-11T18:47:49Z",
                          "publishedAt": "2024-06-11T18:47:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Question3: could you check that you did not over-comment out code by simply using the native subdomain modifier but making it move element from one subdomain to itself ?\nIf it checks out then this seems like a parallel bug and we'd want a minimal input there too",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9742651",
                          "updatedAt": "2024-06-11T18:52:48Z",
                          "publishedAt": "2024-06-11T18:52:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @GiudGiud\nif we can solve question2, I think can find the way to work around question3\nnot sure how the boundary name keeps over-written itself, it should come from the initialisation, esp setMovingBoundaryName, here:\nElementSubdomainModifier::ElementSubdomainModifier(const InputParameters & parameters)\n  : ElementUserObject(parameters),\n    _displaced_problem(_fe_problem.getDisplacedProblem().get()),\n    _apply_ic(getParam<bool>(\"apply_initial_conditions\")),\n    _moving_boundary_specified(isParamValid(\"moving_boundary_name\")),\n    _complement_moving_boundary_specified(isParamValid(\"complement_moving_boundary_name\")),\n    _moving_boundary_id(-1)\n{\n}\n\nvoid\nElementSubdomainModifier::initialSetup()\n{\n  if (_moving_boundary_specified)\n  {\n    _moving_boundary_name = getParam<BoundaryName>(\"moving_boundary_name\");\n    setMovingBoundaryName(_mesh);\n    if (_displaced_problem)\n      setMovingBoundaryName(_displaced_problem->mesh());\n  }\n\n  if (_complement_moving_boundary_specified)\n  {\n    _complement_moving_boundary_name = getParam<BoundaryName>(\"complement_moving_boundary_name\");\n    setComplementMovingBoundaryName(_mesh);\n    if (_displaced_problem)\n      setComplementMovingBoundaryName(_displaced_problem->mesh());\n  }\n}\n\nvoid\nElementSubdomainModifier::setMovingBoundaryName(MooseMesh & mesh)\n{\n  // We only need one boundary to modify. Create a dummy vector just to use the API.\n  const std::vector<BoundaryID> boundary_ids = mesh.getBoundaryIDs({{_moving_boundary_name}}, true);\n  mooseAssert(boundary_ids.size() == 1, \"Expect exactly one boundary ID.\");\n  _moving_boundary_id = boundary_ids[0];\n\n  \n  mesh.setBoundaryName(_moving_boundary_id, _moving_boundary_name);\n  mesh.getMesh().get_boundary_info().sideset_name(_moving_boundary_id) = _moving_boundary_name;\n  mesh.getMesh().get_boundary_info().nodeset_name(_moving_boundary_id) = _moving_boundary_name;\n}\n\nbut i'm still not sure how to fix this? do you have any suggestion? I tried this on simpler mesh, same thing happens",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9746284",
                          "updatedAt": "2024-06-12T04:34:17Z",
                          "publishedAt": "2024-06-12T04:34:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "okay this is easier than i thought\n  params.addParam<Real>(\"boundary_ID\",-1,\"Boundary ID to modify\");\n  return params;\n}\n\nElementSubdomainModifier::ElementSubdomainModifier(const InputParameters & parameters)\n  : ElementUserObject(parameters),\n    _displaced_problem(_fe_problem.getDisplacedProblem().get()),\n    _apply_ic(getParam<bool>(\"apply_initial_conditions\")),\n    _moving_boundary_specified(isParamValid(\"moving_boundary_name\")),\n    _complement_moving_boundary_specified(isParamValid(\"complement_moving_boundary_name\")),\n    _moving_boundary_id(getParam<Real>(\"boundary_ID\"))\n{\n}\n\n\nvoid\nElementSubdomainModifier::setMovingBoundaryName(MooseMesh & mesh)\n{\n  // We only need one boundary to modify. Create a dummy vector just to use the API.\n  const std::vector<BoundaryID> boundary_ids = mesh.getBoundaryIDs({{_moving_boundary_name}}, true);\n  mooseAssert(boundary_ids.size() == 1, \"Expect exactly one boundary ID.\");\n  // _moving_boundary_id = boundary_ids[0];\n  mesh.setBoundaryName(_moving_boundary_id, _moving_boundary_name);\n  mesh.getMesh().get_boundary_info().sideset_name(_moving_boundary_id) = _moving_boundary_name;\n  mesh.getMesh().get_boundary_info().nodeset_name(_moving_boundary_id) = _moving_boundary_name;\n}\n\nI will move on to Q3 and revisit Q1 later, Q1 is more like MOOSE framework kinda problem",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9746489",
                          "updatedAt": "2024-06-12T04:47:58Z",
                          "publishedAt": "2024-06-12T04:47:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "since i can produce multiple surfaces, i can just use the original version of the class to produce multiple surfaces, Q3 is done.\nNow back to Q1, where i have to find the way to apply BC to these generated surfaces",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9747009",
                          "updatedAt": "2024-06-12T05:29:28Z",
                          "publishedAt": "2024-06-12T05:28:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @GiudGiud,  RE: Question1: adding control delay the enable_objects still doesn't work, not sure what to do at this point. if I could skip the BC checking during the initialisation would be nice.\n[Controls]\n  [controls0001]\n    type = ConditionalFunctionEnableControl\n    enable_objects = 'BCs::bc_walls_west_2'\n    # disable_objects = 'BCs::bc_walls_west_2'\n    conditional_function = 'if(t>0.1 ,1, 0)'\n    execute_on = 'INITIAL TIMESTEP_BEGIN'\n  []\n[]  \n\n  [./bc_walls_west_2]\n    type = PorousFlowPiecewiseLinearSinkBEH\n    variable = porepressure\n    boundary = 'moving_boundary_tet moving_boundary_wedge'\n    pt_vals = '0 1e10'\n    multipliers = '0 1e10'\n    flux_function =  0.1\n    charElLength = minL\n    check_state = true\n    state = state\n    use_mobility = true\n    fluid_phase = 0\n    save_in = flux_west_wall\n  [../]",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9749419",
                          "updatedAt": "2024-06-12T09:24:28Z",
                          "publishedAt": "2024-06-12T09:24:27Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "RE: Question1: adding control delay the enable_objects still doesn't work, not sure what to do at this point.\n\nok I m not surprised.You can either use a restart setup or we can look into adding the add_sideset_id parameter to the Mesh block",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9751356",
                          "updatedAt": "2024-06-12T12:46:00Z",
                          "publishedAt": "2024-06-12T12:46:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "restart wouldnt be ideal\nI tried add_sideset_id, also didnt work, i think we need to have something like a container sideset by name instead of ID, do we have any of this? or do i have to do this in mesh level (ie modify Abaqus mesh file)?",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9751679",
                          "updatedAt": "2024-06-12T13:12:05Z",
                          "publishedAt": "2024-06-12T13:12:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I tried add_sideset_id, also didnt work,\n\nhow did you try? did you implement it? it's not implemented",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9752971",
                          "updatedAt": "2024-06-12T14:49:55Z",
                          "publishedAt": "2024-06-12T14:49:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@Traiwit I am looking at doing the first item.\nCan you please confirm you need sideset and not nodeset?\nI ll add support for sideset names too.\nI am still interested in a MWE showing the boundary issues in parallel btw",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-9790144",
                          "updatedAt": "2024-06-17T05:01:09Z",
                          "publishedAt": "2024-06-17T04:52:51Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "Traiwit"
                  },
                  "bodyText": "Hi @GiudGiud\ni'm revisiting this again, at this point I still cannot overcome the QUESTION1\nI can create an empty sideset/nodeset (via Abaqus mesh .inp file) but MOOSE still doesn't see it unless those sideset/nodeset have something inside it.\n*** ERROR ***\n/home/moose/RD2024GNKT/R02HR02/GNKT2020066_R02HR02_Q02H_attempt4_surfgen_ptshift.i:749: (BCs/bc_drain_tet/boundary):\n    the following side sets (ids) do not exist on the mesh: moving_boundary_tet (30)\n    \n    MOOSE distinguishes between \"node sets\" and \"side sets\" depending on whether \n    you are using \"Nodal\" or \"Integrated\" BCs respectively. Node sets corresponding \n    to your side sets are constructed for you by default.\n    \n    Try setting \"Mesh/construct_side_list_from_node_list=true\" if you see this error.\n    Note: If you are running with adaptivity you should prefer using side sets.\n\nMy simulation will generate these surfaces later during the TIMESTEP_BEGIN , just wonder how do i even skip this during initialisation.",
                  "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-10931339",
                  "updatedAt": "2024-10-14T00:28:25Z",
                  "publishedAt": "2024-10-14T00:28:25Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "so declaring them in the Mesh block does not work?",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-10931358",
                          "updatedAt": "2024-10-14T00:31:51Z",
                          "publishedAt": "2024-10-14T00:31:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "by setting add_sideset_ids or add_sideset_names",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-10931361",
                          "updatedAt": "2024-10-14T00:32:30Z",
                          "publishedAt": "2024-10-14T00:32:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @GiudGiud this works!\nI didnt aware of this add_sideset_ids or add_sideset_names since last time i mentioned here, and we couldnt/didnt update our main MOOSE for almost half a year.\nFor some weird reason, when we update our MOOSE it changed the way of one of the Kernels works, we run test on PorousFlow module and they are all passed which is super weird. #27743\nanyways, this problem is solved, we might need to revisit #27743 soon\nThank you!\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/27857#discussioncomment-10931845",
                          "updatedAt": "2024-10-14T02:51:07Z",
                          "publishedAt": "2024-10-14T02:51:06Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "A 'ExampleConvection' is not a registered object.",
          "author": {
            "login": "engrmessi"
          },
          "bodyText": "I tried to run the ex02 file with sbatch file , then i got this error. ex01 file ran successfully with sbatch. please how do i fix this?",
          "url": "https://github.com/idaholab/moose/discussions/23838",
          "updatedAt": "2024-10-13T02:00:34Z",
          "publishedAt": "2023-03-24T21:16:12Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nyou\u2019re probably not using the executable for example 2\nthe code (example convection object) is specific to each example, these objects are not used anywhere else",
                  "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-5423043",
                  "updatedAt": "2023-03-24T21:27:29Z",
                  "publishedAt": "2023-03-24T21:27:28Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "engrmessi"
                          },
                          "bodyText": "I used the file ex02.i . is this the file you mean?",
                          "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-5423093",
                          "updatedAt": "2023-03-24T21:36:11Z",
                          "publishedAt": "2023-03-24T21:36:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "It's not just the input file, there's code for the ExampleConvection object in the moose/examples/ex02_kernel folder",
                          "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-5423423",
                          "updatedAt": "2023-03-24T22:37:31Z",
                          "publishedAt": "2023-03-24T22:37:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "libinbabu1991"
                          },
                          "bodyText": "Hello,\nI also got the same error:\nA 'ExampleConvection' is not a registered object.\nI edited the parameter name as instructed based on my app name cat1\nregisterMooseObject(\"cat1App\", ExampleConvection);\nStill getting the same error. Please advise how to run the example 2 correctly.\n-Libin",
                          "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-10923639",
                          "updatedAt": "2024-10-12T16:25:56Z",
                          "publishedAt": "2024-10-12T16:25:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "hello\nonce you registered, did you recompile?\nand are you using the executable in the folder that you compiled in?",
                          "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-10924023",
                          "updatedAt": "2024-10-12T17:46:17Z",
                          "publishedAt": "2024-10-12T17:46:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "libinbabu1991"
                          },
                          "bodyText": "Hi,\nI didn't quite get what you mean by register. May be this is the issue?\nAs a new user, I need to familiarize with the process. Let me explain what has been done so far.\nI copied only the ex02, mug.e amd the kernal from the example folder to my problem folder.\nI also went to example problem folder in the Moose folder and changed the name to src/base/cat1App.  (cat1 is my app name)\nWhen I run this in Moose, I get the same error message:\nA 'ExampleConvection' is not a registered object.",
                          "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-10924149",
                          "updatedAt": "2024-10-12T18:08:36Z",
                          "publishedAt": "2024-10-12T18:08:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "register is the \"register\" call at the top of the source of ExampleConvection\nDid you recompile after changing anything in the source code?",
                          "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-10924164",
                          "updatedAt": "2024-10-12T18:11:39Z",
                          "publishedAt": "2024-10-12T18:11:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "libinbabu1991"
                          },
                          "bodyText": "If you mean changing the ExampleApp to Moose app in the below register parameter, yes.\nregisterMooseObject(\"MooseApp\", ExampleConvection);\nYes, I recompiled as well.",
                          "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-10924287",
                          "updatedAt": "2024-10-12T18:29:55Z",
                          "publishedAt": "2024-10-12T18:29:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "can you paste the compilation log here please?\nand then the command you run in the directory, where you hit the error",
                          "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-10924377",
                          "updatedAt": "2024-10-12T18:49:24Z",
                          "publishedAt": "2024-10-12T18:49:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "libinbabu1991"
                          },
                          "bodyText": "Hi,\nI created a new app called dog. I could not run the example 2 from this new folder initially because of the error that I have mentioned above.\nHowever it is working now after making some changes as below. Not sure if they are the right steps for using in the next examples given in the Moose package.\n\nCopied the ex02 and mug.e from the moose\\examples\\ex02_kernel to dog folder\nCopied the Example.c from the moose\\examples\\ex02_kernel\\src\\kernels to dog folder\nCopied the Example.h moose\\examples\\ex02_kernel\\include\\kernels to dog\\include\nEdited the Example.c content from registerMooseObject(\"ExampleApp\", ExampleConvection); to registerMooseObject(\"dogApp\", ExampleConvection);",
                          "url": "https://github.com/idaholab/moose/discussions/23838#discussioncomment-10925725",
                          "updatedAt": "2024-10-13T02:04:01Z",
                          "publishedAt": "2024-10-13T02:00:34Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}