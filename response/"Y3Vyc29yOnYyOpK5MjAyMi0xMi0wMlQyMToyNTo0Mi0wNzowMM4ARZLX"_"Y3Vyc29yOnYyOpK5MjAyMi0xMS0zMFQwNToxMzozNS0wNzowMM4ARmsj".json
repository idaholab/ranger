{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMi0xMS0zMFQwNToxMzozNS0wNzowMM4ARmsj"
    },
    "edges": [
      {
        "node": {
          "title": "Output displacement at a node with GeneratedMesh",
          "author": {
            "login": "selarem"
          },
          "bodyText": "Hi,\nI would like to make a force-displacement curve.\nI can have the force reactions at a boundary but I would like to output (csv table the displacement at a node from the same boundary).\nWhen the mesh comes from a file, I could see the number of the concerned node and make postprocessing with NodalVariableValue to output the displacements. However, with GeneratedMesh, I have not the node number.\nAny suggestion ?\nThanks in advance\nsab",
          "url": "https://github.com/idaholab/moose/discussions/22844",
          "updatedAt": "2022-12-22T09:09:04Z",
          "publishedAt": "2022-12-01T15:05:09Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "maxnezdyur"
                  },
                  "bodyText": "Would something like NodalExtremeValue work for you? It can give the max or min of a value from the nodes on a boundary.",
                  "url": "https://github.com/idaholab/moose/discussions/22844#discussioncomment-4284326",
                  "updatedAt": "2022-12-01T15:13:25Z",
                  "publishedAt": "2022-12-01T15:13:24Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You could also output all the nodal values and postprocess from there.\nThe NodalValueSampler is a VPP that does that",
                          "url": "https://github.com/idaholab/moose/discussions/22844#discussioncomment-4284366",
                          "updatedAt": "2022-12-01T15:17:10Z",
                          "publishedAt": "2022-12-01T15:17:09Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "selarem"
                  },
                  "bodyText": "This is the most appropriate way to do it.\nThanks\n\nLe jeu. 1 d\u00e9c. 2022, 16:13, Max Nezdyur ***@***.***> a \u00e9crit :\n\u2026\n Would something like NodalExtremeValue work for you? It can give the max\n or min of a value from the nodes on a boundary.\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22844 (comment)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/AFBUGDD3LTJ262OXNFH5S5DWLC6CBANCNFSM6AAAAAASQ4M3DA>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>",
                  "url": "https://github.com/idaholab/moose/discussions/22844#discussioncomment-4294723",
                  "updatedAt": "2022-12-02T17:53:18Z",
                  "publishedAt": "2022-12-02T17:53:17Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to initialise VectorOfPostprocessors",
          "author": {
            "login": "fervaldies"
          },
          "bodyText": "Hello, I am currently using a \"getPostprocessorValue\" and \"getPostprocessorValueOld\" to receive the temperature of one location in the 3D model. What I want to do is to change the position of this Postprocessor at a certain time step in the simulation, and I was thinking of using a vector of postprocessors and then take the, for example, temp[1] and then temp[2] for different time steps to change the location of the point to collect the temperature. Is there any getVectorPostprocessorValue or something similar? If so, how do I initialise it in the .C and .h files? The .i code would look something like:\n[Materials]\n [./vol_h]\n    temp_passes = 'temp_pass1 temp_pass2 temp_pass3'\n []\n[]\n\n...\n...\n\n[Postprocessors]\n  [./temp_pass1]\n    type = PointValue\n    variable = temp\n    point = '2 2 2'\n  [../]\n  [./temp_pass2]\n    type = PointValue\n    variable = temp\n    point = '2 3 1'\n  [../]\n  [./temp_pass3]\n    type = PointValue\n    variable = temp\n    point = '1 2 3'\n  [../]\n[]\n\nBeing temp_pass1, temp_pass2, and temp_pass3 the postprocessors that I would like to select depending on the time step. So something like temp_passes[1] or temp_passes[2], as an example.\nThank you in advance",
          "url": "https://github.com/idaholab/moose/discussions/22854",
          "updatedAt": "2023-01-03T23:23:09Z",
          "publishedAt": "2022-12-02T09:47:05Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThere are a few options here:\n\n\nuse the VPP interface. Then there is a getVectorPostprocessorValue routine. There are similar routines for \"old\" values.\nYou may need to add it to the list of classes your object inherits from if it's not already (99% chance it is)\nhttps://mooseframework.inl.gov/docs/doxygen/moose/classVectorPostprocessorInterface.html\n\n\nuse the Reporter interface and use the getReporterValue with the name of the VPP and the name of the vector within the VPP.\nThis is because all VPPs are reporters\nhttps://mooseframework.inl.gov/docs/doxygen/moose/classReporterInterface.html\n\n\ndont use your strategy by changing the indexing, but by changing the position in the postprocessor and, if necessary, performing the geometric search again for the new position.\nChanging the position can be done by making it controllable and using the Controls system.\nhttps://mooseframework.inl.gov/syntax/Controls/index.html\n\n\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22854#discussioncomment-4293616",
                  "updatedAt": "2022-12-02T15:42:03Z",
                  "publishedAt": "2022-12-02T15:42:02Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "SinglePhaseFluidProperties & ADVariableValue",
          "author": {
            "login": "joe61vette"
          },
          "bodyText": "I feel really dumb asking this but...\nI am writing a material that uses a SinglePhaseFluidProperties UO to get the necessary properties.  In the header, I have:\n // Nonlinear variables:\n  const ADVariableValue & _p;    // pressure\n  const ADVariableValue & _T;    // fluid temperature\n\n  /// Properties produced by this material\n  const ADMaterialProperty<Real> & _rho;    // fluid density\n\nIn the source file, I initialize the ADVariableValues :\n    _p(adCoupledValue(\"pressure\")),\n    _T(adCoupledValue(\"temperature\")),\n\nand declare the material property with:\n_rho(declareADProperty<Real>(\"density\")),\n\nIn computeQpProperties() I have:\n_rho[_qp] = _fluid.rho_from_p_T(_p[_qp], _T[_qp]);\n\nwhere _fluid is an instance of SinglePhaseFluidProperties UO.\nOn compile, I get the following error:\n/Users/joe/projects/ASP/src/materials/SPFluidMaterial.C:132:13: error: no viable overloaded '='\n  _rho[_qp] = _fluid.rho_from_p_T(_p[_qp], _T[_qp]);\n  ~~~~~~~~~ ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/Users/joe/mambaforge3/envs/moose/libmesh/include/metaphysicl/dualnumber_decl.h:85:15: note: candidate function not viable: 'this' argument has type 'const MooseADWrapper<double, true>' (aka 'const DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, NWrapper<53>>, true>'), but method is not marked const\n  DualNumber& operator= (DualNumber<T, D, asd> && /*src*/);\n              ^\n/Users/joe/mambaforge3/envs/moose/libmesh/include/metaphysicl/dualnumber_decl.h:94:15: note: candidate function not viable: 'this' argument has type 'const MooseADWrapper<double, true>' (aka 'const DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, NWrapper<53>>, true>'), but method is not marked const\n  DualNumber& operator= (const DualNumber<T, D, asd> & /*src*/);\n              ^\n/Users/joe/mambaforge3/envs/moose/libmesh/include/metaphysicl/dualnumber_decl.h:97:16: note: candidate function template not viable: 'this' argument has type 'const MooseADWrapper<double, true>' (aka 'const DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, NWrapper<53>>, true>'), but method is not marked const\n  DualNumber & operator=(const DualNumber<T2,D2,asd> & dn);\n               ^\n/Users/joe/mambaforge3/envs/moose/libmesh/include/metaphysicl/dualnumber_decl.h:100:16: note: candidate template ignored: could not match 'NotADuckDualNumber' against 'DualNumber'\n  DualNumber & operator=(const NotADuckDualNumber<T2,D2> & nd_dn);\n               ^\n/Users/joe/mambaforge3/envs/moose/libmesh/include/metaphysicl/dualnumber_decl.h:106:16: note: candidate template ignored: could not match 'DualNumberSurrogate' against 'DualNumber'\n  DualNumber & operator= (const DualNumberSurrogate<T2, D2> & dns);\n               ^\n/Users/joe/mambaforge3/envs/moose/libmesh/include/metaphysicl/dualnumber_decl.h:109:16: note: candidate function template not viable: 'this' argument has type 'const MooseADWrapper<double, true>' (aka 'const DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, NWrapper<53>>, true>'), but method is not marked const\n  DualNumber & operator= (const T2 & scalar);\n               ^\n\nIs an ADVariableValue not a DualNumber so that propfuncAD doesn't work as expected?\nThanks for the help,\nJoe Kelly",
          "url": "https://github.com/idaholab/moose/discussions/22850",
          "updatedAt": "2022-12-02T15:39:45Z",
          "publishedAt": "2022-12-02T00:23:07Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hi Joe\nrho is being modified by _rho[_qp] = _fluid.rho_from_p_T(_p[_qp], _T[_qp]);\nso it cant be const. In the header you have:\nconst ADMaterialProperty & _rho; // fluid density\nit should be\nADMaterialProperty & _rho; // fluid density\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22850#discussioncomment-4288132",
                  "updatedAt": "2022-12-02T00:28:36Z",
                  "publishedAt": "2022-12-02T00:28:35Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "joe61vette"
                          },
                          "bodyText": "THANKS Guillaume.  Stared at the error message so long I missed the 'const'.  So obvious once you pointed it out.  Once again, thanks!\nJoe",
                          "url": "https://github.com/idaholab/moose/discussions/22850#discussioncomment-4293597",
                          "updatedAt": "2022-12-02T15:39:45Z",
                          "publishedAt": "2022-12-02T15:39:45Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "MOOSE installation issues:Download error (35) SSL connect error",
          "author": {
            "login": "Wolke24"
          },
          "bodyText": "I want to install MOOSE on my mac according to the instructions on this website https://mooseframework.inl.gov/getting_started/installation/conda.html\nwhen I try to create the conda environment (using mamba create -n moose moose-tools moose-libmesh   ), my terminal shows :\nDownload error (35) SSL connect error [https://conda.software.inl.gov/public/noarch/repodata.json]\nerror:0A000152:SSL routines::unsafe legacy renegotiation disabled\nCan anybody help me fix this problem?\n\nhere is the report:\nLooking for: ['moose-tools', 'moose-libmesh']\n\nconda-forge/osx-arm64                              @   2.9MB/s  1.7s\nconda-forge/noarch                                 @   3.5MB/s  3.2s\nDownload error (35) SSL connect error [https://conda.software.inl.gov/public/noarch/repodata.json]\nerror:0A000152:SSL routines::unsafe legacy renegotiation disabled\n\n# >>>>>>>>>>>>>>>>>>>>>> ERROR REPORT <<<<<<<<<<<<<<<<<<<<<<\n\n    Traceback (most recent call last):\n      File \"/Users/chuxiaoyun/mambaforge3/lib/python3.10/site-packages/conda/exceptions.py\", line 1129, in __call__\n        return func(*args, **kwargs)\n      File \"/Users/chuxiaoyun/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 935, in exception_converter\n        raise e\n      File \"/Users/chuxiaoyun/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 928, in exception_converter\n        exit_code = _wrapped_main(*args, **kwargs)\n      File \"/Users/chuxiaoyun/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 886, in _wrapped_main\n        result = do_call(parsed_args, p)\n      File \"/Users/chuxiaoyun/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 754, in do_call\n        exit_code = create(args, parser)\n      File \"/Users/chuxiaoyun/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 630, in create\n        return install(args, parser, \"create\")\n      File \"/Users/chuxiaoyun/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 497, in install\n        index = load_channels(pool, channels, repos)\n      File \"/Users/chuxiaoyun/mambaforge3/lib/python3.10/site-packages/mamba/utils.py\", line 129, in load_channels\n        index = get_index(\n      File \"/Users/chuxiaoyun/mambaforge3/lib/python3.10/site-packages/mamba/utils.py\", line 110, in get_index\n        is_downloaded = dlist.download(api.MAMBA_DOWNLOAD_FAILFAST)\n    RuntimeError: Download error (35) SSL connect error [https://conda.software.inl.gov/public/noarch/repodata.json]\n    error:0A000152:SSL routines::unsafe legacy renegotiation disabled\n\n`$ /Users/chuxiaoyun/mambaforge3/bin/mamba create -n moose moose-tools moose-libmesh`\n\n  environment variables:\n                 CIO_TEST=<not set>\n        CONDA_DEFAULT_ENV=base\n                CONDA_EXE=/Users/chuxiaoyun/mambaforge3/bin/conda\n             CONDA_PREFIX=/Users/chuxiaoyun/mambaforge3\n    CONDA_PROMPT_MODIFIER=(base)\n         CONDA_PYTHON_EXE=/Users/chuxiaoyun/mambaforge3/bin/python\n               CONDA_ROOT=/Users/chuxiaoyun/mambaforge3\n              CONDA_SHLVL=1\n           CURL_CA_BUNDLE=<not set>\n                 INFOPATH=/opt/homebrew/share/info:\n                  MANPATH=/opt/local/share/man:/opt/homebrew/share/man::\n                     PATH=/Users/chuxiaoyun/mambaforge3/bin:/Users/chuxiaoyun/mambaforge3/condab\n                          in:/opt/local/bin:/opt/local/sbin:/opt/homebrew/bin:/opt/homebrew/sbin\n                          :/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Apple/usr/bin:/\n                          Library/Frameworks/Mono.framework/Versions/Current/Commands\n       REQUESTS_CA_BUNDLE=<not set>\n            SSL_CERT_FILE=<not set>\n\n     active environment : base\n    active env location : /Users/chuxiaoyun/mambaforge3\n            shell level : 1\n       user config file : /Users/chuxiaoyun/.condarc\n populated config files : /Users/chuxiaoyun/mambaforge3/.condarc\n                          /Users/chuxiaoyun/.condarc\n          conda version : 22.9.0\n    conda-build version : not installed\n         python version : 3.10.6.final.0\n       virtual packages : __osx=11.6.5=0\n                          __unix=0=0\n                          __archspec=1=arm64\n       base environment : /Users/chuxiaoyun/mambaforge3  (writable)\n      conda av data dir : /Users/chuxiaoyun/mambaforge3/etc/conda\n  conda av metadata url : None\n           channel URLs : https://conda.software.inl.gov/public/osx-arm64\n                          https://conda.software.inl.gov/public/noarch\n                          https://conda.anaconda.org/conda-forge/osx-arm64\n                          https://conda.anaconda.org/conda-forge/noarch\n          package cache : /Users/chuxiaoyun/mambaforge3/pkgs\n                          /Users/chuxiaoyun/.conda/pkgs\n       envs directories : /Users/chuxiaoyun/mambaforge3/envs\n                          /Users/chuxiaoyun/.conda/envs\n               platform : osx-arm64\n             user-agent : conda/22.9.0 requests/2.28.1 CPython/3.10.6 Darwin/20.6.0 OSX/11.6.5\n                UID:GID : 501:20\n             netrc file : None\n           offline mode : False\n\n\nAn unexpected error has occurred. Conda has prepared the above report.",
          "url": "https://github.com/idaholab/moose/discussions/22696",
          "updatedAt": "2022-12-02T14:10:31Z",
          "publishedAt": "2022-11-14T21:05:42Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "We see this error on occasion when using VPN software. The issue is related to OpenSSL >3 and our servers not supporting:\nerror:0A000152:SSL routines::unsafe legacy renegotiation disabled\nOne solution if this is not related to VPN, is to install openssl <3. Specifically in your base environment, install the older openssl package, and then create the moose environment:\nmamba activate base\nmamba install openssl=1   # accept the changes, hopefully should be minimal\nmamba create -n moose moose-tools moose-libmesh\nActivate the environment, and then continue with our instructions:\nmamba activate moose",
                  "url": "https://github.com/idaholab/moose/discussions/22696#discussioncomment-4140807",
                  "updatedAt": "2022-11-14T21:27:17Z",
                  "publishedAt": "2022-11-14T21:26:30Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "This may end up being a very popular topic as the base Mamba/Conda environments begin to default to OpenSSL >=3.x. We may need to update our instructions to include pinning the base environment to openSSL <3.x",
                          "url": "https://github.com/idaholab/moose/discussions/22696#discussioncomment-4140857",
                          "updatedAt": "2022-11-14T21:32:48Z",
                          "publishedAt": "2022-11-14T21:32:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Wolke24"
                          },
                          "bodyText": "Yes, please, when I try to install openssl it will be automatically upgraded to the 3.0 Version.",
                          "url": "https://github.com/idaholab/moose/discussions/22696#discussioncomment-4178516",
                          "updatedAt": "2022-11-18T16:07:40Z",
                          "publishedAt": "2022-11-18T16:07:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "mamba install openssl=1 this will force 1.x version",
                          "url": "https://github.com/idaholab/moose/discussions/22696#discussioncomment-4179080",
                          "updatedAt": "2022-11-18T17:14:03Z",
                          "publishedAt": "2022-11-18T17:14:03Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "jeffbaylor"
                  },
                  "bodyText": "I hit this as well without using a VPN.  I am using a clean install of RHEL8 in a VirtualBox just to evaluate MOOSE.  The work around I used was to modify ~/mambaforge3/ssl/openssl.cnf to allow UnsafeLegacyRenegotiation.\nFrom debugging this, my understanding of the error is that it means that the SSL server does not support the Renegotiation Indication Extension (RFC 5746) so is vulnerable to man-in-the-middle attacks (CVE-2009-3555).  This may be something worth upgrading on the INL side.\n...\n[openssl_init]\nproviders = provider_sect\n\n#JSB START\nssl_conf = ssl_sect\n[ssl_sect]\nsystem_default = system_default_sect\n\n[system_default_sect]\nOptions = UnsafeLegacyRenegotiation\n\n#JSB END\n\n# List of providers to load\n[provider_sect]\n...",
                  "url": "https://github.com/idaholab/moose/discussions/22696#discussioncomment-4222353",
                  "updatedAt": "2022-11-24T05:19:26Z",
                  "publishedAt": "2022-11-24T05:19:25Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "gka80"
                          },
                          "bodyText": "This also worked for me. Another vote for (eventually) fixing the issue.",
                          "url": "https://github.com/idaholab/moose/discussions/22696#discussioncomment-4239352",
                          "updatedAt": "2022-11-25T18:57:56Z",
                          "publishedAt": "2022-11-25T18:57:56Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "smpeyres"
                  },
                  "bodyText": "On my end, I can't seem to get through \"mamba install openssl=1\" :\nLooking for: ['openssl=1']\n\nconda-forge/osx-arm64                                       Using cache\nconda-forge/noarch                                          Using cache\nhttps://conda.software.inl.gov/public/osx-arm64     9.1s\nDownload error (35) SSL connect error [https://conda.software.inl.gov/public/noarch/repodata.json]\nerror:0A000152:SSL routines::unsafe legacy renegotiation disabled\n\n# >>>>>>>>>>>>>>>>>>>>>> ERROR REPORT <<<<<<<<<<<<<<<<<<<<<<\n\n    Traceback (most recent call last):\n      File \"/Users/seanpeyres/mambaforge3/lib/python3.10/site-packages/conda/exceptions.py\", line 1129, in __call__\n        return func(*args, **kwargs)\n      File \"/Users/seanpeyres/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 935, in exception_converter\n        raise e\n      File \"/Users/seanpeyres/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 928, in exception_converter\n        exit_code = _wrapped_main(*args, **kwargs)\n      File \"/Users/seanpeyres/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 886, in _wrapped_main\n        result = do_call(parsed_args, p)\n      File \"/Users/seanpeyres/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 750, in do_call\n        exit_code = install(args, parser, \"install\")\n      File \"/Users/seanpeyres/mambaforge3/lib/python3.10/site-packages/mamba/mamba.py\", line 497, in install\n        index = load_channels(pool, channels, repos)\n      File \"/Users/seanpeyres/mambaforge3/lib/python3.10/site-packages/mamba/utils.py\", line 129, in load_channels\n        index = get_index(\n      File \"/Users/seanpeyres/mambaforge3/lib/python3.10/site-packages/mamba/utils.py\", line 110, in get_index\n        is_downloaded = dlist.download(api.MAMBA_DOWNLOAD_FAILFAST)\n    RuntimeError: Download error (35) SSL connect error [https://conda.software.inl.gov/public/noarch/repodata.json]\n    error:0A000152:SSL routines::unsafe legacy renegotiation disabled\n\n`$ /Users/seanpeyres/mambaforge3/bin/mamba install openssl=1`\n\n  environment variables:\n                 CIO_TEST=<not set>\n        CONDA_DEFAULT_ENV=base\n                CONDA_EXE=/Users/seanpeyres/mambaforge3/bin/conda\n             CONDA_PREFIX=/Users/seanpeyres/mambaforge3\n    CONDA_PROMPT_MODIFIER=(base)\n         CONDA_PYTHON_EXE=/Users/seanpeyres/mambaforge3/bin/python\n               CONDA_ROOT=/Users/seanpeyres/mambaforge3\n              CONDA_SHLVL=1\n           CURL_CA_BUNDLE=<not set>\n                     PATH=/Users/seanpeyres/mambaforge3/bin:/Users/seanpeyres/mambaforge3/condab\n                          in:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\n       REQUESTS_CA_BUNDLE=<not set>\n            SSL_CERT_FILE=<not set>\n\n     active environment : base\n    active env location : /Users/seanpeyres/mambaforge3\n            shell level : 1\n       user config file : /Users/seanpeyres/.condarc\n populated config files : /Users/seanpeyres/mambaforge3/.condarc\n                          /Users/seanpeyres/.condarc\n          conda version : 22.9.0\n    conda-build version : not installed\n         python version : 3.10.6.final.0\n       virtual packages : __osx=12.4=0\n                          __unix=0=0\n                          __archspec=1=arm64\n       base environment : /Users/seanpeyres/mambaforge3  (writable)\n      conda av data dir : /Users/seanpeyres/mambaforge3/etc/conda\n  conda av metadata url : None\n           channel URLs : https://conda.software.inl.gov/public/osx-arm64\n                          https://conda.software.inl.gov/public/noarch\n                          https://conda.anaconda.org/conda-forge/osx-arm64\n                          https://conda.anaconda.org/conda-forge/noarch\n          package cache : /Users/seanpeyres/mambaforge3/pkgs\n                          /Users/seanpeyres/.conda/pkgs\n       envs directories : /Users/seanpeyres/mambaforge3/envs\n                          /Users/seanpeyres/.conda/envs\n               platform : osx-arm64\n             user-agent : conda/22.9.0 requests/2.28.1 CPython/3.10.6 Darwin/21.5.0 OSX/12.4\n                UID:GID : 501:20\n             netrc file : None\n           offline mode : False\n\n\nAn unexpected error has occurred. Conda has prepared the above report.",
                  "url": "https://github.com/idaholab/moose/discussions/22696#discussioncomment-4283632",
                  "updatedAt": "2022-12-01T14:20:30Z",
                  "publishedAt": "2022-12-01T14:01:55Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "You first need to remove our public channel:\nconda config --remove channels https://conda.software.inl.gov/public\nmamba activate base\nmamba install openssl=1\nconda config --add channels https://conda.software.inl.gov/public\n<then do what you were trying to do>\nWe've since refined the instructions and pinned them to this discussion: #22826",
                          "url": "https://github.com/idaholab/moose/discussions/22696#discussioncomment-4283817",
                          "updatedAt": "2022-12-01T14:23:53Z",
                          "publishedAt": "2022-12-01T14:22:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "gudalam"
                          },
                          "bodyText": "Working well, Thanks",
                          "url": "https://github.com/idaholab/moose/discussions/22696#discussioncomment-4292807",
                          "updatedAt": "2022-12-02T14:10:32Z",
                          "publishedAt": "2022-12-02T14:10:31Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Possible Workaround to Obtain Most-up-to-date Residuals of StressDivergenceTensor Kernels",
          "author": {
            "login": "chunhuizhao478"
          },
          "bodyText": "Hi all,\nI have a question about getting up-to-date residuals of StressDivergenceTensor Kernel using explicit solver e.g. CentralDifference.\nI obtain the residuals through save_in option in StressDivergenceTensor:\n[Modules]\n    [./TensorMechanics]\n      [./Master]\n        [./all]\n          strain = SMALL\n          add_variables = true\n          planar_formulation = PLANE_STRAIN\n          generate_output = 'stress_xx stress_yy stress_xy'\n          save_in = 'resid_x resid_y'\n        [../]\n      [../]\n    [../]\n  []\n\nThe residuals resid_x resid_y are then used as input parameters  in the custom cohesive zone material kernel along with _interface_displacement_jump[_qp]  to update the local traction vector.\nThe kernel gives acceleration is as follows:\n[Kernels]\n    [./inertia_x]\n        type = InertialForce\n        use_displaced_mesh = false\n        variable = disp_x\n    []\n    [./inertia_y]\n        type = InertialForce\n        use_displaced_mesh = false\n        variable = disp_y\n    []\n[]\n\nIn our current traction-separation law, shear stress _stress[_qp](1) combined with _interface_displacement_jump[_qp] gives correct answer. However, this is an approximation to the original theory and this \"shear stress term\" is needed be replaced by difference of reaction at upper/lower surface divided by area (_resid_x[_qp] - _resid_x_neighbor[_qp])/(2*area), and that is where the problem comes in.\nTo better illustrate what is happening, here I showed the output (variables printed inside the material kernel) for the first several steps:\nTime Step 0, time = 0\n\nTime Step 1, time = 0.0025, dt = 0.0025\ndisplacement jump: 0\nreaction: 0\nshear stress: 0\n **Solve Converged!**\ndisplacement jump: -3.37079e-05\nreaction: 0\nshear stress: -5400\n\nTime Step 2, time = 0.005, dt = 0.0025\ndisplacement jump: -3.37079e-05\nreaction: 0\nshear stress: -5400\n **Solve Converged!**\ndisplacement jump: -0.000100711\nreaction: -5400\nshear stress: -16089.4\n\nTime Step 3, time = 0.0075, dt = 0.0025\ndisplacement jump: -0.000100711\nreaction: 0\nshear stress: -16089.4\n **Solve Converged!**\ndisplacement jump: -0.000200246\nreaction: -16089.4\nshear stress: -31862\n\nTo be precise, shear stress:  represents shear stress term (which gives correct results), reaction:  represents the reaction difference term (_resid_x[_qp] - _resid_x_neighbor[_qp])/(2*area) (which uses the variable I extracted from StressDivergenceTerm.\nFrom the output we can see\n\n\nMaterial kernel is evaluated before/after solve.\n\n\n_interface_displacement_jump[_qp] and _stress[_qp](1) are closely updated once the new displacements are available, which is the default feature of material kernel.\n\n\nreaction only updates after solve (the reaction: 0 can be solved by introducing auxkernel and save old values) but retrieve the residuals before the new displacements are calculated, in other words, reaction has time step offsets with shear stress.\n\n\nI have searched several options, but currently none of them is working:\n\n\nDefine reaction as material property same as stress. (But  _grad_test[_i][_qp] computeQpResidual() is not available in material kernel)\n\n\nEvaluate it again right after the new displacements are available. (Probably need a separate kernel object to achieve it or do multi-app, which is not trivial)\n\n\nUse Tagging Interface or Control System as suggested by similar posts (But I can't find a solution from them, because this seems to be issue of save_in which is not re-evaluating residuals after the solve )\n\n\nI'm struggling to find a workaround of it. Any suggestion or comment is welcome. Thanks a lot!",
          "url": "https://github.com/idaholab/moose/discussions/22841",
          "updatedAt": "2023-01-03T23:54:52Z",
          "publishedAt": "2022-12-01T01:36:42Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nso you need the output from one kernel (the residual) to compute the residual from another kernel?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22841#discussioncomment-4279371",
                  "updatedAt": "2022-12-01T01:47:06Z",
                  "publishedAt": "2022-12-01T01:47:05Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "Hi, basically I need the residual from StressDivergenceKernel as a variable to compute traction (not the residual) in cohesive zone model material kernel, but it seems like it is not up-to-date as I showed above.",
                          "url": "https://github.com/idaholab/moose/discussions/22841#discussioncomment-4279415",
                          "updatedAt": "2022-12-01T02:07:00Z",
                          "publishedAt": "2022-12-01T02:03:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This is tough since because all the kernels are executed together.\nCan you duplicate the calculation in StressDivergenceKernel and place it in a material property instead? Material properties are calculated before kernels",
                          "url": "https://github.com/idaholab/moose/discussions/22841#discussioncomment-4279436",
                          "updatedAt": "2022-12-01T02:08:18Z",
                          "publishedAt": "2022-12-01T02:08:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "I'm not sure whether I understand this correctly, is it fine to inherit all the necessary header files of StressDivergenceKernel and duplicate all the residual calculations but pass as material property by overriding computeQpProperties() in material kernel?",
                          "url": "https://github.com/idaholab/moose/discussions/22841#discussioncomment-4279456",
                          "updatedAt": "2022-12-01T03:29:48Z",
                          "publishedAt": "2022-12-01T02:13:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "No this wont work. An object may not be both a kernel and a material property.\nYou would have to create a material property and duplicate the code that computes the residual in the Kernel.\nMaybe there are other solutions, through the tagging system.\nYou would have to make sure one kernel gets executed before the other one though",
                          "url": "https://github.com/idaholab/moose/discussions/22841#discussioncomment-4285159",
                          "updatedAt": "2022-12-01T16:44:02Z",
                          "publishedAt": "2022-12-01T16:44:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "Thanks for your reply. I would like to try to define a material property first. Maybe we are referring to the same method (not trying to define kernel and material property at the same time). Let me try to explain my thought here: After looking through the code in StressDivergenceKernel.C, the code snippets for calculating residuals are the following (I would need to include the necessary header files though) :\nvoid\nStressDivergenceTensors::computeResidual()\n{\n  prepareVectorTag(_assembly, _var.number());\n\n  if (_volumetric_locking_correction)\n    computeAverageGradientTest();\n\n  precalculateResidual();\n  for (_i = 0; _i < _test.size(); ++_i)\n    for (_qp = 0; _qp < _qrule->n_points(); ++_qp)\n      _local_re(_i) += _JxW[_qp] * _coord[_qp] * computeQpResidual();\n\n  accumulateTaggedLocalResidual();\n\n  if (_has_save_in)\n  {\n    Threads::spin_mutex::scoped_lock lock(Threads::spin_mtx);\n    for (const auto & var : _save_in)\n      var->sys().solution().add_vector(_local_re, var->dofIndices());\n  }\n}\n\nReal\nStressDivergenceTensors::computeQpResidual()\n{\n  Real residual = _stress[_qp].row(_component) * _grad_test[_i][_qp];\n  // volumetric locking correction\n  if (_volumetric_locking_correction)\n    residual += _stress[_qp].trace() / 3.0 *\n                (_avg_grad_test[_i][_component] - _grad_test[_i][_qp](_component));\n\n  if (_ndisp != 3 && _out_of_plane_strain_coupled && _use_displaced_mesh)\n  {\n    const Real out_of_plane_thickness = std::exp((*_out_of_plane_strain)[_qp]);\n    residual *= out_of_plane_thickness;\n  }\n\n  return residual;\n}\n\n\nThe quantity I would like to extract is _local_re after accumulateTaggedLocalResidual() and evaluate at each _qp point of interest, without considering the volumetric locking, I should write something like:\nvoid\nCompResidualCustom::computeQpProperties()\n{\n   computeResidualCustom();\n    _local_re_out[_qp] = _local_re[_qp];\n}\n\nvoid\nCompResidualCustom::computeResidualCustom()\n{\n  prepareVectorTag(_assembly, _var.number());\n\n  precalculateResidual();\n  for (_i = 0; _i < _test.size(); ++_i)\n    for (_qp = 0; _qp < _qrule->n_points(); ++_qp)\n      _local_re(_i) += _JxW[_qp] * _coord[_qp] * computeQpResidualCustom();\n\n  accumulateTaggedLocalResidual();\n}\n\nReal\nCompResidualCustom::computeQpResidualCustom()\n{\n  Real residual = _stress[_qp].row(_component) * _grad_test[_i][_qp];\n  return residual;\n}\n\nnot sure if it is doable to pass _local_re[_qp] inside  computeQpProperties() in material kernel or there is something else I need to be careful when trying to duplicate the calculation. Thanks!",
                          "url": "https://github.com/idaholab/moose/discussions/22841#discussioncomment-4285448",
                          "updatedAt": "2022-12-01T17:20:27Z",
                          "publishedAt": "2022-12-01T17:20:27Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Yeah this seems difficult. The local weights are not available in a material property I think.",
                          "url": "https://github.com/idaholab/moose/discussions/22841#discussioncomment-4287166",
                          "updatedAt": "2022-12-01T21:37:34Z",
                          "publishedAt": "2022-12-01T21:37:34Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "Hi Guillaume, thanks for your reply, Just want to let you know, I manage to solve the problem using multiapp, I will add some comments about it later.",
                          "url": "https://github.com/idaholab/moose/discussions/22841#discussioncomment-4287183",
                          "updatedAt": "2022-12-01T21:39:58Z",
                          "publishedAt": "2022-12-01T21:39:57Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "This is a real issue, and I agree with @GiudGiud this is very difficult. However, I don't think this has any serious practical consequences with explicit time integration, i.e., the response of the system (for instance the force displacement curve) won't be sensitive to the lagged residual.",
                  "url": "https://github.com/idaholab/moose/discussions/22841#discussioncomment-4287276",
                  "updatedAt": "2022-12-01T21:55:31Z",
                  "publishedAt": "2022-12-01T21:54:19Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Injection/production in one grid element",
          "author": {
            "login": "pierre-jeanne"
          },
          "bodyText": "Hello Moose community,\nI try to simulate water injection and production into two grid elements, with PorousFlowSink:\n [injection]\n    type = PorousFlowSink\n    boundary = '8'\n    variable = porepressure\n    flux_function = -1E-2\n [] \n'\nand \n'\n [production]\n    type = PorousFlowSink\n    boundary = '9'\n    variable = porepressure\n    flux_function = 1E-2\n  []\n[]\n\n8 and 9 are made of one single element respectively. Is it possible to do that?\nHere is the message error :\n*** ERROR ***\npath 89:(BCs/injection/boundary):  \nthe following side sets (ids) do not exist on the mesh: 8\n\nIdeally, I would like to impose a fixed pore pressure in one grid element and impose a fixed production rate (kg/s) in another grid element.\nDo you have any advice on how to do that?\nThanks!!!",
          "url": "https://github.com/idaholab/moose/discussions/22772",
          "updatedAt": "2023-01-03T23:51:01Z",
          "publishedAt": "2022-11-22T12:17:03Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nWhen you open the mesh do you see boundary 8?\nA single side of an element should be fine\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4207393",
                  "updatedAt": "2022-11-22T15:12:18Z",
                  "publishedAt": "2022-11-22T15:12:18Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "pierre-jeanne"
                          },
                          "bodyText": "yes, I can see it in ParaView.However, when I tried another subdomain_id, (e.g. boundary = '2'), the simulation started without an error message...",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4208867",
                          "updatedAt": "2022-11-22T17:51:30Z",
                          "publishedAt": "2022-11-22T17:51:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "it should be a boundary id not a subdomain id.\nIn paraview do you see a sideset or a nodeset?",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4209283",
                          "updatedAt": "2022-11-22T18:42:16Z",
                          "publishedAt": "2022-11-22T18:42:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "pierre-jeanne"
                          },
                          "bodyText": "yes in paraview I can see them.\nI have re-generated the mesh using 'show_info = true'. I can see that the subdomain exists with 8 active nodes.\nWhere can I find the list of the boundary id? is there a command line to get the characteristic of the mesh (nodes coordinates, center of the block, boundary coordinate etc...)? i looked for that but I found nothing.",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4213896",
                          "updatedAt": "2022-11-23T09:06:23Z",
                          "publishedAt": "2022-11-23T09:06:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You keep referring to 8 as a subdomain, but it needs to be a sideset not a subdomain.\nshow_info=true shows all the sidesets in the mesh.\nCould you please paste that here?",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4215298",
                          "updatedAt": "2022-11-23T11:17:53Z",
                          "publishedAt": "2022-11-23T11:17:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "pierre-jeanne"
                          },
                          "bodyText": "\"you keep referring to 8 as a subdomain, but it needs to be a sideset not a subdomain.\"\nyes, I understand.\nMaybe I had it wrong, so let me reformulate my question.\nI have a 2d horizontal model. I want to inject (or produce) in the middle of the MESH.\nI used TOUGH2 a lot, and in TOUGH2 you change the Pressure within one grid element.\nIn MOOSE, I understand you have to fix the pressure at the boundary between two grid elements, is that correct?\nIn this case, how can you find the boundaries id?\nHere is the results get with show_info\nCartesianMeshGenerator 'cmg':  Mesh Information:\nCartesianMeshGenerator 'cmg':   elem_dimensions()={3}\nCartesianMeshGenerator 'cmg':   spatial_dimension()=3\nCartesianMeshGenerator 'cmg':   n_nodes()=7656\nCartesianMeshGenerator 'cmg':     n_local_nodes()=7656\nCartesianMeshGenerator 'cmg':   n_elem()=3705\nCartesianMeshGenerator 'cmg':     n_local_elem()=3705\nCartesianMeshGenerator 'cmg':     n_active_elem()=3705\nCartesianMeshGenerator 'cmg':   n_subdomains()=9\nCartesianMeshGenerator 'cmg':   n_elemsets()=0\nCartesianMeshGenerator 'cmg':   n_partitions()=1\nCartesianMeshGenerator 'cmg':   n_processors()=1\nCartesianMeshGenerator 'cmg':   n_threads()=1\nCartesianMeshGenerator 'cmg':   processor_id()=0\nCartesianMeshGenerator 'cmg':   is_prepared()=true\nCartesianMeshGenerator 'cmg':   is_replicated()=true\nCartesianMeshGenerator 'cmg':\nCartesianMeshGenerator 'cmg':  Mesh Bounding Box:\nCartesianMeshGenerator 'cmg':   Minimum: (x,y,z)=(       0,        0,        0)\nCartesianMeshGenerator 'cmg':   Maximum: (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Delta:   (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':\nCartesianMeshGenerator 'cmg':  Mesh Element Type(s):\nCartesianMeshGenerator 'cmg':   HEX8\nCartesianMeshGenerator 'cmg':\nCartesianMeshGenerator 'cmg':  Mesh Nodesets:\nCartesianMeshGenerator 'cmg':   Nodeset 0 (back), 3828 nodes\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,  3063.61,        0)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=( 2449.97,  3063.61,        0)\nCartesianMeshGenerator 'cmg':   Nodeset 1 (bottom), 132 nodes\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,        0,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=( 2449.97,        0,       30)\nCartesianMeshGenerator 'cmg':   Nodeset 2 (right), 116 nodes\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 2449.97,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(       0,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Nodeset 3 (top), 132 nodes\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,  3063.61,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=( 2449.97,        0,       30)\nCartesianMeshGenerator 'cmg':   Nodeset 4 (left), 116 nodes\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=(       0,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(       0,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Nodeset 5 (front), 3828 nodes\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,        0,       30)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=( 2449.97,  3063.61,        0)\nCartesianMeshGenerator 'cmg':\nCartesianMeshGenerator 'cmg':  Mesh Sidesets:\nCartesianMeshGenerator 'cmg':   Sideset 0 (back), 3705 sides (QUAD4), 3705 elems (HEX8), 3828 nodes\nCartesianMeshGenerator 'cmg':    Side volume: 7.50575e+06\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,  3063.61,        0)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=( 2449.97,  3063.61,        0)\nCartesianMeshGenerator 'cmg':   Sideset 1 (bottom), 65 sides (QUAD4), 65 elems (HEX8), 132 nodes\nCartesianMeshGenerator 'cmg':    Side volume: 73499.1\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,        0,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=( 2449.97,        0,       30)\nCartesianMeshGenerator 'cmg':   Sideset 2 (right), 57 sides (QUAD4), 57 elems (HEX8), 116 nodes\nCartesianMeshGenerator 'cmg':    Side volume: 91908.3\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 2449.97,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(       0,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Sideset 3 (top), 65 sides (QUAD4), 65 elems (HEX8), 132 nodes\nCartesianMeshGenerator 'cmg':    Side volume: 73499.1\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,  3063.61,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=( 2449.97,        0,       30)\nCartesianMeshGenerator 'cmg':   Sideset 4 (left), 57 sides (QUAD4), 57 elems (HEX8), 116 nodes\nCartesianMeshGenerator 'cmg':    Side volume: 91908.3\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=(       0,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(       0,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Sideset 5 (front), 3705 sides (QUAD4), 3705 elems (HEX8), 3828 nodes\nCartesianMeshGenerator 'cmg':    Side volume: 7.50575e+06\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,        0,       30)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=( 2449.97,  3063.61,        0)\nCartesianMeshGenerator 'cmg':\nCartesianMeshGenerator 'cmg':  Mesh Edgesets:\nCartesianMeshGenerator 'cmg':   None\nCartesianMeshGenerator 'cmg':\nCartesianMeshGenerator 'cmg':  Mesh Subdomains:\nCartesianMeshGenerator 'cmg':   Subdomain 1: 3078 elems (HEX8, 3078 active), 6496 active nodes\nCartesianMeshGenerator 'cmg':    Volume: 2.25171e+08\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=(       0,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=( 2449.97,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Subdomain 2: 55 elems (HEX8, 55 active), 232 active nodes\nCartesianMeshGenerator 'cmg':    Volume: 91.8963\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 1224.98,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 1224.98,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(   0.001,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Subdomain 3: 114 elems (HEX8, 114 active), 464 active nodes\nCartesianMeshGenerator 'cmg':    Volume: 183.817\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 1224.98,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 1224.99,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(   0.003,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Subdomain 4: 114 elems (HEX8, 114 active), 464 active nodes\nCartesianMeshGenerator 'cmg':    Volume: 183.817\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 1224.98,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 1224.99,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(   0.005,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Subdomain 5: 114 elems (HEX8, 114 active), 464 active nodes\nCartesianMeshGenerator 'cmg':    Volume: 183.817\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 1224.98,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 1224.99,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(   0.007,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Subdomain 6: 114 elems (HEX8, 114 active), 464 active nodes\nCartesianMeshGenerator 'cmg':    Volume: 183.817\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 1224.98,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 1224.99,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(   0.009,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Subdomain 7: 114 elems (HEX8, 114 active), 464 active nodes\nCartesianMeshGenerator 'cmg':    Volume: 183.817\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 1224.98,        0,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 1224.99,  3063.61,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(   0.011,  3063.61,       30)\nCartesianMeshGenerator 'cmg':   Subdomain 8: 1 elems (HEX8, 1 active), 8 active nodes\nCartesianMeshGenerator 'cmg':    Volume: 0.006\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 1224.98,  1295.81,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 1224.98,  1296.01,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(   0.001,      0.2,       30)\nCartesianMeshGenerator 'cmg':   Subdomain 9: 1 elems (HEX8, 1 active), 8 active nodes\nCartesianMeshGenerator 'cmg':    Volume: 0.006\nCartesianMeshGenerator 'cmg':    Bounding box minimum: (x,y,z)=( 1224.98,  1767.61,        0)\nCartesianMeshGenerator 'cmg':    Bounding box maximum: (x,y,z)=( 1224.98,  1767.81,       30)\nCartesianMeshGenerator 'cmg':    Bounding box delta: (x,y,z)=(   0.001,      0.2,       30)\nCartesianMeshGenerator 'cmg':   Global mesh volume = 2.25172e+08",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4215629",
                          "updatedAt": "2022-11-23T12:05:23Z",
                          "publishedAt": "2022-11-23T12:05:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "pierre-jeanne"
                          },
                          "bodyText": "I think I know, I should use 'ParsedGenerateSideset' when generating the mesh to select and name the side where I want to apply my BC.\nIs that correct?",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4215722",
                          "updatedAt": "2022-11-23T12:22:17Z",
                          "publishedAt": "2022-11-23T12:22:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I ll let @WilkAndy comment on how to inject pressure.\nWith regards to sidesets, under\nCartesianMeshGenerator 'cmg': Mesh Sidesets:\n\nyou can see that there are only 6 sidesets, and none of them have an ID of 8.\nYou may use meshgenerators, such as the SidesetBetweenSubdomainGenerator to add new sidesets\nhttps://mooseframework.inl.gov/source/meshgenerators/SideSetsBetweenSubdomainsGenerator.html",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4215726",
                          "updatedAt": "2022-11-23T12:22:51Z",
                          "publishedAt": "2022-11-23T12:22:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ParsedGenerateSideset would work too",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4215736",
                          "updatedAt": "2022-11-23T12:23:18Z",
                          "publishedAt": "2022-11-23T12:23:17Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "@pierre-jeanne - i think you might be using the wrong PorousFlow objects.  The BCs objects like PorousFlowSink are usually used on boundaries of your mesh, eg, on the entire left-hand edge of the mesh, in your case.   Instead, I believe what you want is two DiracKernels, which inject and produce at a single point (into a single element, for instance).  Have a look at https://mooseframework.inl.gov/modules/porous_flow/sinks.html , which details quite a variety of point (and line) sinks/sources available.  You probably want https://mooseframework.inl.gov/source/dirackernels/PorousFlowSquarePulsePointSource.html or https://mooseframework.inl.gov/source/dirackernels/PorousFlowPointSourceFromPostprocessor.html .",
                  "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4221142",
                  "updatedAt": "2022-11-24T00:11:11Z",
                  "publishedAt": "2022-11-24T00:11:11Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "pierre-jeanne"
                          },
                          "bodyText": "Hello Andy,\nthank you for your answer. You are right, the two Dirackernels  can do what I was looking for.\nI used PorousFlowSquarePulsePointSource to simulate injection and production. My simulation run, there is no error message but the pressure doesn't change. I am doing something wrong but I don't know what. Do you mind having a look at the code below?\nThanks.\n[GlobalParams]\nPorousFlowDictator = dictator\n[]\n############################################################\n[Variables]\n[porepressure]\ninitial_condition = 20.0E6\n[]\n[]\n#####################################################\n[PorousFlowBasicTHM]\nporepressure = porepressure    # There is just one variable \u2014 the porepressure\ncoupling_type = Hydro          # there is no coupling with heat or mechanics.\ngravity = '0 0 -9.81'          # gravity is vertical\nfp = the_simple_fluid          # Most PorousFlow simulations require fluid properties to be supplied.\n[]\n############################################################\nThe SimpleFluidProperties are used, which assume a constant fluid bulk modulus and viscosity:\n[FluidProperties]\n[the_simple_fluid]\ntype = SimpleFluidProperties\nbulk_modulus = 2E9\nviscosity = 1.0E-3\ndensity0 = 1000.0\n[]\n[]\n#####################################################\n[Kernels]\n[mass0]\ntype = PorousFlowMassTimeDerivative\nvariable = porepressure\n[]\n[]\n############################################################\n[BCs]\n[./left]                              # arbitrary name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = left  # This must match a named boundary in the mesh file\n[../]\n[./right]                             # arbitrary name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = right # This must match a named boundary in the mesh file\n[../]\n[./front]                              # arbitrary name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = front # This must match a named boundary in the mesh file\n[../]\n[./back]                              # arbitrary name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = back # This must match a named boundary in the mesh file\n[../]\n[]\n############################################################\nThe porosity, Biot modulus and permeability are defined through the Materials block:\n[Materials]\n[porosity]\ntype = PorousFlowPorosityConst\nblock = '1 3 4 5 6 7'\nporosity = 0.01\n[]\n[porosity_fracture]\ntype = PorousFlowPorosityConst\nblock = '2 8 9'\nporosity = 0.05\n[]\n[permeability_intact_rock]\ntype = PorousFlowPermeabilityConst\nblock = '1 3 4 5 6 7'\npermeability = '1E-16 0 0   0 1E-16 0   0 0 1E-16'\n[]\n[permeability_fracture]\ntype = PorousFlowPermeabilityConst\nblock = '2 8 9'\npermeability = '1E-11 0 0   0 1E-11 0   0 0 1E-11'\n[]\n[biot_modulus]\ntype = PorousFlowConstantBiotModulus\nblock = '1 2 3 4 5 6 7 8 9'\nfluid_bulk_modulus = 2E9\nbiot_coefficient = 1.0\n[]\n[]\n#####################################################\n[DiracKernels]\n[sink1]\ntype = PorousFlowSquarePulsePointSource\nblock = '8'\npoint = '1224.985 1296.005 0'\nstart_time = 604800\nmass_flux = -0.353\nvariable = porepressure\npoint_not_found_behavior = ERROR\n[]\n[source]\ntype = PorousFlowSquarePulsePointSource\nblock = '9'\npoint = '1224.985 1767.805 0'\nmass_flux = 9.353\nvariable = porepressure\npoint_not_found_behavior = ERROR\n[]\n[]\n############################################################\n[Postprocessors]\n[./p0]\ntype = PointValue\noutputs = csv\npoint = '1224.985 1296.005 0'\nvariable = porepressure\n[../]\n[./p1]\ntype = PointValue\noutputs = csv\npoint = '1224.985 1767.805 0'\nvariable = porepressure\n[../]\n[]\n############################################################\n[Executioner]\ntype = Transient\nsolve_type = Newton\nstart_time = 0.0\nend_time = 7.884e8\n[TimeStepper]\ntype = IterationAdaptiveDT\noptimal_iterations = 1e7\ndt = 1E2\n[]\n[]\n############################################################\n[Outputs]\nexecute_on = 'timestep_end'\nexodus = true\n[./csv]\ntype = CSV\n[../]\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4235540",
                          "updatedAt": "2022-11-25T08:56:36Z",
                          "publishedAt": "2022-11-25T08:56:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "You don't need the Kernels block, since PorousFlowBasicTHM automatically adds it.   Just be careful with the multiply_by_density flag: see https://mooseframework.inl.gov/source/actions/PorousFlowBasicTHM.html for a discussion.  Eg, you when multiply_by_density = false (which is the default) you will actually be injecting in m^3/s, not in kg/s.\nI'm about to board a plane, sorry for the rushed response.   What do you mean by \"the pressure doesn't change\" - what do the nonlinear iterations look like?  If they're all \"residual = 0\" then the porepressure won't have changed, but if you get >=1 nonlinear iteration per timestep then the pressure must have changed, but your postprocessing (visualisation) must be wrong.",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4235682",
                          "updatedAt": "2022-11-25T09:15:37Z",
                          "publishedAt": "2022-11-25T09:15:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "pierre-jeanne"
                          },
                          "bodyText": "Thank you for your reply! yes the residuals are equal to 0.",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4235759",
                          "updatedAt": "2022-11-25T09:26:18Z",
                          "publishedAt": "2022-11-25T09:26:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Hmmm, i can't see anything obviously wrong - i must be missing something.  i can't run your input file because i don't have the mesh.  Can you please:\n\nuse multiply_by_density = true\nremove the Kernels block\nmake a boring GeneratedMesh and use that instead, just in case it's a mesh problem.   You don't need multiple blocks - just one block that covers your domain is sufficient to see if \"residual = 0\" or not.\n\na",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4257762",
                          "updatedAt": "2022-11-28T22:09:55Z",
                          "publishedAt": "2022-11-28T22:09:55Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "pierre-jeanne"
                          },
                          "bodyText": "Ok it was a problem with the mesh. I appreciate your help!\nI had a 3D mesh but with only one layer in the z-direction (and it didn't work), I added a layer above and below (3 layers in total),  and it worked.\nDo you know why? Is it because the nodes where I simulated injection and production were on the upper and lower boundaries (now they are in the middle of the mesh)?\nPierre",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4262280",
                          "updatedAt": "2022-11-29T09:55:00Z",
                          "publishedAt": "2022-11-29T09:55:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "@pierre-jeanne , it's good to know that it works now, but i think we need to explore further, because the situation you describe (with 1 mesh layer) should have worked fine.   Could you please try using your original 1-layer mesh, and move your points just a little bit so they're definitely inside the mesh domain?",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4268049",
                          "updatedAt": "2022-11-29T21:03:14Z",
                          "publishedAt": "2022-11-29T21:03:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "pierre-jeanne"
                          },
                          "bodyText": "Hello Andy,\nI  changed the coordinate to locate the injection and production points in the middle of the grid element, but it didn't fix the problem.\nYou can try it by yourself.  I copy and past the two codes:\n\nthe first one (1 layer) ran without an error message but injection and production do not 'work'.\nthe 2nd (3 layers) ran fine.\n\nFirst one:\n[Mesh]\n[cmg]\ntype = CartesianMeshGenerator\ndim = 3\ndx = '\n1 1 1 1 1\n'\ndy = '\n1 1 1 1 1\n'\ndz = '1'\nsubdomain_id = '\n1 1 1 1 1\n1 1 8 1 1\n1 1 1 1 1\n1 1 9 1 1\n1 1 1 1 1\n'\nshow_info = True\n[]\n[]\n[GlobalParams]\nPorousFlowDictator = dictator\n[]\n[Variables]\n[porepressure]\ninitial_condition = 20.0E6\n[]\n[]\n[PorousFlowBasicTHM]\nporepressure = porepressure    # There is just one variable \u2014 the porepressure\ncoupling_type = Hydro          # there is no coupling with heat or mechanics.\ngravity = '0 0 -9.81'          # gravity is vertical\nmultiply_by_density = true     # to inject kg/s\nfp = the_simple_fluid          # Most PorousFlow simulations require fluid properties to be supplied.\n[]\n[FluidProperties]\n[the_simple_fluid]\ntype = SimpleFluidProperties\nbulk_modulus = 2E9\nviscosity = 1.0E-3\ndensity0 = 1000.0\n[]\n[]\n[BCs]\n[./left] # arbitrary user-chosen name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = left # This must match a named boundary in the mesh file\n[../]\n[./right] # arbitrary user-chosen name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = right # This must match a named boundary in the mesh file\n[../]\n[./front] # arbitrary user-chosen name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = front # This must match a named boundary in the mesh file\n[../]\n[./back] # arbitrary user-chosen name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = back # This must match a named boundary in the mesh file\n[../]\n[]\n[Materials]\n[porosity]\ntype = PorousFlowPorosityConst\nblock = '1 8 9'\nporosity = 0.01\n[]\n[permeability]\ntype = PorousFlowPermeabilityConst\nblock = '1 8 9'\npermeability = '1E-16 0 0   0 1E-16 0   0 0 1E-16'\n[]\n[biot_modulus]\ntype = PorousFlowConstantBiotModulus\nblock = '1 8 9'\nfluid_bulk_modulus = 2E9\nbiot_coefficient = 1.0\n[]\n[]\n[DiracKernels]\n[sink1]\ntype = PorousFlowSquarePulsePointSource\nblock = '8'\npoint = '2 1 0'\nstart_time = 604800\nmass_flux = -0.379\nvariable = porepressure\npoint_not_found_behavior = ERROR\n[]\n[source]\ntype = PorousFlowSquarePulsePointSource\nblock = '9'\npoint = '2.5 3.5 0.5'\nmass_flux = 0.379\nvariable = porepressure\npoint_not_found_behavior = ERROR\n[]\n[]\n[Executioner]\ntype = Transient\nsolve_type = Newton\nstart_time = 0.0\nend_time = 7.884e8\nnl_abs_tol = 1e-6\n[TimeStepper]\ntype = IterationAdaptiveDT\noptimal_iterations = 1e7\ndt = 1E2\n[]\n[]\n[Outputs]\nexecute_on = 'timestep_end'\nexodus = true\n[./csv]\ntype = CSV\n[../]\n[]\n#########################\nthe second code:\n[Mesh]\n[cmg]\ntype = CartesianMeshGenerator\ndim = 3\ndx = '\n1 1 1 1 1\n'\ndy = '\n1 1 1 1 1\n'\ndz = '1 1 1'\nsubdomain_id = '\n1 1 1 1 1\n1 1 1 1 1\n1 1 1 1 1\n1 1 1 1 1\n1 1 1 1 1\n1 1 1 1 1\n1 1 8 1 1\n1 1 1 1 1\n1 1 9 1 1\n1 1 1 1 1\n\n1 1 1 1 1\n1 1 1 1 1\n1 1 1 1 1\n1 1 1 1 1\n1 1 1 1 1\n'\nshow_info = True\n\n[]\n[]\n[GlobalParams]\nPorousFlowDictator = dictator\n[]\n[Variables]\n[porepressure]\ninitial_condition = 20.0E6\n[]\n[]\n[PorousFlowBasicTHM]\nporepressure = porepressure    # There is just one variable \u2014 the porepressure\ncoupling_type = Hydro          # there is no coupling with heat or mechanics.\ngravity = '0 0 -9.81'          # gravity is vertical\nmultiply_by_density = true     # to inject kg/s\nfp = the_simple_fluid          # Most PorousFlow simulations require fluid properties to be supplied.\n[]\n[FluidProperties]\n[the_simple_fluid]\ntype = SimpleFluidProperties\nbulk_modulus = 2E9\nviscosity = 1.0E-3\ndensity0 = 1000.0\n[]\n[]\n[BCs]\n[./left] # arbitrary user-chosen name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = left # This must match a named boundary in the mesh file\n[../]\n[./right] # arbitrary user-chosen name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = right # This must match a named boundary in the mesh file\n[../]\n[./front] # arbitrary user-chosen name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = front # This must match a named boundary in the mesh file\n[../]\n[./back] # arbitrary user-chosen name\ntype = DirichletBC\nvariable = porepressure\nvalue = 20E6\nboundary = back # This must match a named boundary in the mesh file\n[../]\n[]\n[Materials]\n[porosity]\ntype = PorousFlowPorosityConst\nblock = '1 8 9'\nporosity = 0.01\n[]\n[permeability]\ntype = PorousFlowPermeabilityConst\nblock = '1 8 9'\npermeability = '1E-16 0 0   0 1E-16 0   0 0 1E-16'\n[]\n[biot_modulus]\ntype = PorousFlowConstantBiotModulus\nblock = '1 8 9'\nfluid_bulk_modulus = 2E9\nbiot_coefficient = 1.0\n[]\n[]\n[DiracKernels]\n[sink1]\ntype = PorousFlowSquarePulsePointSource\nblock = '8'\npoint = '2.5 1.5 1.5'\nstart_time = 604800\nmass_flux = -0.379\nvariable = porepressure\npoint_not_found_behavior = ERROR\n[]\n[source]\ntype = PorousFlowSquarePulsePointSource\nblock = '9'\npoint = '2.5 3.5 1.5'\nmass_flux = 0.379\nvariable = porepressure\npoint_not_found_behavior = ERROR\n[]\n[]\n[Executioner]\ntype = Transient\nsolve_type = Newton\nstart_time = 0.0\nend_time = 7.884e8\nnl_abs_tol = 1e-6\n[TimeStepper]\ntype = IterationAdaptiveDT\noptimal_iterations = 1e7\ndt = 1E2\n[]\n[]\n[Outputs]\nexecute_on = 'timestep_end'\nexodus = true\n[]\nBest,\nPierre",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4272986",
                          "updatedAt": "2022-11-30T11:40:28Z",
                          "publishedAt": "2022-11-30T11:40:27Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Great, thanks for this, @pierre-jeanne - i hope to try this in the next 12 hours.",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4277873",
                          "updatedAt": "2022-11-30T22:39:54Z",
                          "publishedAt": "2022-11-30T22:39:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "OK, the solution turned out to be super easy.   Your BCs are wrong: they are fixing the porepressure on zmax and zmin (this is the boundary = front and boundary = back BCs).   So, there are no degrees of freedom for MOOSE to solve for.  Physically: you are injecting water, but immediately removing it from the zmax and zmin boundaries.  Ooops!\nBy the way, you can simulate this example using a 2D mesh - more computationally efficient.",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4280602",
                          "updatedAt": "2022-12-01T06:55:06Z",
                          "publishedAt": "2022-12-01T06:55:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "pierre-jeanne"
                          },
                          "bodyText": "Yes it is working thanks.\nI am a little bit confused it is a 3d model with 6 boundaries: top, bottom, left, right, front, and back.  but when I fix the pore pressure on the front and back boundaries it also fixed the pore pressure on the top and bottom boundaries, why?\nit is true that I didn't define the bottom and top BCs, because I made the assumption that when no the BCs are defined by default the boundaries are impermeable (it is like this in TOUGH2). Is it wrong? and is it why the front and back BCs are applied to the top and bottom BCs?\nI simulated a 1 layer mesh instead of a 2d mesh because I wanted to compare my simulation results with the result obtained in TOUGH2 (with the exact same mesh).\nThanks again for your help and for taking the time to answer my question.\nBest,\nPiere",
                          "url": "https://github.com/idaholab/moose/discussions/22772#discussioncomment-4281101",
                          "updatedAt": "2022-12-01T08:09:02Z",
                          "publishedAt": "2022-12-01T08:09:02Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "lithium dendrite growth simulation",
          "author": {
            "login": "dangyi123"
          },
          "bodyText": "I'm working on the phase-field simulation of lithium dendrite growth, the reference paper is below,\n\nI feel a little bit confused about the code that using the ACInterface kernel to calculate that nonlinear AC interface term. (the second term is the right side)\n\nThe mobility and the kappa of this model is constant, according to the ACInterface.c and ACInterface.h, and the input code of ACInterface is below:\n[./AC_bulk]\ntype = AllenCahn\nvariable = eta\nf_name = FF\n[../]\nI think the \"variable_L\" might be false,\n\nDOES this term's strong form is just two constant number multiply a  second derivative of the order parameter just like the formula?\nBut HOW does the anisotropy manifest?\nI can't find the angle description just like the kobayaoshi snowflake case which is described in other papers.",
          "url": "https://github.com/idaholab/moose/discussions/22606",
          "updatedAt": "2022-12-10T02:47:54Z",
          "publishedAt": "2022-11-07T02:40:31Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "dangyi123"
                  },
                  "bodyText": "@dschwen Sir!!!",
                  "url": "https://github.com/idaholab/moose/discussions/22606#discussioncomment-4072505",
                  "updatedAt": "2022-11-07T03:02:08Z",
                  "publishedAt": "2022-11-07T03:02:07Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@amjokisaari",
                          "url": "https://github.com/idaholab/moose/discussions/22606#discussioncomment-4150169",
                          "updatedAt": "2022-11-15T20:04:30Z",
                          "publishedAt": "2022-11-15T20:04:29Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "vermaprk"
                  },
                  "bodyText": "I think there is no anisotropy due to kappa but a Lagrange noise is inserted to break the symmetry.\nACInterface is mainly suited for planar growth",
                  "url": "https://github.com/idaholab/moose/discussions/22606#discussioncomment-4237278",
                  "updatedAt": "2022-11-25T13:10:44Z",
                  "publishedAt": "2022-11-25T13:10:43Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "biaogxb"
                          },
                          "bodyText": "Do you know which kernel can reflect anisotropy from \u2018kappa\u2018  \uff1f",
                          "url": "https://github.com/idaholab/moose/discussions/22606#discussioncomment-4280846",
                          "updatedAt": "2022-12-01T07:30:01Z",
                          "publishedAt": "2022-12-01T07:30:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "vermaprk"
                          },
                          "bodyText": "You can look into doi:10.1016/0167-2789(93)90120-P\nThe kernel are ACInterfaceKobayashi1/2\nBut it's for two phase system only",
                          "url": "https://github.com/idaholab/moose/discussions/22606#discussioncomment-4285167",
                          "updatedAt": "2022-12-01T16:45:22Z",
                          "publishedAt": "2022-12-01T16:45:00Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Unavailability of redistribution packages for MOOSE installation in Centos",
          "author": {
            "login": "sansugath"
          },
          "bodyText": "Dear all\nI am attempting to install MOOSE in Centos. In the instructions for installation in Centos, downloading redistributable packages for  CentOS is mentioned. The URL for download is given as http://www.mooseframework.org/moose_packages/moose-environment-1_CentOSLinux-7.4.1708_x86_64.rpm. Unfortunately, the file is not available. Please provide the working URL for the download.\nThanks and regards,\nSandeep",
          "url": "https://github.com/idaholab/moose/discussions/22819",
          "updatedAt": "2022-12-01T13:48:50Z",
          "publishedAt": "2022-11-29T23:43:07Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI dont think we use this method for deployment anymore.\nIf this is for a computing cluster / HPC please follow these instructions\nhttps://mooseframework.inl.gov/getting_started/installation/hpc_install_moose.html\nOtherwise those ones (easiest for smaller machines)\nhttps://mooseframework.inl.gov/getting_started/installation/conda.html\nor check this list for more options\nhttps://mooseframework.inl.gov/getting_started/installation/\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22819#discussioncomment-4269024",
                  "updatedAt": "2022-11-29T23:46:05Z",
                  "publishedAt": "2022-11-29T23:45:49Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "sansugath"
                          },
                          "bodyText": "Hi\nThank you for the information. I will look at your suggestions.",
                          "url": "https://github.com/idaholab/moose/discussions/22819#discussioncomment-4280639",
                          "updatedAt": "2022-12-01T06:56:15Z",
                          "publishedAt": "2022-12-01T06:56:14Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Does the flux_function in PorousFlowSink accept Volumetric flux?",
          "author": {
            "login": "batodon"
          },
          "bodyText": "Hello,\nEvery PorousFlow tutorial I see made use of the mass flux and no mention of volumetric flux. In tutorial08, if we were to use water as the fluid being injected into the media, and hence a volumetric flux of 1e-5m/s, will the flux_function in the input file accept this value as a volumetric flux or it will be registered as a mass flux? In other words, do we strictly have to input a mass flux regardless of the fluid we use? Thanks.",
          "url": "https://github.com/idaholab/moose/discussions/22798",
          "updatedAt": "2022-11-30T22:58:21Z",
          "publishedAt": "2022-11-26T00:17:13Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "Usually it will be a mass flux.  However, it will be a volume flux if you use multiply_by_density = false in your Kernels, or in https://mooseframework.inl.gov/source/actions/PorousFlowBasicTHM.html or in https://mooseframework.inl.gov/source/actions/PorousFlowFullySaturated.html .   Please see the latter for some remarks (most particularly, the steady-state Laplace eqn, if that is pertinent to you).\nThe multiply_by_density flag also has some documentation: \"If true, then the Kernels for fluid flow are multiplied by the fluid density. If false, this multiplication is not performed, which means the problem becomes more linear, but care must be taken when using other PorousFlow objects, since MOOSE will be computing volume fluxes, not mass fluxes.\"",
                  "url": "https://github.com/idaholab/moose/discussions/22798#discussioncomment-4257725",
                  "updatedAt": "2022-11-28T22:03:20Z",
                  "publishedAt": "2022-11-28T22:03:19Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "@WilkAndy so the flux unit will be m3 time-1 instead of kg m-2 time-1 ?",
                          "url": "https://github.com/idaholab/moose/discussions/22798#discussioncomment-4259494",
                          "updatedAt": "2022-11-29T04:19:49Z",
                          "publishedAt": "2022-11-29T04:19:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "No, the volumeric flux unit will be m3 m-2 time-1 = m time-1",
                          "url": "https://github.com/idaholab/moose/discussions/22798#discussioncomment-4267956",
                          "updatedAt": "2022-11-29T20:46:24Z",
                          "publishedAt": "2022-11-29T20:46:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Did the above explanation answer your question, @batodon ?   (If so, please mark as \"answered\" :-)",
                          "url": "https://github.com/idaholab/moose/discussions/22798#discussioncomment-4277884",
                          "updatedAt": "2022-11-30T22:40:55Z",
                          "publishedAt": "2022-11-30T22:40:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "batodon"
                          },
                          "bodyText": "Thanks @WilkAndy . Really appreciate. It was helpful!",
                          "url": "https://github.com/idaholab/moose/discussions/22798#discussioncomment-4278603",
                          "updatedAt": "2022-11-30T22:58:21Z",
                          "publishedAt": "2022-11-30T22:58:21Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "differences in code syntax",
          "author": {
            "login": "pierre-jeanne"
          },
          "bodyText": "Hello,\ni am going through the tutorial and I was wondering what are the differences between, for example:\n[Variables]\n[./porepressure]\n[../]\n[]\nand\n[Variables]\n[porepressure]\n[]\n[]\nAnd the difference between:\n[Variables]\n[porepressure]\ninitial_condition = 2\n[]\n[]\nand\n[Variables]\n[porepressure]\n[]\n[]\n[Variables]\n[porepressure]\n[]\n[]\n[ICs]\n[pressure_ic]\ntype = ConstantIC\nvariable = porepressure\nvalue = 2\n[]\n[]\nAre they the same?\nP.",
          "url": "https://github.com/idaholab/moose/discussions/22824",
          "updatedAt": "2022-11-30T12:20:50Z",
          "publishedAt": "2022-11-30T12:04:50Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "Yes. [] [] is preferred over [./] [../]\nYes. initial_condition = 2 is a shortcut to what's shown below.",
                  "url": "https://github.com/idaholab/moose/discussions/22824#discussioncomment-4273213",
                  "updatedAt": "2022-11-30T12:13:35Z",
                  "publishedAt": "2022-11-30T12:13:35Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}