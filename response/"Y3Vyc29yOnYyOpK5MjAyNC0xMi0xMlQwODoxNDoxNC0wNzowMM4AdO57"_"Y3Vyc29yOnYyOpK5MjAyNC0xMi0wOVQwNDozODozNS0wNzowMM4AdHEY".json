{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0xMi0wOVQwNDozODozNS0wNzowMM4AdHEY"
    },
    "edges": [
      {
        "node": {
          "title": "How can I prevent Jacobian from updating in Newton method ?",
          "author": {
            "login": "Juns-Cheng"
          },
          "bodyText": "Hello. I am using the NEWTON method to solve a large deformation mechanics problem. The linear computation is very fast, and the nonlinear iteration is converging. However, for each nonlinear iteration, Jacobian is computed, which costs too much time in my case. So I am wondering if the update can be disabled, like in the modified Newton-Raphson method.",
          "url": "https://github.com/idaholab/moose/discussions/29517",
          "updatedAt": "2024-12-12T05:35:08Z",
          "publishedAt": "2024-12-10T16:15:57Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou can:\n\nset pc reuse parameters (reuse_preconditioner)\nOR\nset the solve type to linear\nsee the executioner documentation page for the parameters",
                  "url": "https://github.com/idaholab/moose/discussions/29517#discussioncomment-11523313",
                  "updatedAt": "2024-12-10T16:20:07Z",
                  "publishedAt": "2024-12-10T16:20:06Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Juns-Cheng"
                          },
                          "bodyText": "I believe that is what I am looking for. But it does not take effect.\nIn input file I set:\n #######################\n[Preconditioning]\n  [smp]\n    type = SMP\n    full = true\n    petsc_options_iname = '-pc_type'\n    petsc_options_value = 'lu'\n  []\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = NEWTON\n  petsc_options_iname = '-pc_type'\n  petsc_options_value = 'lu'\n  end_time = 1\n  dt = 0.1\n  reuse_preconditioner = true\n  reuse_preconditioner_max_linear_its = 20\n[]\n###############\nAnd the output in console looks like, \n\n1 Nonlinear |R| = 7.962050e-06\n\n    Computing Jacobian...                                                                [ 22.35 s] [ 2548 MB]\n      0 Linear |R| = 7.962050e-06\n      1 Linear |R| = 5.312515e-06\n      2 Linear |R| = 1.173135e-10\n      3 Linear |R| = 4.087898e-12\n 2 Nonlinear |R| = 5.870031e-06\n    Computing Jacobian...                                                                [ 22.25 s] [ 2560 MB]\n      0 Linear |R| = 5.870031e-06\n      1 Linear |R| = 5.614287e-06\n      2 Linear |R| = 4.428558e-10\n      3 Linear |R| = 2.125982e-11\n 3 Nonlinear |R| = 3.758159e-06\n    Computing Jacobian...                                                                [ 22.45 s] [ 2560 MB]\n      0 Linear |R| = 3.758159e-06\n      1 Linear |R| = 3.670242e-06\n      2 Linear |R| = 6.633646e-10\n      3 Linear |R| = 3.735210e-11\n\nThe Jacobian is still updated.",
                          "url": "https://github.com/idaholab/moose/discussions/29517#discussioncomment-11528733",
                          "updatedAt": "2024-12-11T05:22:50Z",
                          "publishedAt": "2024-12-11T05:16:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "what about the linear solve_type?\nwe must be missing logic here, reusing the preconditioner but recomputing the Jacobian",
                          "url": "https://github.com/idaholab/moose/discussions/29517#discussioncomment-11528773",
                          "updatedAt": "2024-12-11T05:24:37Z",
                          "publishedAt": "2024-12-11T05:24:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Juns-Cheng"
                          },
                          "bodyText": "For linear solve_type, Jacobian is computed only once for each sub step, as no nonlinear iteration is involved.",
                          "url": "https://github.com/idaholab/moose/discussions/29517#discussioncomment-11529420",
                          "updatedAt": "2024-12-11T07:03:30Z",
                          "publishedAt": "2024-12-11T07:03:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "That should be the way to do it.\nyou could also solve with Newton still but a very tight linear convergence to make sure a second nonlinear one is not needed",
                          "url": "https://github.com/idaholab/moose/discussions/29517#discussioncomment-11532948",
                          "updatedAt": "2024-12-11T13:04:47Z",
                          "publishedAt": "2024-12-11T13:04:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Juns-Cheng"
                          },
                          "bodyText": "But LINEAR solve_type computes Jacobian only once for each sub step, even if reuse_preconditioner is switched off. And I think LINEAR solve_type is not proper for nonlinear problems.",
                          "url": "https://github.com/idaholab/moose/discussions/29517#discussioncomment-11534021",
                          "updatedAt": "2024-12-11T14:39:47Z",
                          "publishedAt": "2024-12-11T14:39:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "if you problem is nonlinear then you need to recompute the Jacobian on every nonlinear iteration.\nI thoight your problem was linear from that previous post, but maybe you moved on to another one?",
                          "url": "https://github.com/idaholab/moose/discussions/29517#discussioncomment-11534952",
                          "updatedAt": "2024-12-11T15:58:32Z",
                          "publishedAt": "2024-12-11T15:58:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Juns-Cheng"
                          },
                          "bodyText": "I am learning moose by trying different mechanics problems. I just found reuse_preconditioner does work for some models. I changed nothing but the mesh file, and then switching off reuse_preconditioner will cost about twice the time than swithing it on.\nThank you.",
                          "url": "https://github.com/idaholab/moose/discussions/29517#discussioncomment-11540318",
                          "updatedAt": "2024-12-12T05:35:00Z",
                          "publishedAt": "2024-12-12T05:34:59Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Issues replicating Example 1 : As Simple as it Gets with a GMSH ASCII input mesh file",
          "author": {
            "login": "kurtenkera"
          },
          "bodyText": "I'm trying to reproduce the results of Example 1: As Simple as it Gets (link: https://mooseframework.inl.gov/getting_started/examples_and_tutorials/examples/ex01_inputfile.html). Rather than using the mug.e mesh file which is provided by default, I'm trying to reproduce the figure below using a GMSH ASCII file that I created of a hollow cylinder (the .msh file is contained in here, hollow_cylinder_ascii.zip). This is the figure that I want to reproduce:\n\nThe information here on Named Entity Support (link: https://mooseframework.inl.gov/application_usage/mesh_block_type.html) has led me to believe that all I need to do is define two physical surfaces 'top' and 'bottom' that refer to the top and bottom surfaces of my cylinder. I did this in a Python script that imports the gmsh module, and you can also inspect the .msh file in hollow_cylinder_ascii.zip that these names have been implemented in lines 6 and 7 of the .msh file.\nHowever, when I attempt to run the example problem (link: https://mooseframework.inl.gov/getting_started/examples_and_tutorials/examples/ex01_inputfile.html) with ex01.i, but changing the 'Mesh' related code to the following:\n[Mesh]\n  # This mesh file has 'top' and 'bottom' named boundaries defined inside it.\n  file = hollow_cylinder_ascii.msh\n[]\n\nI get the following error:\n*** ERROR ***\n/home/enk001/Documents/PHD/PHD-Code/projects-MOOSE/moose/examples/ex01_inputfile/ex01_cyl.i:26: (BCs/bottom/boundary):\n    the following node sets (ids) do not exist on the mesh: bottom (1)\n\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1\n:\nsystem msg for write_line failure : Bad file descriptor\n\nLikewise, if I run the code with the following changes to ex01.i:\n[Mesh]\n  # This mesh file has 'top' and 'bottom' named boundaries defined inside it.\n  file = hollow_cylinder_ascii.msh\n  boundary_name = 'bottom top'\n[]\n\nI get a slightly different error:\n*** ERROR ***\nThe following error occurred in the object \"Mesh\", of type \"SetupMeshAction\".\n\nYou must supply the same number of boundary ids and names parameters\n\nStack frames: 16\n0: libMesh::print_trace(std::ostream&)\n1: moose::internal::mooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)\n2: callMooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, MooseApp*)\n3: /home/enk001/Documents/PHD/PHD-Code/projects-MOOSE/moose/framework/libmoose-opt.so.0(+0xaff771) [0x773da7aff771]\n4: SetupMeshAction::setupMesh(MooseMesh*)\n5: SetupMeshAction::act()\n6: Action::timedAct()\n7: ActionWarehouse::executeActionsWithAction(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)\n8: ActionWarehouse::executeAllActions()\n9: MooseApp::runInputFile()\n10: MooseApp::run()\n11: ./ex01-opt(+0x20dc) [0x617a3052a0dc]\n12: main\n13: /lib/x86_64-linux-gnu/libc.so.6(+0x29d90) [0x773d9e629d90]\n14: __libc_start_main\n15: ./ex01-opt(+0x2386) [0x617a3052a386]\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1\n:\nsystem msg for write_line failure : Bad file descriptor\n\nHere are my questions: How can I get this simple example working with a .msh (ASCII) file? I believe I've correctly labelled the top and bottom surfaces of my MSH ASCII file, and the documentation here (https://mooseframework.inl.gov/application_usage/mesh_block_type.html) suggests that MOOSE should be able to recognise this?\nThanks in advance!",
          "url": "https://github.com/idaholab/moose/discussions/27185",
          "updatedAt": "2024-12-11T17:47:55Z",
          "publishedAt": "2024-03-25T06:19:42Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nPlease run with --mesh-only on the command line to get a summary of what MOOSE understood from this mesh file.\nThe second error:\nYou must supply the same number of boundary ids and names parameters\n\nis because this parameter is used to (re)name boundaries that only have an id. So you must also pass the id to use this boundary_name parameter\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-8903082",
                  "updatedAt": "2024-03-25T14:04:21Z",
                  "publishedAt": "2024-03-25T14:04:20Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "kurtenkera"
                          },
                          "bodyText": "This is the output that I get when running with --mesh-only:\n Mesh Information:\n  elem_dimensions()={2}\n  spatial_dimension()=3\n  n_nodes()=136\n    n_local_nodes()=136\n  n_elem()=152\n    n_local_elem()=152\n    n_active_elem()=152\n  n_subdomains()=2\n  n_elemsets()=0\n  n_partitions()=1\n  n_processors()=1\n  n_threads()=1\n  processor_id()=0\n  is_prepared()=true\n  is_replicated()=true\n\n Mesh Bounding Box:\n  Minimum: (x,y,z)=(    -0.5,     -0.5,        0)\n  Maximum: (x,y,z)=(     0.5,      0.5,        1)\n  Delta:   (x,y,z)=(       1,        1,        1)\n\n Mesh Element Type(s):\n  TRI3\n\n Mesh Nodesets:\n  None\n\n Mesh Sidesets:\n  None\n\n Mesh Edgesets:\n  None\n\n Mesh Subdomains:\n  Subdomain 1 (bottom): 76 elems (TRI3, 76 active), 68 active nodes\n   Volume: 0.281914\n   Bounding box minimum: (x,y,z)=(    -0.5,     -0.5,        0)\n   Bounding box maximum: (x,y,z)=(     0.5,      0.5,        0)\n   Bounding box delta: (x,y,z)=(       1,        1,        0)\n  Subdomain 2 (top): 76 elems (TRI3, 76 active), 68 active nodes\n   Volume: 0.281914\n   Bounding box minimum: (x,y,z)=(    -0.5,     -0.5,        1)\n   Bounding box maximum: (x,y,z)=(     0.5,      0.5,        1)\n   Bounding box delta: (x,y,z)=(       1,        1,        0)\n  Global mesh volume = 0.563829\n\nWARNING! There are options you set that were not used!\nWARNING! could be spelling mistake, etc!\nThere are 2 unused database options. They are:\nOption left: name:--mesh-only (no value) source: command line\nOption left: name:-i value: ex01_cyl.i source: command line\n\nEvidently, there are no recognised Mesh sidesets. Is there any documentation that explains how to clearly label sidesets in Gmsh that are recognisable by MOOSE? I thought I accomplished this by assigning the top and bottom surfaces of my hollow cylinder to two distinct \"physical groups\" (see https://gmsh.info/doc/texinfo/gmsh.html#Elementary-entities-vs-physical-groups for more on defining physical groups in Gmsh) 'top' and 'bottom' respectively?",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-8910435",
                          "updatedAt": "2024-03-26T04:36:58Z",
                          "publishedAt": "2024-03-26T04:36:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I would look at other posts here. There are other examples of people using gmsh who have imported boundary ids\nmaybe the test input there is helpful as an example?\nhttps://github.com/idaholab/moose/tree/next/test/tests/meshgenerators/gmsh_bcs",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-8910439",
                          "updatedAt": "2024-03-26T04:39:31Z",
                          "publishedAt": "2024-03-26T04:39:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "navier-rgb"
                          },
                          "bodyText": "How are you exporting the gmsh, @kurtenkera ? make sure you don't save all elements or parametric coordinates when exporting the mesh to .msh format.",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-8910603",
                          "updatedAt": "2024-03-26T05:13:46Z",
                          "publishedAt": "2024-03-26T05:13:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "kurtenkera"
                          },
                          "bodyText": "Here is my hollow_cylinder_ascii.msh file below (see below). Is there any clear documentation in MOOSE regarding using gmsh for meshing? I can't seem to find any. Why would we not save all elements? And by 'parametric coordinates', do you mean coordinates of nodes?\n$MeshFormat\n4.1 0 8\n$EndMeshFormat\n$PhysicalNames\n2\n2 1 \"bottom\"\n2 2 \"top\"\n$EndPhysicalNames\n$Entities\n18 24 10 1\n1 0.5 0 0 0 \n2 0 0.5 0 0 \n3 -0.5 0 0 0 \n4 0 -0.5 0 0 \n5 0.4 0 0 0 \n6 0 0.4 0 0 \n7 -0.4 0 0 0 \n8 0 -0.4 0 0 \n9 0 0 0 0 \n10 0.5 0 1 0 \n11 0 0 1 0 \n12 0 0.5 1 0 \n17 -0.5 0 1 0 \n22 0 -0.5 1 0 \n30 0.4 0 1 0 \n32 0 -0.4 1 0 \n37 -0.4 0 1 0 \n42 0 0.4 1 0 \n1 2.775557561562891e-17 0 0 0.5 0.5 0 0 2 1 -2 \n2 -0.5 2.775557561562891e-17 0 0 0.5 0 0 2 2 -3 \n3 -0.5 -0.5 0 -2.775557561562891e-17 0 0 0 2 3 -4 \n4 0 -0.5 0 0.5 -2.775557561562891e-17 0 0 2 4 -1 \n5 2.775557561562891e-17 0 0 0.4 0.4 0 0 2 5 -6 \n6 -0.4 2.775557561562891e-17 0 0 0.4 0 0 2 6 -7 \n7 -0.4 -0.4 0 -2.775557561562891e-17 0 0 0 2 7 -8 \n8 0 -0.4 0 0.4 -2.775557561562891e-17 0 0 2 8 -5 \n10 2.775557561562891e-17 0 1 0.5 0.5 1 0 2 10 -12 \n11 -0.5 2.775557561562891e-17 1 0 0.5 1 0 2 12 -17 \n12 -0.5 -0.5 1 -2.775557561562891e-17 0 1 0 2 17 -22 \n13 0 -0.5 1 0.5 -2.775557561562891e-17 1 0 2 22 -10 \n14 0 -0.4 1 0.4 -2.775557561562891e-17 1 0 2 30 -32 \n15 -0.4 -0.4 1 -2.775557561562891e-17 0 1 0 2 32 -37 \n16 -0.4 2.775557561562891e-17 1 0 0.4 1 0 2 37 -42 \n17 2.775557561562891e-17 0 1 0.4 0.4 1 0 2 42 -30 \n19 0.5 0 0 0.5 0 1 0 2 1 -10 \n20 0 0.5 0 0 0.5 1 0 2 2 -12 \n24 -0.5 0 0 -0.5 0 1 0 2 3 -17 \n28 0 -0.5 0 0 -0.5 1 0 2 4 -22 \n35 0.4 0 0 0.4 0 1 0 2 5 -30 \n36 0 -0.4 0 0 -0.4 1 0 2 8 -32 \n40 -0.4 0 0 -0.4 0 1 0 2 7 -37 \n44 0 0.4 0 0 0.4 1 0 2 6 -42 \n1 -0.5 -0.5 0 0.5 0.5 0 1 1 8 1 2 3 4 -8 -7 -6 -5 \n21 0 0 0 0.5 0.5 1 0 4 1 20 -10 -19 \n25 -0.5 0 0 0 0.5 1 0 4 2 24 -11 -20 \n29 -0.5 -0.5 0 0 0 1 0 4 3 28 -12 -24 \n33 0 -0.5 0 0.5 0 1 0 4 4 19 -13 -28 \n37 0 -0.4 0 0.4 0 1 0 4 -8 36 -14 -35 \n41 -0.4 -0.4 0 0 0 1 0 4 -7 40 -15 -36 \n45 -0.4 0 0 0 0.4 1 0 4 -6 44 -16 -40 \n49 0 0 0 0.4 0.4 1 0 4 -5 35 -17 -44 \n50 -0.5 -0.5 1 0.5 0.5 1 1 2 8 10 11 12 13 14 15 16 17 \n1 -0.5 -0.5 0 0.5 0.5 1 0 10 -1 50 21 25 29 33 -37 -41 -45 -49 \n$EndEntities\n$Nodes\n34 136 1 136\n0 1 0 1\n1\n0.5 0 0\n0 2 0 1\n2\n0 0.5 0\n0 3 0 1\n3\n-0.5 0 0\n0 4 0 1\n4\n0 -0.5 0\n0 5 0 1\n5\n0.4 0 0\n0 6 0 1\n6\n0 0.4 0\n0 7 0 1\n7\n-0.4 0 0\n0 8 0 1\n8\n0 -0.4 0\n0 10 0 1\n9\n0.5 0 1\n0 12 0 1\n10\n0 0.5 1\n0 17 0 1\n11\n-0.5 0 1\n0 22 0 1\n12\n0 -0.5 1\n0 30 0 1\n13\n0.4 0 1\n0 32 0 1\n14\n0 -0.4 1\n0 37 0 1\n15\n-0.4 0 1\n0 42 0 1\n16\n0 0.4 1\n1 1 0 7\n17\n18\n19\n20\n21\n22\n23\n0.4903926401520308 0.09754516125734172 0\n0.4619397660413571 0.1913417166998779 0\n0.4157348056849914 0.2777851172076403 0\n0.3535533897883815 0.3535533913981661 0\n0.2777851158147919 0.4157348066156629 0\n0.1913417156147864 0.4619397664908166 0\n0.09754516070669164 0.4903926402615619 0\n1 2 0 7\n24\n25\n26\n27\n28\n29\n30\n-0.09754516125734172 0.4903926401520308 0\n-0.1913417166998779 0.4619397660413571 0\n-0.2777851172076403 0.4157348056849914 0\n-0.3535533913981661 0.3535533897883815 0\n-0.4157348066156629 0.2777851158147919 0\n-0.4619397664908166 0.1913417156147864 0\n-0.4903926402615619 0.09754516070669164 0\n1 3 0 7\n31\n32\n33\n34\n35\n36\n37\n-0.4903926401520308 -0.09754516125734172 0\n-0.4619397660413571 -0.1913417166998779 0\n-0.4157348056849914 -0.2777851172076403 0\n-0.3535533897883815 -0.3535533913981661 0\n-0.2777851158147919 -0.4157348066156629 0\n-0.1913417156147864 -0.4619397664908166 0\n-0.09754516070669164 -0.4903926402615619 0\n1 4 0 7\n38\n39\n40\n41\n42\n43\n44\n0.09754516125734172 -0.4903926401520308 0\n0.1913417166998779 -0.4619397660413571 0\n0.2777851172076403 -0.4157348056849914 0\n0.3535533913981661 -0.3535533897883815 0\n0.4157348066156629 -0.2777851158147919 0\n0.4619397664908166 -0.1913417156147864 0\n0.4903926402615619 -0.09754516070669164 0\n1 5 0 6\n45\n46\n47\n48\n49\n50\n0.3899711648211195 0.08900837380864368 0\n0.3603875469354922 0.1735534961152277 0\n0.312732592476697 0.2493959213836589 0\n0.2493959201468829 0.312732593462993 0\n0.1735534951430607 0.3603875474036632 0\n0.08900837330630373 0.3899711649357753 0\n1 6 0 6\n51\n52\n53\n54\n55\n56\n-0.08900837380864368 0.3899711648211195 0\n-0.1735534961152277 0.3603875469354922 0\n-0.2493959213836589 0.312732592476697 0\n-0.312732593462993 0.2493959201468829 0\n-0.3603875474036632 0.1735534951430607 0\n-0.3899711649357753 0.08900837330630373 0\n1 7 0 6\n57\n58\n59\n60\n61\n62\n-0.3899711648211195 -0.08900837380864368 0\n-0.3603875469354922 -0.1735534961152277 0\n-0.312732592476697 -0.2493959213836589 0\n-0.2493959201468829 -0.312732593462993 0\n-0.1735534951430607 -0.3603875474036632 0\n-0.08900837330630373 -0.3899711649357753 0\n1 8 0 6\n63\n64\n65\n66\n67\n68\n0.08900837380864368 -0.3899711648211195 0\n0.1735534961152277 -0.3603875469354922 0\n0.2493959213836589 -0.312732592476697 0\n0.312732593462993 -0.2493959201468829 0\n0.3603875474036632 -0.1735534951430607 0\n0.3899711649357753 -0.08900837330630373 0\n1 10 0 7\n69\n70\n71\n72\n73\n74\n75\n0.4903926401520308 0.09754516125734172 1\n0.4619397660413571 0.1913417166998779 1\n0.4157348056849914 0.2777851172076403 1\n0.3535533897883815 0.3535533913981661 1\n0.2777851158147919 0.4157348066156629 1\n0.1913417156147864 0.4619397664908166 1\n0.09754516070669164 0.4903926402615619 1\n1 11 0 7\n76\n77\n78\n79\n80\n81\n82\n-0.09754516125734172 0.4903926401520308 1\n-0.1913417166998779 0.4619397660413571 1\n-0.2777851172076403 0.4157348056849914 1\n-0.3535533913981661 0.3535533897883815 1\n-0.4157348066156629 0.2777851158147919 1\n-0.4619397664908166 0.1913417156147864 1\n-0.4903926402615619 0.09754516070669164 1\n1 12 0 7\n83\n84\n85\n86\n87\n88\n89\n-0.4903926401520308 -0.09754516125734172 1\n-0.4619397660413571 -0.1913417166998779 1\n-0.4157348056849914 -0.2777851172076403 1\n-0.3535533897883815 -0.3535533913981661 1\n-0.2777851158147919 -0.4157348066156629 1\n-0.1913417156147864 -0.4619397664908166 1\n-0.09754516070669164 -0.4903926402615619 1\n1 13 0 7\n90\n91\n92\n93\n94\n95\n96\n0.09754516125734172 -0.4903926401520308 1\n0.1913417166998779 -0.4619397660413571 1\n0.2777851172076403 -0.4157348056849914 1\n0.3535533913981661 -0.3535533897883815 1\n0.4157348066156629 -0.2777851158147919 1\n0.4619397664908166 -0.1913417156147864 1\n0.4903926402615619 -0.09754516070669164 1\n1 14 0 6\n97\n98\n99\n100\n101\n102\n0.3899711648369567 -0.0890083737392567 1\n0.3603875468374432 -0.1735534963188288 1\n0.312732592200427 -0.2493959217300905 1\n0.2493959196987448 -0.3127325938203712 1\n0.173553494849924 -0.3603875475448304 1\n0.08900837316826768 -0.3899711649672812 1\n1 15 0 6\n103\n104\n105\n106\n107\n108\n-0.0890083737392567 -0.3899711648369567 1\n-0.1735534963188288 -0.3603875468374432 1\n-0.2493959217300905 -0.312732592200427 1\n-0.3127325938203712 -0.2493959196987448 1\n-0.3603875475448304 -0.173553494849924 1\n-0.3899711649672812 -0.08900837316826768 1\n1 16 0 6\n109\n110\n111\n112\n113\n114\n-0.3899711648369567 0.0890083737392567 1\n-0.3603875468374432 0.1735534963188288 1\n-0.312732592200427 0.2493959217300905 1\n-0.2493959196987448 0.3127325938203712 1\n-0.173553494849924 0.3603875475448304 1\n-0.08900837316826768 0.3899711649672812 1\n1 17 0 6\n115\n116\n117\n118\n119\n120\n0.0890083737392567 0.3899711648369567 1\n0.1735534963188288 0.3603875468374432 1\n0.2493959217300905 0.312732592200427 1\n0.3127325938203712 0.2493959196987448 1\n0.3603875475448304 0.173553494849924 1\n0.3899711649672812 0.08900837316826768 1\n2 1 0 8\n121\n122\n123\n124\n125\n126\n127\n128\n0.4443085384450485 -0.04878191266761422 0\n-0.4443085384450485 0.04878191266761422 0\n0.04878191266761424 0.4443085384450485 0\n-0.04878191266761424 -0.4443085384450485 0\n0.4443085383797239 0.04878191294249278 0\n-0.04878191294249278 0.4443085383797239 0\n-0.4443085383797239 -0.04878191294249278 0\n0.04878191294249278 -0.4443085383797239 0\n2 50 0 8\n129\n130\n131\n132\n133\n134\n135\n136\n0.4443085386187234 0.0487819126750148 1\n0.04878191267501482 -0.4443085386187234 1\n-0.4443085386187234 -0.04878191267501482 1\n-0.04878191267501482 0.4443085386187234 1\n0.444308538283463 -0.04878191284845387 1\n-0.04878191284845387 -0.444308538283463 1\n-0.444308538283463 0.04878191284845387 1\n0.04878191284845387 0.444308538283463 1\n$EndNodes\n$Elements\n2 152 1 152\n2 1 2 76\n1 1 5 121 \n2 5 1 125 \n3 1 17 125 \n4 44 1 121 \n5 2 6 123 \n6 6 2 126 \n7 23 2 123 \n8 2 24 126 \n9 3 7 122 \n10 7 3 127 \n11 30 3 122 \n12 3 31 127 \n13 4 8 124 \n14 8 4 128 \n15 37 4 124 \n16 4 38 128 \n17 45 5 125 \n18 5 68 121 \n19 6 50 123 \n20 51 6 126 \n21 7 56 122 \n22 57 7 127 \n23 8 62 124 \n24 63 8 128 \n25 17 18 45 \n26 17 45 125 \n27 18 19 46 \n28 45 18 46 \n29 19 20 47 \n30 46 19 47 \n31 20 21 48 \n32 47 20 48 \n33 21 22 49 \n34 48 21 49 \n35 50 22 23 \n36 22 50 49 \n37 50 23 123 \n38 24 25 51 \n39 24 51 126 \n40 25 26 52 \n41 51 25 52 \n42 26 27 53 \n43 52 26 53 \n44 27 28 54 \n45 53 27 54 \n46 28 29 55 \n47 54 28 55 \n48 29 30 56 \n49 55 29 56 \n50 56 30 122 \n51 31 32 57 \n52 31 57 127 \n53 32 33 58 \n54 32 58 57 \n55 33 34 59 \n56 58 33 59 \n57 34 35 60 \n58 59 34 60 \n59 35 36 61 \n60 35 61 60 \n61 36 37 62 \n62 61 36 62 \n63 62 37 124 \n64 38 39 63 \n65 38 63 128 \n66 39 40 64 \n67 63 39 64 \n68 40 41 65 \n69 40 65 64 \n70 41 42 66 \n71 65 41 66 \n72 42 43 67 \n73 66 42 67 \n74 43 44 68 \n75 67 43 68 \n76 68 44 121 \n2 50 2 76\n77 13 9 129 \n78 9 13 133 \n79 9 69 129 \n80 96 9 133 \n81 16 10 132 \n82 10 16 136 \n83 75 10 136 \n84 10 76 132 \n85 15 11 131 \n86 11 15 135 \n87 82 11 135 \n88 11 83 131 \n89 14 12 130 \n90 12 14 134 \n91 89 12 134 \n92 12 90 130 \n93 13 97 133 \n94 120 13 129 \n95 102 14 130 \n96 14 103 134 \n97 108 15 131 \n98 15 109 135 \n99 114 16 132 \n100 16 115 136 \n101 120 69 70 \n102 69 120 129 \n103 70 71 119 \n104 120 70 119 \n105 71 72 118 \n106 71 118 119 \n107 72 73 117 \n108 72 117 118 \n109 73 74 116 \n110 73 116 117 \n111 74 75 115 \n112 74 115 116 \n113 115 75 136 \n114 76 77 114 \n115 76 114 132 \n116 77 78 113 \n117 77 113 114 \n118 78 79 112 \n119 78 112 113 \n120 79 80 111 \n121 79 111 112 \n122 80 81 110 \n123 80 110 111 \n124 81 82 109 \n125 81 109 110 \n126 109 82 135 \n127 83 84 108 \n128 83 108 131 \n129 84 85 107 \n130 84 107 108 \n131 85 86 106 \n132 85 106 107 \n133 86 87 105 \n134 86 105 106 \n135 87 88 104 \n136 87 104 105 \n137 88 89 103 \n138 88 103 104 \n139 103 89 134 \n140 90 91 102 \n141 90 102 130 \n142 91 92 101 \n143 91 101 102 \n144 92 93 100 \n145 92 100 101 \n146 93 94 99 \n147 93 99 100 \n148 94 95 98 \n149 94 98 99 \n150 95 96 97 \n151 95 97 98 \n152 97 96 133 \n$EndElements",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-8911340",
                          "updatedAt": "2024-03-26T07:04:29Z",
                          "publishedAt": "2024-03-26T07:04:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "navier-rgb"
                          },
                          "bodyText": "Hi @kurtenkera. I assume your simulation is 3D. If you check the box next to 'all elements' when exporting/saving your gmsh file to .msh file, moose will select and try to use all lower-dimensional elements. You don't want to do that. That might be the cause of your issue. Yes, that's what I meant by parametric coordinates.",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-8920301",
                          "updatedAt": "2024-03-26T20:43:04Z",
                          "publishedAt": "2024-03-26T20:43:04Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "sreihani"
                  },
                  "bodyText": "Hi there,\nI am wondering what tool is used to create the file \"mug.e\".  Is it an exodus type file created by Paraview? Also, can MOOSE read any drawing files, for instance created by SolidWorks? If not, what features are available in MOOSE environment to create complex geometries.\nThanks.",
                  "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-11535068",
                  "updatedAt": "2024-12-11T16:06:08Z",
                  "publishedAt": "2024-12-11T16:06:08Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I am wondering what tool is used to create the file \"mug.e\". Is it an exodus type file created by Paraview?\n\nyou need to use a meshing tool. This problem is very common so you ll find examples in Gmsh or Cubit\n\nAlso, can MOOSE read any drawing files, for instance created by SolidWorks\n\nNo we need to read a mesh, not a CAD file. You can use a mesher (cubit, gmsh, openfoam's hex utility, ...) to turn a CAD into a mesh",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-11535103",
                          "updatedAt": "2024-12-11T16:08:54Z",
                          "publishedAt": "2024-12-11T16:08:53Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "sreihani"
                  },
                  "bodyText": "Thanks for the quick response.\nIs there any recommendation for cubit vs. gmsh? For instance, more compatibility with MOOSE environment, if exists.",
                  "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-11535405",
                  "updatedAt": "2024-12-11T16:40:45Z",
                  "publishedAt": "2024-12-11T16:40:44Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "cubit open version is limited in the element count but it is definitely nicer to use\ncubit paid version has no limits",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-11535423",
                          "updatedAt": "2024-12-11T16:42:16Z",
                          "publishedAt": "2024-12-11T16:42:15Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "sreihani"
                  },
                  "bodyText": "Could you let me know which one (cubit or gmsh) was used to create \"mug.e\" file?",
                  "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-11535857",
                  "updatedAt": "2024-12-11T17:25:01Z",
                  "publishedAt": "2024-12-11T17:25:00Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "where is this file In moose?",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-11535910",
                          "updatedAt": "2024-12-11T17:29:57Z",
                          "publishedAt": "2024-12-11T17:29:56Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "sreihani"
                  },
                  "bodyText": "~/projects/moose/examples/ex01_inputfile/mug.e",
                  "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-11535956",
                  "updatedAt": "2024-12-11T17:34:46Z",
                  "publishedAt": "2024-12-11T17:34:45Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok it doesnt say.\nEither software can do it. This can be done in MOOSE too with a little bit more work",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-11536108",
                          "updatedAt": "2024-12-11T17:47:12Z",
                          "publishedAt": "2024-12-11T17:47:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "see this\nhttps://mooseframework.inl.gov/syntax/Mesh/index.html#06c829ee-a157-4b26-9d9b-e3f359e0d061\nand use the MeshGenerator objects.",
                          "url": "https://github.com/idaholab/moose/discussions/27185#discussioncomment-11536119",
                          "updatedAt": "2024-12-11T17:47:55Z",
                          "publishedAt": "2024-12-11T17:47:55Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Calculation of pk2_jacobian in moose",
          "author": {
            "login": "manikumd22"
          },
          "bodyText": "Hi @GiudGiud ,\nIn MOOSE, when calculating the PK2 Jacobian (C=\u2202S/\u2202E), does the framework use automatic differentiation? Specifically, if I directly compute the Second Piola-Kirchhoff stress (S) in my model, will MOOSE automatically differentiate S with respect to the Green-Lagrange strain (E) to compute the Jacobian (C)?",
          "url": "https://github.com/idaholab/moose/discussions/29111",
          "updatedAt": "2024-12-11T04:31:56Z",
          "publishedAt": "2024-11-21T05:23:08Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "maxnezdyur"
                  },
                  "bodyText": "No that system does not use AD. It does have perfect handcoded jacobians. I am not sure what you mean by \"directly computing\" S. If you changed how you compute S then I think you will need to fix the pk2 jacobian too.",
                  "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11338692",
                  "updatedAt": "2024-11-21T16:10:51Z",
                  "publishedAt": "2024-11-21T16:10:49Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "manikumd22"
                          },
                          "bodyText": "Hi @maxnezdyur\nFor instance, for a neo-Hookean material, we compute it in this way:\n // Large deformation = nonlinear strain\nif (_large_kinematics)\n{\n  RankTwoTensor Cinv = (2 * _E[_qp] + RankTwoTensor::Identity()).inverse();\n  _S[_qp] = (_lambda[_qp] * log(_F[_qp].det()) - _mu[_qp]) * Cinv +\n            _mu[_qp] * RankTwoTensor::Identity();\n  _C[_qp] =\n      -2 * (_lambda[_qp] * log(_F[_qp].det()) - _mu[_qp]) * Cinv.times<i_, k_, l_, j_>(Cinv) +\n      _lambda[_qp] * Cinv.times<i_, j_, k_, l_>(Cinv);\n}\n\n\nIn my case, I am providing S{qp} using a material model that computes S{qp} directly, but I did not provide any means to calculate C{qp}.\nFor example, I am doing it like this:\n// Large deformation = nonlinear strain\nif (_large_kinematics)\n{\n  RankTwoTensor Cinv = (2 * _E[_qp] + RankTwoTensor::Identity()).inverse();\n  _S[_qp] = function(_F[_qp]);\n}\n\nThe model is running, but I want to understand how C{qp} is being calculated in this case. Are they using some method, such as taking the derivative of S{qp} with respect to strain?\nIn other words, is C{qp} being calculated automatically by MOOSE as a function of S{qp}?",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11338902",
                          "updatedAt": "2024-11-22T04:09:14Z",
                          "publishedAt": "2024-11-21T16:30:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "maxnezdyur"
                          },
                          "bodyText": "No I don't believe so. I would look at AnalyzeJacobian, which is give you a way to check if the Jacobian is still accurate.",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11339920",
                          "updatedAt": "2024-11-21T18:17:52Z",
                          "publishedAt": "2024-11-21T18:17:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "manikumd22"
                          },
                          "bodyText": "Hi @maxnezdyur\nThanks for your response. I just want to clarify:  is MOOSE automatically using finite-difference approximations to compute the Jacobian (C{qp}) in this case?\nThanks in advance!\nIn the mean time, I am checking the link you shared",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11340054",
                          "updatedAt": "2024-11-21T18:32:11Z",
                          "publishedAt": "2024-11-21T18:32:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "maxnezdyur"
                          },
                          "bodyText": "I don't see any finite differencing of C in any of the code.",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11340800",
                          "updatedAt": "2024-11-21T19:59:49Z",
                          "publishedAt": "2024-11-21T19:59:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "manikumd22"
                          },
                          "bodyText": "Hi @maxnezdyur\nI am still confused then which mechanism is moose using to compute the pk2_jacobian\nAs for calculating the pk1_jacobian they have two expressions one involve S(2nd piola) and other involve C that is called as pk2_jacobian\nThis is ComputeLagrangianStressPK1\n  if (_large_kinematics)\n  {\n    _pk1_stress[_qp] = _F[_qp] * _S[_qp];\n    usingTensorIndices(i_, j_, k_, l_);\n    RankFourTensor dE =\n        0.5 * (RankTwoTensor::Identity().times<i_, l_, j_, k_>(_F[_qp].transpose()) +\n               _F[_qp].transpose().times<i_, k_, j_, l_>(RankTwoTensor::Identity()));\n\n    _pk1_jacobian[_qp] = RankTwoTensor::Identity().times<i_, k_, j_, l_>(_S[_qp].transpose()) +\n                         (_C[_qp] * dE).singleProductI(_F[_qp]);\n  }\n\nAs I\u2019m just inputting the  _S[_qp] using my material model and the model is running (converging) that means it must be calculating _C[_qp] somehow\nAs you mentioned moose is not using AD, finite difference\nSo, which technique is using to compute _C[_qp]",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11340982",
                          "updatedAt": "2024-11-22T04:07:56Z",
                          "publishedAt": "2024-11-21T20:24:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You are talking about the LagrangianStress materials and UOs right?\nThese have coded the analytical expressions for the Jacobians. No AD or finite diffewrence.",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11353477",
                          "updatedAt": "2024-11-22T21:27:36Z",
                          "publishedAt": "2024-11-22T21:27:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "manikumd22"
                          },
                          "bodyText": "Hi @GiudGiud\nI am talking about LagrangianStress\nI looked for the expression where they are calculating the pk2_jacobian but was unable to find it, although i found for pk1_jacobian which is using _C\nComputeLagrangianStressPK1.C\nComputeLagrangianStressPK2.C\nCan you please let me know the file name of the expression where moose is explicitly calculating the pk2_jacobian",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11354250",
                          "updatedAt": "2024-11-23T00:06:01Z",
                          "publishedAt": "2024-11-23T00:06:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "It should be this one\nmaterials/lagrangian/ComputeLagrangianStressPK2.C\nas the property is declared there\n _C(declareProperty<RankFourTensor>(_base_name + \"pk2_jacobian\"))\n\nthen computed",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11354479",
                          "updatedAt": "2024-11-23T01:20:34Z",
                          "publishedAt": "2024-11-23T01:20:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "manikumd22"
                          },
                          "bodyText": "Hi @GiudGiud\nIf you see this expression\nif (large_kinematics)\n{\npk1_stress[qp] = F[qp] * S[qp];\nusingTensorIndices(i, j, k, l);\nRankFourTensor dE =\n0.5 * (RankTwoTensor::Identity().times<i, l, j, k_>(F[qp].transpose()) +\nF[qp].transpose().times<i, k, j, l>(RankTwoTensor::Identity()));\n_pk1_jacobian[_qp] = RankTwoTensor::Identity().times<i_, k_, j_, l_>(_S[_qp].transpose()) +\n                     (_C[_qp] * dE).singleProductI(_F[_qp]);\n\n}\nI\u2019m only inputting _S[_qp]  not _C[_qp]\nAnd my model running fine\nDoes that means it is assuming it to be zero tensor?",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11354506",
                          "updatedAt": "2024-11-23T01:28:34Z",
                          "publishedAt": "2024-11-23T01:28:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I\u2019m only inputting _S[_qp] not _C[_qp]\n\n\nAnd my model running fine\n\n\nDoes that means it is assuming it to be zero tensor?\n\nno it means something is computing _C and it's somewhere in the derived class not in ComputeLagrangianStressPK2 where\ncomputeQpPK2Stress() is a pure virtual.\nFor example in ComputeNeoHookeanStress you can find this computation",
                          "url": "https://github.com/idaholab/moose/discussions/29111#discussioncomment-11354524",
                          "updatedAt": "2024-11-23T01:34:25Z",
                          "publishedAt": "2024-11-23T01:34:24Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Preconditioning Constrained Problems.",
          "author": {
            "login": "TheBEllis"
          },
          "bodyText": "Hi moose people, I was wondering if anyone had any tips for preconditioning constrained problems? I am currently trying to use LinearNodalConstraint in an RBE3 type fashion, and I have something that works when I use full LU in serial, but as soon as I try and use boomeramg or other preconditioners, I can't get the solve to converge.\nI've tried three approaches. Full LU, which works, boomeramg on the whole matrix, which doesn't converge, and a field split approach where I've preconditioned the nodes involved in the nodal constraint with LU and everything else with boomeramg. The last approach of the three, instead of just not converging, results in negative jacobians. I've attached a repo which has input files for all three approaches and my testing mesh if anyone gets time to take a look. Otherwise, any tidbits of wisdom about preconditioning constrained problems would be extremely welcome:)\nhttps://github.com/TheBEllis/ConstraintProblem",
          "url": "https://github.com/idaholab/moose/discussions/29515",
          "updatedAt": "2024-12-10T20:55:34Z",
          "publishedAt": "2024-12-10T15:12:31Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "The last approach of the three, instead of just not converging, results in negative jacobians\n\nA field split approach is essentially an iteration scheme, which can diverge.\nHow many equations do you have? Which variables? And which variables do the constraints affect?",
                  "url": "https://github.com/idaholab/moose/discussions/29515#discussioncomment-11525724",
                  "updatedAt": "2024-12-10T20:55:34Z",
                  "publishedAt": "2024-12-10T20:55:33Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Adaptive grid",
          "author": {
            "login": "HPL001"
          },
          "bodyText": "The background is that I want to simulate the sintering of two particles. I have adopted the following mesh Settings, I hope to use adaptive mesh, but I do not know how to set, hope to get your help.\n\nBy the way, how is this uniform_refine defined, I don't seem to find an explanation of it in the help document.",
          "url": "https://github.com/idaholab/moose/discussions/29518",
          "updatedAt": "2024-12-10T18:03:13Z",
          "publishedAt": "2024-12-10T17:26:51Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nUniform refinement is a step after mesh generation where each 2D element is split in 4, and each 3D element in 8.\nThere's not much to explain though you can look at the code that does it lin libmesh.\nAdaptive meshing should be considered once you have a working model to improve performance. You dont want to add this complexity too early.\nhttps://mooseframework.inl.gov/syntax/Adaptivity/index.html",
                  "url": "https://github.com/idaholab/moose/discussions/29518#discussioncomment-11524061",
                  "updatedAt": "2024-12-10T17:31:36Z",
                  "publishedAt": "2024-12-10T17:31:35Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "HPL001"
                          },
                          "bodyText": "Thank you for your help. I think I know what to do.",
                          "url": "https://github.com/idaholab/moose/discussions/29518#discussioncomment-11524351",
                          "updatedAt": "2024-12-10T18:03:14Z",
                          "publishedAt": "2024-12-10T18:03:13Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Installing MOOSE on HPC - failed make in tests",
          "author": {
            "login": "rnpratoori"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n I have consulted the Posting Guidelines.\n I have searched the Discussions Forum and MOOSE Framework Troubleshooting and have not found what I was looking for\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n\nIssue or question about MOOSE\nHello,\nI am trying to install MOOSE on HPC at Iowa State University (Nova). I was able to successfully install all the libraries. I did face an issue with libtirpc, but following this discussion, I disabled XDR requirement and everything was built successfully.\nBut, on running make -j 6 in tests, I got the following errors -\ntests_make.log\nIt does look like it has something to do with libmesh, but could it be because of XDR? How do I resolve this issue?\n(Optional) code in question / simulation log / errors\nNo response\nEncountering Errors? Please include diagnostic output\nNo response",
          "url": "https://github.com/idaholab/moose/discussions/29373",
          "updatedAt": "2024-12-12T18:26:17Z",
          "publishedAt": "2024-12-06T16:29:25Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "I think you may need to start over (rebuild both libMesh and MOOSE)? To me, this looks like an older libMesh (or perhaps a new one with an older MOOSE).\nWe had a very recent libMesh update roll through just yesterday. I feel this might be the issue.",
                  "url": "https://github.com/idaholab/moose/discussions/29373#discussioncomment-11487036",
                  "updatedAt": "2024-12-06T16:34:23Z",
                  "publishedAt": "2024-12-06T16:34:22Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "rnpratoori"
                          },
                          "bodyText": "@milljm Thank you for your reply, I tried with downloading the whole repo again today and installing. I am still getting the same error messages. Do you recommend I try with an older version? If yes, which one would you recommend?",
                          "url": "https://github.com/idaholab/moose/discussions/29373#discussioncomment-11489731",
                          "updatedAt": "2024-12-06T22:26:29Z",
                          "publishedAt": "2024-12-06T22:26:28Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "this could also be missing MPI compilers.\nCan you paste (in between triple quotes) the diagnostics output? The diagnostics script is in moose/scripts",
                          "url": "https://github.com/idaholab/moose/discussions/29373#discussioncomment-11491036",
                          "updatedAt": "2024-12-06T23:39:52Z",
                          "publishedAt": "2024-12-06T23:39:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rnpratoori"
                          },
                          "bodyText": "@GiudGiud you were right. The diagnostics log showed only gcc. I was installing it again and now, very strangely, the wasp installation is not progressing after it reaches this stage -\nCompiling C++ (in opt mode) /work/wxia/share/software/MOOSE/projects/moose/framework/build/unity_src/variables_Unity.C...\nCompiling C++ (in opt mode) /work/wxia/share/software/MOOSE/projects/moose/framework/build/unity_src/linearfvkernels_Unity.C...\nCompiling C++ (in opt mode) /work/wxia/share/software/MOOSE/projects/moose/framework/build/unity_src/restart_Unity.C...\nCompiling C++ (in opt mode) /work/wxia/share/software/MOOSE/projects/moose/framework/build/unity_src/distributions_Unity.C...\n\nI am not sure what I am missing here...",
                          "url": "https://github.com/idaholab/moose/discussions/29373#discussioncomment-11496428",
                          "updatedAt": "2024-12-07T22:36:12Z",
                          "publishedAt": "2024-12-07T22:36:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "These are moose files being compiled, not wasp. Maybe it's running out of memory and slowing down a lot.\nCan you try using less processing in make -j <number of processes>",
                          "url": "https://github.com/idaholab/moose/discussions/29373#discussioncomment-11497270",
                          "updatedAt": "2024-12-08T03:48:36Z",
                          "publishedAt": "2024-12-08T03:48:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rnpratoori"
                          },
                          "bodyText": "@GiudGiud This fixed it.\nBut I am facing the following errors during ./run_tests where it says mpiexec is not detected. There are also few failing because XDR was not detected but I guess this is expected because I removed the  option.\nrestart/restartable_types.parallel/first: Working Directory: /work/wxia/share/software/MOOSE/projects/moose/test/tests/restart/restartable_types\nrestart/restartable_types.parallel/first: Running command: mpiexec -n 2 /work/wxia/share/software/MOOSE/projects/moose/test/moose_test-opt -i restartable_types.i --error --error-override --libtorch-device cpu\nrestart/restartable_types.parallel/first:\nrestart/restartable_types.parallel/first: ################################################################################\nrestart/restartable_types.parallel/first: Begin job output\nrestart/restartable_types.parallel/first:\nrestart/restartable_types.parallel/first: ################################################################################\nrestart/restartable_types.parallel/first: Python exception encountered\nrestart/restartable_types.parallel/first: ################################################################################\nrestart/restartable_types.parallel/first: Traceback (most recent call last):\nrestart/restartable_types.parallel/first:   File \"/work/wxia/share/software/MOOSE/projects/moose/python/TestHarness/runners/SubprocessRunner.py\", line 69, in spawn\nrestart/restartable_types.parallel/first:     self.process = subprocess.Popen(*process_args, **process_kwargs)\nrestart/restartable_types.parallel/first:   File \"/opt/rit/el9/20230413/app/linux-rhel9-x86_64_v3/gcc-11.2.1/python-3.10.10-zwlkg4ljdinozolpn7os3bpbjvu7sw6m/lib/python3.10/subprocess.py\", line 971, in __init__\nrestart/restartable_types.parallel/first:     self._execute_child(args, executable, preexec_fn, close_fds,\nrestart/restartable_types.parallel/first:   File \"/opt/rit/el9/20230413/app/linux-rhel9-x86_64_v3/gcc-11.2.1/python-3.10.10-zwlkg4ljdinozolpn7os3bpbjvu7sw6m/lib/python3.10/subprocess.py\", line 1847, in _execute_child\nrestart/restartable_types.parallel/first:     raise child_exception_type(errno_num, err_msg, err_filename)\nrestart/restartable_types.parallel/first: FileNotFoundError: [Errno 2] No such file or directory: 'mpiexec'\nrestart/restartable_types.parallel/first:\nrestart/restartable_types.parallel/first: The above exception was the direct cause of the following exception:\nrestart/restartable_types.parallel/first:\nrestart/restartable_types.parallel/first: Traceback (most recent call last):\nrestart/restartable_types.parallel/first:   File \"/work/wxia/share/software/MOOSE/projects/moose/python/TestHarness/schedulers/Job.py\", line 398, in try_catch\nrestart/restartable_types.parallel/first:     do()\nrestart/restartable_types.parallel/first:   File \"/work/wxia/share/software/MOOSE/projects/moose/python/TestHarness/schedulers/Job.py\", line 439, in <lambda>\nrestart/restartable_types.parallel/first:     spawn = lambda: self._runner.spawn(self.timer)\nrestart/restartable_types.parallel/first:   File \"/work/wxia/share/software/MOOSE/projects/moose/python/TestHarness/runners/SubprocessRunner.py\", line 71, in spawn\nrestart/restartable_types.parallel/first:     raise Exception('Error in launching a new task') from e\nrestart/restartable_types.parallel/first: Exception: Error in launching a new task\nrestart/restartable_types.parallel/first:\nrestart/restartable_types.parallel/first: ################################################################################\nrestart/restartable_types.parallel/first: End job output\nrestart/restartable_types.parallel/first:\nrestart/restartable_types.parallel/first ............................................ [min_cpus=2] FAILED (RUNNER SPAWN EXCEPTION)",
                          "url": "https://github.com/idaholab/moose/discussions/29373#discussioncomment-11513014",
                          "updatedAt": "2024-12-09T20:53:04Z",
                          "publishedAt": "2024-12-09T20:53:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "where do you see \"mpiexec\" not detected?\nare you using the HPC test scehduler or just running tests on a single node?",
                          "url": "https://github.com/idaholab/moose/discussions/29373#discussioncomment-11513676",
                          "updatedAt": "2024-12-09T22:03:43Z",
                          "publishedAt": "2024-12-09T22:03:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rnpratoori"
                          },
                          "bodyText": "Actually, I noticed that there is no mpiexec in the mpich module I loaded, which is very weird. So, I reinstalled everything with openmpi. Now the make in tests gives the following error:\nLinking Executable /work/wxia/share/software/MOOSE/projects/moose/test/moose_test-opt...\n/usr/bin/ld: warning: libmpi.so.40, needed by /work/wxia/share/software/MOOSE/projects/moose/test/lib/libmoose_test-opt.so, may conflict with libmpi.so.12\n/usr/bin/ld: warning: libmpi.so.40, needed by /work/wxia/share/software/MOOSE/projects/moose/test/lib/libmoose_test-opt.so, may conflict with libmpi.so.12\n/usr/bin/ld: /work/wxia/share/software/MOOSE/projects/moose/test/src/.libs/main.x86_64-pc-linux-gnu.opt.o: undefined reference to symbol 'ompi_mpi_comm_world'\n/usr/bin/ld: /opt/rit/el9/20230413/app/linux-rhel9-x86_64_v3/gcc-11.2.1/openmpi-4.1.5-mgignetyjqjz2etjbwh43qucpjmovesj/lib/libmpi.so.40: error adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status\nmake: *** [/work/wxia/share/software/MOOSE/projects/moose/framework/app.mk:466: /work/wxia/share/software/MOOSE/projects/moose/test/moose_test-opt] Error 1",
                          "url": "https://github.com/idaholab/moose/discussions/29373#discussioncomment-11522949",
                          "updatedAt": "2024-12-10T15:52:51Z",
                          "publishedAt": "2024-12-10T15:52:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "try mpirun then. mpiexec isnt provided by all distributionsmaybe\nThese errors means you are not using the same MPI distribution / set of compilers as the last time you compiled, or as when you compiled libmesh",
                          "url": "https://github.com/idaholab/moose/discussions/29373#discussioncomment-11523327",
                          "updatedAt": "2024-12-10T16:21:15Z",
                          "publishedAt": "2024-12-10T16:21:14Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "peacock does not support hit file brace expression",
          "author": {
            "login": "dzheng26"
          },
          "bodyText": "I just found out that peacock does not support hit file brace expression. You can try any file with brace expression to show the error. For example test/tests/coord_type/coord_type_rz_general.i\nIn the generated tmp files peacock_run_mesh_tmp.i and peacock_run_exe_tmp_coord_type_rz_general.i, the brace expression variable definitions are removed. However all the comment lines are kept. Are the brace expression variable definitions are removed intentionally or this is a bug? If we can keep all the comment lines, I guess it should be easy also to keep the variable definitions.\nOriginal file\n# Tests using different coordinate systems in different blocks:\n#   block1: XYZ translated by (0,-1,0)\n#   block2: RZ with origin=(0,0,0) and direction=(0,1,0)\n#   block3: RZ with origin=(0,0,1) and direction=(1,0,0)\n#   block4: RZ with origin=(-1,-2,-3) and direction=(1,1,0)\n#\n# A transient heat conduction equation is solved with uniform properties.\n# The same power is applied to each block via a uniform heat flux boundary\n# condition on the outer cylindrical surface (top surface for block1).\n# Conservation is checked for each via post-processors.\n# Blocks block2, block3, and block4 should have identical solutions.\n\nrho = 1000.0\ncp = 500.0\nk = 15.0\n\nlength = 1.5\nradius = 0.5\n\nperimeter = ${fparse 2 * pi * radius}\n\nnz = 10\nnr = 5\n\npower = 1e3\nheat_flux = ${fparse power / (perimeter * length)}\n\n[Mesh]\n  # block1\n  [genmesh1]\n......\n\nThe tmp file\n# Tests using different coordinate systems in different blocks:\n# block1: XYZ translated by (0,-1,0)\n# block2: RZ with origin=(0,0,0) and direction=(0,1,0)\n# block3: RZ with origin=(0,0,1) and direction=(1,0,0)\n# block4: RZ with origin=(-1,-2,-3) and direction=(1,1,0)\n#\n# A transient heat conduction equation is solved with uniform properties.\n# The same power is applied to each block via a uniform heat flux boundary\n# condition on the outer cylindrical surface (top surface for block1).\n# Conservation is checked for each via post-processors.\n# Blocks block2, block3, and block4 should have identical solutions.\n[Mesh]\n  # block1\n  # block2\n  # block3\n  # block4\n  coord_block = 'block1 block2 block3 block4'\n  coord_type = 'XYZ RZ RZ RZ'\n  rz_coord_blocks = 'block2 block3 block4'\n  rz_coord_origins = '0 0 0\n                      0 0 1\n                      -1 -2 -3'\n  rz_coord_directions = '0 1 0\n                         1 0 0\n                         1 1 0'\n  [genmesh1]\n......",
          "url": "https://github.com/idaholab/moose/discussions/29375",
          "updatedAt": "2024-12-10T11:10:25Z",
          "publishedAt": "2024-12-06T17:28:58Z",
          "category": {
            "name": "Q&A Tools"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nAre you sure the expressions set by ${} have not been automatically replaced with their values?\nthose tmp files are likely generated after processing the input\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/29375#discussioncomment-11491287",
                  "updatedAt": "2024-12-06T23:52:05Z",
                  "publishedAt": "2024-12-06T23:52:04Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "dzheng26"
                          },
                          "bodyText": "I'm sure that is the case. After activate the environment and compile the test app in the moose test folder, I used ../gui/peacock -i tests/coord_type/coord_type_rz_general.i. Then I got the warning and error messages\nWARNING\n Error producing mesh: '/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/moose_test-opt -i /femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i --mesh-only /femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp_coord_type_rz_general.e --allow-test-objects' exited with non zero status 1.\n\nPlease make sure your application is built and able to execute the given arguments.\nWorking dir: /femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type\nOutput: \n\n*** ERROR ***\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:29.5: no variable 'nz' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:30.5: no variable 'nr' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:32.5: no variable 'length' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:34.5: \n    no variable 'radius' found for use in function parser expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:58.5: no variable 'nr' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:59.5: no variable 'nz' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:61.5: no variable 'radius' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:63.5: no variable 'length' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:87.5: no variable 'nz' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:88.5: no variable 'nr' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:90.5: no variable 'length' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:92.5: no variable 'radius' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:122.5: no variable 'nz' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:123.5: no variable 'nr' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:125.5: no variable 'length' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:127.5: no variable 'radius' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:180.5: no variable 'power' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:200.5: \n    no variable 'cp' found for use in function parser expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:200.5: \n    no variable 'k' found for use in function parser expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:200.5: \n    no variable 'rho' found for use in function parser expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:210.5: \n    no variable 'cp' found for use in function parser expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:210.5: \n    no variable 'heat_flux' found for use in function parser expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:210.5: \n    no variable 'rho' found for use in function parser expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:233.5: no variable 'rho' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:233.5: no variable 'cp' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:233.5: no variable 'perimeter' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:257.5: no variable 'rho' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:257.5: no variable 'cp' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:281.5: no variable 'rho' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:281.5: no variable 'cp' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:305.5: no variable 'rho' found for substitution expression\n/femshare/azure/femdeploy/Users/uf00788/fem/moose/test/tests/coord_type/peacock_run_mesh_tmp.i:305.5: no variable 'cp' found for substitution expression\n\nI cannot exam the about tmp file since it was removed. Peacock window was shown but no mesh was shown in the window.\n\nWhen I tried to run it, I get the same warning and error messages\n\nIn tmp file peacock_run_exe_tmp_coord_type_rz_general.i,  ${nc}, ${nr}, ${length} etc are still there while the definitions for them are gone.\n# Tests using different coordinate systems in different blocks:\n# block1: XYZ translated by (0,-1,0)\n# block2: RZ with origin=(0,0,0) and direction=(0,1,0)\n# block3: RZ with origin=(0,0,1) and direction=(1,0,0)\n# block4: RZ with origin=(-1,-2,-3) and direction=(1,1,0)\n#\n# A transient heat conduction equation is solved with uniform properties.\n# The same power is applied to each block via a uniform heat flux boundary\n# condition on the outer cylindrical surface (top surface for block1).\n# Conservation is checked for each via post-processors.\n# Blocks block2, block3, and block4 should have identical solutions.\n[Mesh]\n  # block1\n  # block2\n  # block3\n  # block4\n  coord_block = 'block1 block2 block3 block4'\n  coord_type = 'XYZ RZ RZ RZ'\n  rz_coord_blocks = 'block2 block3 block4'\n  rz_coord_origins = '0 0 0\n                      0 0 1\n                      -1 -2 -3'\n  rz_coord_directions = '0 1 0\n                         1 0 0\n                         1 1 0'\n  [genmesh1]\n    type = GeneratedMeshGenerator\n    dim = 2\n    nx = ${nz}\n    ny = ${nr}\n    xmin = 0.0\n    xmax = ${length}\n    ymin = -1.0\n    ymax = '${fparse -1.0 + radius}'\n    boundary_id_offset = 10\n  []\n  [renumberblock1]\n    type = RenameBlockGenerator\n    input = genmesh1\n    old_block = '0'\n    new_block = '1'\n  []\n......",
                          "url": "https://github.com/idaholab/moose/discussions/29375#discussioncomment-11506248",
                          "updatedAt": "2024-12-09T09:57:07Z",
                          "publishedAt": "2024-12-09T09:57:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@permcody @cticenhour thoughts? Is this a known issue with peacock or did it used to be supported?",
                          "url": "https://github.com/idaholab/moose/discussions/29375#discussioncomment-11508301",
                          "updatedAt": "2024-12-09T13:21:09Z",
                          "publishedAt": "2024-12-09T13:21:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cticenhour"
                          },
                          "bodyText": "I am not aware that this was an issue previously. How is HIT integrated in Peacock? It makes me think that it has something to do with the WASP transition, but I honestly have no clue.\nYou might need to workaround this by find-and-replacing these quantities yourself in the input.",
                          "url": "https://github.com/idaholab/moose/discussions/29375#discussioncomment-11510136",
                          "updatedAt": "2024-12-09T15:52:14Z",
                          "publishedAt": "2024-12-09T15:52:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "permcody"
                          },
                          "bodyText": "I don't believe that peacock has ever supported this. HIT brace expression was added long after we quit active development on Peacock. I don't know what it would take to fix it, but it's probably not the highest priority. I would suggest a work-around for now. You might also consider using \"Workbench\" from ORNL, which is the supported GUI for MOOSE.",
                          "url": "https://github.com/idaholab/moose/discussions/29375#discussioncomment-11510578",
                          "updatedAt": "2024-12-09T16:30:53Z",
                          "publishedAt": "2024-12-09T16:30:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "dzheng26"
                          },
                          "bodyText": "Thanks for your replies and the clarification. I will try Workbench to see how it works.",
                          "url": "https://github.com/idaholab/moose/discussions/29375#discussioncomment-11519408",
                          "updatedAt": "2024-12-10T11:10:26Z",
                          "publishedAt": "2024-12-10T11:10:25Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Installing MOOSE with CUDA",
          "author": {
            "login": "rnpratoori"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n I have consulted the Posting Guidelines.\n I have searched the Discussions Forum and MOOSE Framework Troubleshooting and have not found what I was looking for\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n\nIssue or question about MOOSE\nI am trying to install MOOSE with CUDA. For this, I followed the HPC installation with MPICH built from source. For the installation of PETSc, I modified the configure_petsc.sh with the following options\npython3 ./configure --with-64-bit-indices CC=$CC CXX=$CXX FC=$FC F77=$F77 F90=$F90\\\n      --with-cxx-dialect=C++17 \\\n      --with-debugging=no \\\n      --with-fortran-bindings=0 \\\n      --with-mpi=1 \\\n      --with-openmp=1 \\\n      --with-strict-petscerrorcode=1 \\\n      --with-shared-libraries=1 \\\n      --with-sowing=0 \\\n      --with-cuda=1 \\\n      --download-fblaslapack=1 \\\n      --download-hpddm=1 \\\n      --download-hypre=1 \\\n      --download-metis=1 \\\n      --download-mumps=1 \\\n      --download-ptscotch=1 \\\n      --download-parmetis=1 \\\n      --download-scalapack=1 \\\n      --download-slate=1 \\\n      --download-slepc=1 \\\n      --download-strumpack=1 \\\n      --download-superlu_dist=1 \\\n      $HDF5_STR \\\n      $MUMPS_ARM_STR \\\n      $MAKE_NP_STR \\\n      \"$@\"\n\nThis runs fine with no errors.\nBut when I verify the PETSc installation using\nmake PETSC_DIR=/home/rnp/Software/MOOSE/projects/moose/scripts/../petsc PETSC_ARCH=arch-moose check\n\nI get the following output\nCH=arch-moose check\nRunning PETSc check examples to verify correct installation\nUsing PETSC_DIR=/home/rnp/Software/MOOSE/projects/moose/scripts/../petsc and PETSC_ARCH=arch-moose\nC/C++ example src/snes/tutorials/ex19 run successfully with 1 MPI process\nC/C++ example src/snes/tutorials/ex19 run successfully with 2 MPI processes\n3,5c3\n<   1 SNES Function norm 4.12227e-06\n<   2 SNES Function norm 6.098e-11\n< Number of SNES iterations = 2\n---\n> Number of SNES iterations = 0\n/home/rnp/Software/MOOSE/projects/moose/petsc/src/snes/tutorials\nPossible problem with ex19 running with HYPRE/CUDA, diffs above\n=========================================\nC/C++ example src/snes/tutorials/ex19 run successfully with CUDA\nC/C++ example src/snes/tutorials/ex19 run successfully with MUMPS\nC/C++ example src/snes/tutorials/ex19 run successfully with SuperLU_DIST\nC/C++ example src/vec/vec/tests/ex47 run successfully with HDF5\nRunning SLEPc check examples to verify correct installation\nUsing SLEPC_DIR=/home/rnp/Software/MOOSE/projects/moose/petsc/arch-moose/externalpackages/git.slepc, PETSC_DIR=/home/rnp/Software/MOOSE/projects/moose/scripts/../petsc, and PETSC_ARCH=arch-moose\nC/C++ example src/eps/tests/test10 run successfully with 1 MPI process\nC/C++ example src/eps/tests/test10 run successfully with 2 MPI processes\nC/C++ example src/eps/tests/test10 run successfully with CUDA\nCompleted SLEPc check examples\nCompleted PETSc check examples\nError while running make check\ngmake[1]: *** [makefile:131: check] Error 1\nmake: *** [GNUmakefile:17: check] Error 2\n\nI also tried proceeding with the install with libmesh and wasp. Everything seems fine with no errors, but the make in moose/test is giving errors. Maybe, this is the cause for it?\n(Optional) code in question / simulation log / errors\nNo response\nEncountering Errors? Please include diagnostic output\nNo response",
          "url": "https://github.com/idaholab/moose/discussions/28595",
          "updatedAt": "2024-12-09T20:10:03Z",
          "publishedAt": "2024-09-10T16:30:59Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nA diff in make check is suspicious but GPU math isnt always reproducible for performance reasons, and the floating point ieee standards are not always obeyed.\nI would say the installation went fine since libmesh installed fine.\nWhat errors did you get from the make command in moose?",
                  "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10609191",
                  "updatedAt": "2024-09-11T03:34:54Z",
                  "publishedAt": "2024-09-11T03:34:53Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "rnpratoori"
                          },
                          "bodyText": "Here is the error message:\n/usr/bin/ld: /home/rnp/Software/MOOSE/projects/moose/framework/libmoose-opt.so: undefined reference to `FunctorMaterial::FunctorMaterial(InputParameters const&)'\n/usr/bin/ld: /home/rnp/Software/MOOSE/projects/moose/framework/libmoose-opt.so: undefined reference to `FunctorMaterial::validParams()'\ncollect2: error: ld returned 1 exit status\nmake: *** [/home/rnp/Software/MOOSE/projects/moose/framework/app.mk:457: /home/rnp/Software/MOOSE/projects/moose/test/moose_test-opt] Error 1\n\nBefore this error, there were also many warnings -Wmaybe-uninitialized mostly from AD* components.\nI could not figure out how to save the entire output into a file.",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10624645",
                          "updatedAt": "2024-09-12T10:28:32Z",
                          "publishedAt": "2024-09-12T10:28:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "to save the output, you can do this.  make &> log_make.txt\ncan you print the output of the diagnostics script in moose/scripts ?",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10625378",
                          "updatedAt": "2024-09-12T11:49:01Z",
                          "publishedAt": "2024-09-12T11:49:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rnpratoori"
                          },
                          "bodyText": "Are these the files you requested?\nlibmesh_diagnostic.log\nlog_make.txt",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10627315",
                          "updatedAt": "2024-09-12T14:54:56Z",
                          "publishedAt": "2024-09-12T14:54:55Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "these help but the diagnostics script is in mosoe\ncd moose/scripts\n./diagnostics.sh",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10627402",
                          "updatedAt": "2024-09-12T15:09:30Z",
                          "publishedAt": "2024-09-12T15:00:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rnpratoori"
                          },
                          "bodyText": "I think you meant cd moose/scripts\nlog_diagnostics.txt",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10627468",
                          "updatedAt": "2024-09-12T15:05:48Z",
                          "publishedAt": "2024-09-12T15:05:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I feel your MOOSE repo is a bit dated. The diagnostic log is incomplete. There are items missing that I added roughly a month ago. While not the reason you have issue, I wanted to make this known to @GiudGiud.",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10627843",
                          "updatedAt": "2024-09-12T15:34:02Z",
                          "publishedAt": "2024-09-12T15:34:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "is this on WSL?",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10628062",
                          "updatedAt": "2024-09-12T15:51:46Z",
                          "publishedAt": "2024-09-12T15:51:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rnpratoori"
                          },
                          "bodyText": "Yes. With Ubuntu 24.04",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10628080",
                          "updatedAt": "2024-09-12T15:53:16Z",
                          "publishedAt": "2024-09-12T15:53:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "your compiler really does not like our ADRealVectorValue declaration + initialization. Bunch of warnings we dont expect.\nWe might want to look into that @lindsayad\nBut otherwise, there error is here\n/usr/bin/ld: /home/rnp/Software/MOOSE/projects/moose/framework/libmoose-opt.so: undefined reference to `FunctorMaterial::FunctorMaterial(InputParameters const&)'\n/usr/bin/ld: /home/rnp/Software/MOOSE/projects/moose/framework/libmoose-opt.so: undefined reference to `FunctorMaterial::validParams()'\n\nthis should not be, we definitely declare both of these in framework/src/materials/FunctorMaterial.C\ncan you check that you have that file on your system?",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10629441",
                          "updatedAt": "2024-09-12T18:17:50Z",
                          "publishedAt": "2024-09-12T18:17:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rnpratoori"
                          },
                          "bodyText": "Interesting... I do not have those files. I also do not have them in 2 other machines (one WSL and one M2 Mac) but those work fine.\nUpdate: I found them in framework/src/functormaterials/",
                          "url": "https://github.com/idaholab/moose/discussions/28595#discussioncomment-10629728",
                          "updatedAt": "2024-09-12T18:58:12Z",
                          "publishedAt": "2024-09-12T18:47:36Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Image Function Capabilities",
          "author": {
            "login": "agorgogi"
          },
          "bodyText": "Hello,\nI would like to use Moose for simulating heterogeneous materials. I have input images of microstructures, an example is attached, which I want to mesh with Moose so as to accurately capture the geometry of the phases, and create different block IDs for the finite elements belonging to a different phase ( each phase is shown with different color in the image). I could then refer to finite elements based on their block ID, and assign the corresponding phase material properties to them.\n\nMy first approach was the following:\nCreate a uniform mesh with finite element size matching the pixel/voxel size of the image, and then passing this mesh as the input to ImageSubdomain Generator, as follows\n[Mesh]\n    [mesh_define]\n        type = GeneratedMeshGenerator\n        dim = 2\n        nx = 320 # = number of image pixels in x\n        ny = 320 # = number of image pixels in y\n    []\n    [image]\n        input = mesh_define\n        type = ImageSubdomainGenerator\n        file_base = microstructure396_3D_png/0  # all images filenames start with 0\n        file_suffix = png\n        file_range = '0000' # read only one image from the stack for now\n        threshold = 255 # everything above 255 will be assigned to block 1, everything below to block 0\n        upper_value = 1\n        lower_value = 0\n    []  \n[]\n\nThis results in accurate geometry representation and assignment of block IDs to the different phases, as shown below.\n\nThe problem with this approach is that it is very computationally expensive, because of the uniform mesh.\nSo my second approach was to use adaptive mesh refinement with Moose ImageFunction. Moose image function will sample the values of the image (the values of the different pixel colors), and will adaptively refine the mesh until it adequetely captures the geometrical features in the image. In the Moose documentation, it is mentioned that I can then use the result of the Image Function to set the values of a variable, e.g. displacements. However, I do not want that. Instead, what I want is to use the result of the ImageFunction to set the block IDs of the corresponding finite elements. Is there any possible way I could do that? Or is there any other possible way I could create a non-uniform (adaptive) mesh that accurately captures the image geometry, and correctly assigns different block IDs to finite elements belonging to different phases?\n[Mesh]\n    type = GeneratedMesh\n    dim = 2\n    nx = 10\n    ny = 10\n[]\n\n[Functions]\n    [image_func]\n      type = ImageFunction\n      file_base = microstructure396_3D_png/0\n      file_suffix = png\n      file_range = '0000'\n      threshold = 255\n      upper_value = 1\n      lower_value = 0\n    []\n[]\n  \n[Variables]\n    [u]\n    []\n[]\n\n[ICs]\n    [u_ic]\n      type = FunctionIC\n      function = image_func\n      variable = u\n    []\n[]\n  \n[Problem]\n    type = FEProblem\n    solve = false  # that was the other way no to solve the problem, but only generate the mesh\n[]\n  \n[Executioner]\n    type = Transient\n    num_steps = 1\n    dt = 0.1\n[]\n  \n[Adaptivity]\n    max_h_level = 5\n    initial_steps = 5\n    initial_marker = marker\n    [Indicators]\n      [indicator]\n        type = GradientJumpIndicator\n        variable = u\n      []\n    []\n    [Markers]\n      [marker]\n        type = ErrorFractionMarker\n        indicator = indicator\n        refine = 0.9\n      []\n    []\n[]\n  \n[Outputs]\n    exodus = true\n[]\n\n\nLooking forward to any suggestions, thank you!",
          "url": "https://github.com/idaholab/moose/discussions/26733",
          "updatedAt": "2024-12-09T15:14:46Z",
          "publishedAt": "2024-02-04T18:55:58Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThis might be a little convoluted but you could :\n\n\nuse a FunctionAux to set an auxiliary variable to the local value of the function (executed on INITIAL)\nhttps://mooseframework.inl.gov/source/auxkernels/FunctionAux.html\n\n\nuse this user object on INITIAL to change the subdomain\nhttps://mooseframework.inl.gov/source/userobjects/CoupledVarThresholdElementSubdomainModifier.html",
                  "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-8362602",
                  "updatedAt": "2024-02-04T19:21:24Z",
                  "publishedAt": "2024-02-04T19:21:23Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "agorgogi"
                          },
                          "bodyText": "Many thanks! Will look into these options!",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-8362814",
                          "updatedAt": "2024-02-04T20:02:38Z",
                          "publishedAt": "2024-02-04T20:02:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Max raised a good question. This won't work if we can't have child elements of a same parent element have different subdomains from that parent element.\nI don't know if we can't have that.",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-8370723",
                          "updatedAt": "2024-02-05T14:13:20Z",
                          "publishedAt": "2024-02-05T14:13:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "maxnezdyur"
                          },
                          "bodyText": "@GiudGiud I should have checked before I sent my first comment, which is why I tried to delete it. Relatively new, but it seems like that we actually can have different subdomains. I didn't look too much in the results to see what happens during the run but one of the input file below may do what we want. Not sure how best to link input files.\ntest/tests/userobjects/element_subdomain_modifier/adaptivity_moving_boundary.i",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-8370785",
                          "updatedAt": "2024-02-05T14:17:33Z",
                          "publishedAt": "2024-02-05T14:17:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Awesome. This should work then.",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-8370938",
                          "updatedAt": "2024-02-05T14:27:58Z",
                          "publishedAt": "2024-02-05T14:27:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "agorgogi"
                          },
                          "bodyText": "@GiudGiud , @maxnezdyur\nThank you both for the help. Yes, it worked now. All I would have to do is to improve the adaptivity part to better capture the geometrical features of the image, but the block IDs did change as I wanted them to.\n\n[Mesh]\n  [gen]\n    type = GeneratedMeshGenerator\n    dim = 2\n    nx = 10\n    ny = 10\n  []\n  [block0]\n    type = SubdomainBoundingBoxGenerator\n    input = 'gen'\n    block_id = 0\n    bottom_left = '0 0 0'\n    top_right = '1 0.5 0'\n  []\n  [block1]\n    type = SubdomainBoundingBoxGenerator\n    input = 'block0'\n    block_id = 1\n    bottom_left = '0 0.5 0'\n    top_right = '1 1 0'\n  []\n[]\n\n[Functions]\n    [image_func]\n      type = ImageFunction\n      file_base = microstructure396_3D_png/0\n      file_suffix = png\n      file_range = '0000'\n      threshold = 255\n      upper_value = 1\n      lower_value = 0\n    []\n[]\n  \n[AuxVariables]\n  [auxBlockID]\n  []\n[]\n\n[AuxKernels]\n  [aux_kern]\n    type = FunctionAux\n    variable = auxBlockID\n    function = image_func\n    execute_on = 'INITIAL'\n  []\n[]\n\n[UserObjects]\n  [change_blockID]\n    type = CoupledVarThresholdElementSubdomainModifier\n    coupled_var = auxBlockID\n    criterion_type = ABOVE\n    threshold = 0\n    subdomain_id = 1\n    complement_subdomain_id = 0\n    execute_on = 'INITIAL'\n  []\n[]\n\n\n[Variables]\n    [u]\n    []\n[]\n\n#Try use the auxillary variable in the adaptivity criterion instead of assigning it to the displacement variable\n[ICs]\n    [u_ic]\n      type = FunctionIC\n      function = image_func\n      variable = u\n    []\n[]\n  \n[Problem]\n    type = FEProblem\n    solve = false  # that was the other way no to solve the problem, but only generate the mesh\n[]\n  \n[Executioner]\n    type = Transient\n    num_steps = 1\n    dt = 0.1\n[]\n  \n[Adaptivity]\n    max_h_level = 10\n    initial_steps = 5\n    initial_marker = marker\n    [Indicators]\n      [indicator]\n        type = GradientJumpIndicator\n        variable = u\n      []\n    []\n    [Markers]\n      [marker]\n        type = ErrorFractionMarker\n        indicator = indicator\n        refine = 0.9\n      []\n    []\n[]\n  \n[Outputs]\n    exodus = true\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-8372222",
                          "updatedAt": "2024-02-06T05:20:38Z",
                          "publishedAt": "2024-02-05T15:57:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Awesome",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-8378156",
                          "updatedAt": "2024-02-06T05:20:50Z",
                          "publishedAt": "2024-02-06T05:20:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Rahim-Habibi"
                          },
                          "bodyText": "Hi @agorgogi and @GiudGiud ,\nI would like to simulate heterogeneous materials in MOOSE, so after reading the documents \"ImageFunction\" i have endded up with your issue because i wanted to have several blocks as well.\nThus, i tried your input file with my own imahe but i did not get the two block, i only have one block see the figure below\n\nand this the figure i tried to mesh\n\nhere is the input file :\n[Mesh]\n  [gen]\n    type = GeneratedMeshGenerator\n    dim = 2\n    nx = 10\n    ny = 10\n  []\n  [block0]\n    type = SubdomainBoundingBoxGenerator\n    input = 'gen'\n    block_id = 0\n    bottom_left = '0 0 0'\n    top_right = '1 0.5 0'\n  []\n  [block1]\n    type = SubdomainBoundingBoxGenerator\n    input = 'block0'\n    block_id = 1\n    bottom_left = '0 0.5 0'\n    top_right = '1 1 0'\n  []\n[]\n\n[Functions]\n    [image_func]\n      type = ImageFunction\n      file = OIP.png\n      threshold = 255\n      upper_value = 1\n      lower_value = 0\n    []\n[]\n\n[AuxVariables]\n  [auxBlockID]\n  []\n[]\n\n[AuxKernels]\n  [aux_kern]\n    type = FunctionAux\n    variable = auxBlockID\n    function = image_func\n    execute_on = 'INITIAL'\n  []\n[]\n\n[UserObjects]\n  [change_blockID]\n    type = CoupledVarThresholdElementSubdomainModifier\n    coupled_var = auxBlockID\n    criterion_type = ABOVE\n    threshold = 0\n    subdomain_id = 1\n    complement_subdomain_id = 0\n    execute_on = 'INITIAL'\n  []\n[]\n\n\n[Variables]\n    [u]\n    []\n[]\n\n#Try use the auxillary variable in the adaptivity criterion instead of assigning it to the displacement variable\n[ICs]\n    [u_ic]\n      type = FunctionIC\n      function = image_func\n      variable = u\n    []\n[]\n\n[Problem]\n    type = FEProblem\n    solve = false  # that was the other way no to solve the problem, but only generate the mesh\n[]\n\n[Executioner]\n    type = Transient\n    num_steps = 1\n    dt = 0.1\n[]\n\n[Adaptivity]\n    max_h_level = 10\n    initial_steps = 5\n    initial_marker = marker\n    [Indicators]\n      [indicator]\n        type = GradientJumpIndicator\n        variable = auxBlockID\n      []\n    []\n    [Markers]\n      [marker]\n        type = ErrorFractionMarker\n        indicator = indicator\n        refine = 0.9\n      []\n    []\n[]\n\n[Outputs]\n    exodus = true\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-11486587",
                          "updatedAt": "2024-12-06T23:55:32Z",
                          "publishedAt": "2024-12-06T15:54:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "hello\nfirst, I dont think the ImageFunction worked as ewxpected. You should show auxBlockID instead of object_ID in the paraview output to check\nthe adaptivity will have to be figured out next",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-11491295",
                          "updatedAt": "2024-12-06T23:56:51Z",
                          "publishedAt": "2024-12-06T23:56:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Rahim-Habibi"
                          },
                          "bodyText": "Thnaks @GiudGiud\nhere is auxBlockID in paraview",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-11505171",
                          "updatedAt": "2024-12-09T08:18:22Z",
                          "publishedAt": "2024-12-09T08:18:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Are you plotting those at the end of the simulation or after a time step? Parlaview will plot the initial state by default",
                          "url": "https://github.com/idaholab/moose/discussions/26733#discussioncomment-11507953",
                          "updatedAt": "2024-12-09T12:52:19Z",
                          "publishedAt": "2024-12-09T12:52:19Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Linear elastic problem runs too slow",
          "author": {
            "login": "Juns-Cheng"
          },
          "bodyText": "Hello, everyone. I am new to moose. I am testing the program with a very simple linear elastic problem: a spring with one end fixed and the other subjected to pressure (see attachment). There are 50k nodes in total. CALCULIX and ANSYS can solve the problem in seconds. But MOOSE converges very slow.\nI don't quite understand, because the problem is linear and needs no iteration at all. Any suggestions?\nspring.zip",
          "url": "https://github.com/idaholab/moose/discussions/29377",
          "updatedAt": "2024-12-09T11:38:35Z",
          "publishedAt": "2024-12-08T09:05:37Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nIf you are solving a linear problem, you can use a linear solver (set the solve_type) to shave an extra nonlinear iteration.\nIf you are looking for performance, you will need to set the preconditioner. A common choice in solid mechanics is hypre boomeramg. you set it like this:\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = 'hypre boomeramg'",
                  "url": "https://github.com/idaholab/moose/discussions/29377#discussioncomment-11499705",
                  "updatedAt": "2024-12-08T14:32:45Z",
                  "publishedAt": "2024-12-08T14:32:44Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I can't blindly download a zip on a work computer so if you need to share inputs please use a github repo",
                          "url": "https://github.com/idaholab/moose/discussions/29377#discussioncomment-11499707",
                          "updatedAt": "2024-12-08T14:33:14Z",
                          "publishedAt": "2024-12-08T14:33:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Juns-Cheng"
                          },
                          "bodyText": "Thanks for the suggestion. Now I use LINEAR solve type. The LU method works fine, but HYPRE does not converge. I will try tuning the solver parameters.",
                          "url": "https://github.com/idaholab/moose/discussions/29377#discussioncomment-11507302",
                          "updatedAt": "2024-12-09T11:38:35Z",
                          "publishedAt": "2024-12-09T11:38:35Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}