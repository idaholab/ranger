{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0wNS0wOFQwNjoxNDoyNC0wNjowMM4AZRym"
    },
    "edges": [
      {
        "node": {
          "title": "Moose will not install on HPC, cannot connect to github",
          "author": {
            "login": "jackeggemeyer"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nI am new to this HPC/Sawtooth  and I am currenlty following this tutorial on installing moose on sawtooth:\nhttps://mooseframework.inl.gov/getting_started/installation/inl_hpc_install_moose.html\nHowever; it seems like my terminal cannot access github to download moose. I have followed the instructions but cannot get past cloning moose. Here is what my terminal shows:\n[eggejohn@sawtooth4 ~]$ qsub -I -P edu_res -l select=1:ncpus=20:mem=16gb -l walltime=1:00:00\nqsub: waiting for job 1117673.sawtoothpbs to start\nqsub: job 1117673.sawtoothpbs ready\n\n(base) [eggejohn@r3i1n14 ~]$ module load use.moose moose-dev\n(base) [eggejohn@r3i1n14 ~]$ mkdir -p ~/Sawtooth/projects\n(base) [eggejohn@r3i1n14 ~]$ cd ~/Sawtooth/projects\n(base) [eggejohn@r3i1n14 projects]$ clone https://github.com/idaholab/moose.git\n-bash: clone: command not found\n(base) [eggejohn@r3i1n14 projects]$ git clone https://github.com/idaholab/moose.git\nCloning into 'moose'...\nfatal: unable to access 'https://github.com/idaholab/moose.git/': Failed to connect to github.com port 443: Connection timed out\n(base) [eggejohn@r3i1n14 projects]$ \n\nWhat are my next steps? I assume im doing something small worng with internet connection or something but my browser in the same interactive section can access the web. Should I do this in a login node or something?",
          "url": "https://github.com/idaholab/moose/discussions/27587",
          "updatedAt": "2024-05-09T17:54:12Z",
          "publishedAt": "2024-05-09T17:34:43Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\ncompute nodes on sawtooth do not have access to the internet\nYou ll need to install on the head node\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27587#discussioncomment-9373028",
                  "updatedAt": "2024-05-09T17:45:30Z",
                  "publishedAt": "2024-05-09T17:45:29Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "jackeggemeyer"
                          },
                          "bodyText": "Ah thank you that fixed it. That's the opposite to what I am used too",
                          "url": "https://github.com/idaholab/moose/discussions/27587#discussioncomment-9373115",
                          "updatedAt": "2024-05-09T17:54:12Z",
                          "publishedAt": "2024-05-09T17:54:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Exporting element values into csv files",
          "author": {
            "login": "sinaomrani96"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nDear all,\nI was wondering if there is any postprocessors or vector postprocessors that can exports element values for all the elements. Now I am doing it by Paraview, which it seems not to be the best way to do it specially for big meshes. Maybe something similar to LineValueSampler which reads a csv file of lines coordinates or ElementalVariableValue if it can be extended for the entire elements. I would appreciate it if you could help me. Thanks.",
          "url": "https://github.com/idaholab/moose/discussions/27584",
          "updatedAt": "2024-05-09T14:56:37Z",
          "publishedAt": "2024-05-09T14:28:33Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou mean this?\nhttps://mooseframework.inl.gov/source/vectorpostprocessors/ElementValueSampler.html\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27584#discussioncomment-9370100",
                  "updatedAt": "2024-05-09T14:40:05Z",
                  "publishedAt": "2024-05-09T14:40:04Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "sinaomrani96"
                          },
                          "bodyText": "Hi,\nThank you for the prompt response. Yes, that's exactly what I need. Thank you.",
                          "url": "https://github.com/idaholab/moose/discussions/27584#discussioncomment-9370426",
                          "updatedAt": "2024-05-09T14:56:35Z",
                          "publishedAt": "2024-05-09T14:56:35Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Peridynamic Heat Conduction Models",
          "author": {
            "login": "rbh007720"
          },
          "bodyText": "Is the Bond-based model able to solve the transient heat transfer problem? In \"Thermomechanical peridynamic analysis with irregular non-uniform domain discretization\", the implementation is based on an implicit solver for the steady-state problem. Is it possible to treat unsteady-state heat conduction?\nThanks!",
          "url": "https://github.com/idaholab/moose/discussions/20981",
          "updatedAt": "2024-05-09T10:59:38Z",
          "publishedAt": "2022-05-08T16:01:55Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@laagesen @bwspenc any ideas on this ?",
                  "url": "https://github.com/idaholab/moose/discussions/20981#discussioncomment-2755425",
                  "updatedAt": "2022-06-10T07:40:27Z",
                  "publishedAt": "2022-05-15T21:11:35Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "@rbh007720 have you looked at any PD time derivative kernel?\nLet me @hchen139 .",
                          "url": "https://github.com/idaholab/moose/discussions/20981#discussioncomment-2756437",
                          "updatedAt": "2022-06-10T07:40:27Z",
                          "publishedAt": "2022-05-16T03:20:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hchen139"
                          },
                          "bodyText": "@rbh007720 I don't think we have implemented any time derivative kernel for PD yet. You can look at the TimeDerivativeNodalKernel to consider the transient heat transfer process.",
                          "url": "https://github.com/idaholab/moose/discussions/20981#discussioncomment-2759614",
                          "updatedAt": "2022-06-10T07:40:27Z",
                          "publishedAt": "2022-05-16T13:14:55Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rbh007720"
                          },
                          "bodyText": "Thanks for the reply. Should I look at TimeDerivativeNodalKernel or TimeDerivative Kernel? I would like to know what is the difference between them.\nThanks!",
                          "url": "https://github.com/idaholab/moose/discussions/20981#discussioncomment-2763727",
                          "updatedAt": "2022-06-10T07:40:27Z",
                          "publishedAt": "2022-05-17T00:45:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hchen139"
                          },
                          "bodyText": "TimeDerivativeNodalKernel operates on nodes while TimeDerivative operates on elements. Since PD is a Lagrangian method and uses nodal integration, nodal kernel would make sense for the transient kernel. All the current implementations of PD kernels are based on elemental kernel to use the material classes in other MOOSE modules that are based on FEM.",
                          "url": "https://github.com/idaholab/moose/discussions/20981#discussioncomment-2763804",
                          "updatedAt": "2022-06-11T03:05:57Z",
                          "publishedAt": "2022-05-17T01:14:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Nodal kernels are made to solve ODEs that live on individual nodes. So it's quite different from FEM. If you only had nodal kernels, you would only be solving decoupled ODEs on each node. Of course they may be coupled through the values of FEM fields (that have regular kernels for example).\nSo probably TimeDerivative",
                          "url": "https://github.com/idaholab/moose/discussions/20981#discussioncomment-2768347",
                          "updatedAt": "2022-06-11T03:05:57Z",
                          "publishedAt": "2022-05-17T14:39:34Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "Narayanan1999"
                  },
                  "bodyText": "rbh007720 Sir, were you able to do transient analysis in Peridynamics using TimeDerivativeNodalKernel? If so, can you please share the input file or that transient part code?\nI tried solving a 1D bar subjected to an initial strain. The transient analysis is done using Newmark-Beta Method from Tensor Mechanics module. Though the input file runs, the values are not matching with theoretical value. The following is the result that I obtained for the displacement occurred at the midpoint of the bar during this time interval (x-time; y-displacment):",
                  "url": "https://github.com/idaholab/moose/discussions/20981#discussioncomment-9358691",
                  "updatedAt": "2024-05-08T18:18:26Z",
                  "publishedAt": "2024-05-08T18:14:48Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "hchen139"
                          },
                          "bodyText": "I am not sure whether you can directly run transient analysis based on the available developments in the peridynamics module. There might need some additional developments.",
                          "url": "https://github.com/idaholab/moose/discussions/20981#discussioncomment-9359847",
                          "updatedAt": "2024-05-08T20:17:32Z",
                          "publishedAt": "2024-05-08T20:17:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Narayanan1999"
                          },
                          "bodyText": "Ok Sir, Thank you.",
                          "url": "https://github.com/idaholab/moose/discussions/20981#discussioncomment-9367479",
                          "updatedAt": "2024-05-09T10:59:39Z",
                          "publishedAt": "2024-05-09T10:59:38Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Meshing An Exodus File Using MOOSE",
          "author": {
            "login": "TLWise"
          },
          "bodyText": "Can an unmeshed exodus file be meshed using online generation in MOOSE?",
          "url": "https://github.com/idaholab/moose/discussions/25723",
          "updatedAt": "2024-05-09T08:28:38Z",
          "publishedAt": "2023-10-11T20:42:45Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "lindsayad"
                  },
                  "bodyText": "What do you mean by unmeshed? Exodus stores data on nodes or elements so there is already mesh construct in it. You can use a FileMeshGenerator to load an exodus mesh",
                  "url": "https://github.com/idaholab/moose/discussions/25723#discussioncomment-7256889",
                  "updatedAt": "2023-10-11T20:54:27Z",
                  "publishedAt": "2023-10-11T20:54:26Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "TLWise"
                          },
                          "bodyText": "Ah, I see what your question implies. Cubit does not allow me to save the geometry without meshing it as a .e file. Can I mesh the geometry with a minimal amount of meshing in Cubit, import it into MOOSE, delete the previous mesh and then use online generation meshing in MOOSE to define a new mesh?",
                          "url": "https://github.com/idaholab/moose/discussions/25723#discussioncomment-7256937",
                          "updatedAt": "2023-10-11T21:02:12Z",
                          "publishedAt": "2023-10-11T21:02:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nwhich dimension is your geometry?\nis this a simple geometry?\nGuillaume",
                          "url": "https://github.com/idaholab/moose/discussions/25723#discussioncomment-7256945",
                          "updatedAt": "2023-10-11T21:03:54Z",
                          "publishedAt": "2023-10-11T21:03:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "TLWise"
                          },
                          "bodyText": "",
                          "url": "https://github.com/idaholab/moose/discussions/25723#discussioncomment-7256972",
                          "updatedAt": "2023-10-11T21:08:24Z",
                          "publishedAt": "2023-10-11T21:08:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I would say just create it directly from scratch in MOOSE if you are trying to use MOOSE mesh generators\nthe reactor module is meant to model these lattice systems",
                          "url": "https://github.com/idaholab/moose/discussions/25723#discussioncomment-7257001",
                          "updatedAt": "2023-10-11T21:13:55Z",
                          "publishedAt": "2023-10-11T21:13:52Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "TLWise"
                          },
                          "bodyText": "@GiudGiud , I applied the method suggested above. Thank you for your guidance. The numerical results that I am getting by using the basic method, appears to imply that the boundary condition that I am applying to the overall outer boundary is being applied equally to each individual location outer boundary. I'm applying equal power density to each circular region, this an expectation for the highest temperature at the center of the array. It appears a symmetry condition is being applied to each section equally. I have included a pic of the result. Is there a way to prevent the application of this symmetry boundary condition?",
                          "url": "https://github.com/idaholab/moose/discussions/25723#discussioncomment-7267777",
                          "updatedAt": "2023-10-12T21:17:16Z",
                          "publishedAt": "2023-10-12T21:17:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Looks like you ll need to rename the outer boundary to apply your condition only there\nYou use other mesh generators (sidesetfromnormal, sidesetaround etc) to do that\nYou can plot the sidesets in paraview to see where they are defined.",
                          "url": "https://github.com/idaholab/moose/discussions/25723#discussioncomment-7268227",
                          "updatedAt": "2023-10-12T22:55:31Z",
                          "publishedAt": "2023-10-12T22:55:30Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Temperature dependent mobility and grain growth simulation",
          "author": {
            "login": "ykvishal"
          },
          "bodyText": "Brief details:\nI am simulating the effect of temperature gradient on grain growth. I modified 3D_6000_gr.i by following temperature_gradient.i file. A typical set up is given here:\n\n2D simulation video is shown here:\nhttps://user-images.githubusercontent.com/31565781/112631151-cf2ad100-8e36-11eb-94a7-4e3c6746a1ab.mp4\nProblem:\nI need 5 nodes (X28 cores, pmem=8gb) to run 3D_6000_gr.i (ie 140 cores). But, temperature dependent mobility case needs 560 cores. Also dt is almost 1/10 th of normal grain growth case.  First I started with 40 nodes (X14 cores, pmem=17gb) then I followed memory requirement per core using VectorMemoryUsage and I could reduce number of nodes to 28 nodes (X20 cores, pmem=12gb). However, I still need 560 cores. . I tried with 280 cores - 20 nodes (X14 cores, pmem=17gb but simulation does not start. Here is the comparison of  VectorMemoryUsage\nPhysical Memory in GBs\n\nNode Utilization:\n\nHere t represents Time Step.\nI also have PerfGraphOutput data.\nFor  3D_6000_gr.i\nPerformance Graph:\n\nHeaviest Branch:\n\nHeaviest Sections:\n\n\nFor Temperature dependent mobility case:\nPerformance Graph:\n\nHeaviest Branch:\n\nHeaviest Sections:\n\nIs there a way to reduce number of cores to run a temperature dependent mobility case? Also, is there a way to increase dt?\nThank you.\nEdit: I made minor changes to the  3D_6000_gr.i file like 1) added parallel_type = distributed to the mesh block; 2) Neumann boundary condition ; and 3) changed op_num to 50 from 28 due to problem with GrainTracker. I will create a separate thread on this GrainTracker issue.",
          "url": "https://github.com/idaholab/moose/discussions/17433",
          "updatedAt": "2024-05-08T21:14:45Z",
          "publishedAt": "2021-03-26T12:55:43Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "laagesen"
                  },
                  "bodyText": "If you are changing the temperature profile, the rate of grain coarsening is going to change. If the temperature is lower and coarsening slows down, if you are using mesh adaptivity (and you should for a problem this large) you are going to have more degrees of freedom in your problem. So, it would be helpful to know how many degrees of freedom are in the problem for the two cases. Can you add a NumDOFs postprocessor to your input files and run? If there are dramatically more DOF's in the problem with the gradient there may not be much you can do other than add more cores. However just want to find out if this is the case.",
                  "url": "https://github.com/idaholab/moose/discussions/17433#discussioncomment-545390",
                  "updatedAt": "2022-06-30T14:41:18Z",
                  "publishedAt": "2021-03-29T20:08:46Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "Thank you @laagesen for your reply.\nFor 3D_6000_gr.i,  the post-processor output is as follows\n\nFor Temperature dependent mobility case:,  the post-processor output is as follows",
                          "url": "https://github.com/idaholab/moose/discussions/17433#discussioncomment-545483",
                          "updatedAt": "2022-06-30T14:41:18Z",
                          "publishedAt": "2021-03-29T20:18:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "laagesen"
                          },
                          "bodyText": "OK the number of DOF's is not changing in either case, so you are not using adaptivity. (I'm not sure why you have a smaller number of DOF's in the temperature-dependent problem- from the n_elements postprocessor it looks like the mesh size is different right? I would stick to the same mesh size if possible so you can make an apples-to-apples comparison). Anyways, I think you should use mesh adaptivity for a large problem like this. This should reduce the number of DOF's and therefore the number of cores you need. You can see a good example of how this is done in the example moose/modules/phase_field/examples/grain_growth/grain_growth_2D_voronoi_newadapt.i\nand you can find documentation on the adaptivity system here:\nhttps://mooseframework.inl.gov/syntax/Adaptivity/index.html",
                          "url": "https://github.com/idaholab/moose/discussions/17433#discussioncomment-545570",
                          "updatedAt": "2022-06-30T14:41:32Z",
                          "publishedAt": "2021-03-29T20:36:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "laagesen"
                          },
                          "bodyText": "Also, please make sure all parameters are set the same between the two input files other than the temperature gradient. I just noticed that the wGB parameter in the GBEvolution material in the two input files that you started from are very different from each other, if those are different values in your different cases, the performance will be very different. wGB controls the width of the diffuse interface that represents grain boundaries.",
                          "url": "https://github.com/idaholab/moose/discussions/17433#discussioncomment-545621",
                          "updatedAt": "2022-06-30T14:41:31Z",
                          "publishedAt": "2021-03-29T20:52:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "Yes, I kept everything else same from 3D_6000_gr.i and I only copied temperature related part from temperature_gradient.i\nMy materials block is as follows\n[Materials]\n[./Copper]\ntype = GBEvolution\nT = T #T = 500\nwGB = 3 # um\nGBmob0 = 2.5e-6 #m^4/(Js) from Schoenfelder 1997\nQ = 0.23 #Migration energy in eV\nGBenergy = 0.708 #GB energy in J/m^2\nmolar_volume = 7.11e-6 #Molar volume in m^3/mol\nlength_scale = 1.0e-6\ntime_scale = 1.0\n[../]\n[]\nI already tried adaptivity in 2D. I will try it with 3D simulations and see what happens.",
                          "url": "https://github.com/idaholab/moose/discussions/17433#discussioncomment-545663",
                          "updatedAt": "2022-07-05T08:32:26Z",
                          "publishedAt": "2021-03-29T21:01:27Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "mnabilbhuiyan"
                  },
                  "bodyText": "Hello @laagesen, in this temperature_gradient.i input file in the\n[Functions]\n[./TGradient]\ntype = ParsedFunction\nexpression = '450 + 0.1x'\n[../]\n[]\nsection instead of x, if I use t, the expression will be then  '450 + 0.1x'. In this case, will it indicate the temperature change is time-dependent and also rate of grain growth will be time dependent?_",
                  "url": "https://github.com/idaholab/moose/discussions/17433#discussioncomment-9359598",
                  "updatedAt": "2024-05-08T19:48:19Z",
                  "publishedAt": "2024-05-08T19:48:18Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "laagesen"
                          },
                          "bodyText": "yes you should be able to substitute t for x in that ParsedFunction. Just be aware grain growth could accelerate a lot at later times and convergence of the problem will get slower.",
                          "url": "https://github.com/idaholab/moose/discussions/17433#discussioncomment-9359935",
                          "updatedAt": "2024-05-08T20:29:53Z",
                          "publishedAt": "2024-05-08T20:29:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "mnabilbhuiyan"
                          },
                          "bodyText": "Thank you so much for clearing this.",
                          "url": "https://github.com/idaholab/moose/discussions/17433#discussioncomment-9360287",
                          "updatedAt": "2024-05-08T21:14:46Z",
                          "publishedAt": "2024-05-08T21:14:45Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Dry-out During CO2 Injection",
          "author": {
            "login": "denismart997"
          },
          "bodyText": "Dear, Moose community\nMy name is Denis , I was exploring different Moose applications for CO2 storage, went through couple papers, such as (https://doi.org/10.3929/ethz-b-000410774),  \"A Numerical Model for Formation Dry-out During CO2 Injection\u2026\u201d, and currently I am a little bit confused , for modelling such behaviour - geochemical system should be considered (porous flow tutorial 13) , including reactions + hard coded salt precipitation when the solubility limit is exceed. Or everything is much simpler , and it is possible to run simple CO2 injection case with nonlinear NaCl variable. However, after simulations in this case only salt transport is reflected, without dry-out and salt precipitation around injection point.  (By mentioning dry-out front I mean the continuous injection of dry scCO2 vaporizes the remaining formation brine in the swept zone, which persistently increases the concentration of dissolved salt. When the salt concentration reaches the solubility limit, it precipitates out of the brine). Thank you in advance.\nKind regards,\nDenis.",
          "url": "https://github.com/idaholab/moose/discussions/21660",
          "updatedAt": "2024-05-08T17:34:00Z",
          "publishedAt": "2022-07-21T22:33:24Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "@cpgr is the world expert in this type of problem",
                  "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-3201789",
                  "updatedAt": "2022-07-21T22:46:53Z",
                  "publishedAt": "2022-07-21T22:46:52Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "cpgr"
                          },
                          "bodyText": "@WilkAndy is overstating my expertise, but I think I can explain this paper.\nLike you say, as you inject CO2, the brine near the well gets pushed out until it is immobile (liquid saturation below its residual saturation). This immobile water continues to evaporate into the gas (or supercritical) phase, and is transported away. The NaCl in the brine will then start to precipitate once the amount of NaCl is above it's equilibrium concentration.\nIf you want to model this properly, you can do a coupled geochemistry - flow simulation like you note. In the linked study, the authors don't explicitly include a solid NaCl phase once the mass fraction of salt exceeds its equilibrium concentration due to evaporation of the water. Instead, they reduce the fracture aperture (they are modelling flow into a fracture only) using a simple model to account for the reduction due to precipitate. They then reduce the amount of NaCl in the liquid phase by resetting the mass fraction of NaCl to its equilibrium value in each cell.\nThere are more details in the corresponding journal article https://agupubs.onlinelibrary.wiley.com/doi/abs/10.1029/2020WR027213",
                          "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-3201981",
                          "updatedAt": "2022-07-21T23:48:51Z",
                          "publishedAt": "2022-07-21T23:48:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "denismart997"
                          },
                          "bodyText": "Dear, @cpgr\nThank you very much for your reply and clarification. Could you please provide one more hint , about brineco2 module in moose? Mainly , I have a question regarding a local equilibrium phase partitioning and mass fraction of water in the CO2 phase. As I understood you are applying the same approach as it is done in Tough2 simulator (ECO2N module), where local equilibrium is calculated according to its solubility limit at a certain pressure, temperature and salinity (Spycher and Pruess, 2005), and this\nimplies that phase partitioning occurs instantaneously? Am I right? If yes , from your point of you, can it be done differently, using kinetic approach? The example is this paper \"(http://dx.doi.org/10.1016/j.ijggc.2014.05.010)\".  Thank you in advance.\nKind regards,\nDenis.",
                          "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-3286274",
                          "updatedAt": "2022-07-30T10:26:08Z",
                          "publishedAt": "2022-07-30T10:26:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cpgr"
                          },
                          "bodyText": "That's correct - we use an instantaneous equilibrium assumption (same as TOUGH). We don't have the capability to compute the evaporation of water into the gas phase using a kinetic approach currently. However, I have previously hacked together something for the related problem of kinetic dissolution of the gas phase into the water phase. I can't remember the fine details off the top of my head, but an example of the difference between instantaneous dissolution of CO2 into the water and dissolution computed using a kinetic mass transfer with MOOSE is (for a 1D radial model of flow from a well)\n\nSo it is certainly possible to do what you want with a bit of coding.",
                          "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-3293135",
                          "updatedAt": "2022-07-31T23:18:56Z",
                          "publishedAt": "2022-07-31T23:18:55Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "denismart997"
                          },
                          "bodyText": "Dear, @cpgr\nThank you very much for you reply regarding last question . Sorry , for disturbing you once again, for my master thesis instantaneous equilibrium approach should be sufficient, so I want to repeat something similar to the simulation which was performed from the first (aperture) paper , but much simpler - just scCO2 core flooding experiment, slightly heterogeneous with random porosity distribution just for visualisation. However, since there is no input file available from that experiment (only output .e file), I have problems with injection boundary, I have tried simple PorousFlowSink , but it requires significant injection rates (1000 more than it should be) just to let fluid enter the core(even if Pc=0), and after 3 sec. of simulation there are some convergence issues. I have tried DircacKernel point injection, and it works much better , but I need injection to be performed from the whole inflow boundary. If you have couple min, could you please have a look into input file , might something catch you attention . Thank you very much!\nhttps://github.com/denismart997/MooseCO2/blob/b0ed0e37073de5e6058c6ad352d721dcdeb903cf/CO2_StartS2.i",
                          "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-3379504",
                          "updatedAt": "2022-08-11T21:51:46Z",
                          "publishedAt": "2022-08-11T21:49:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "cpgr"
                          },
                          "bodyText": "The input file you linked didn't really work as the initial residual was lower than your nl_abs_tol, so nothing happens.\nAfter some minor tweaks I could get it to run and it seems to do something sensible (but I don't know if the injection rate is what you want)\n\nWhat I did was:\n\nremove the scaling of the pressure variable\nset nl_abs_tol = 1e-11\n\nand I could get the above.\nIf you add the following to your input file\n[Debug]\n  show_var_residual_norms = true\n[]\n\nyou can see that the residuals of the unscaled nonlinear variables are all around the same magnitude.\nYou might also want to add a post processor to check that you are injecting the exact amount of CO2 that you expect\n[Postprocessors]\n  [co2mass]\n    type = PorousFlowFluidMass\n    phase = '0 1'\n    fluid_component = 1\n    execute_on = 'initial timestep_end'\n  []\n[]\n\nwill compute the CO2 mass (in kg) in all phases.\nFinally, you could remove the bottomnaclg BC as there is no NaCl in the gas phase, so this is always 0.\nLet me know how it goes,\nChris",
                          "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-3380004",
                          "updatedAt": "2022-08-12T00:03:09Z",
                          "publishedAt": "2022-08-12T00:00:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "denismart997"
                          },
                          "bodyText": "Dear , @cpgr\nThank you very much, Chris, for you help , it look much better know . This is what I ve got after 3000 sec , I thought that salt concentration would be more prominent by this stage, as it was at single point injection. But anyway looks much better. Thanks a lot!",
                          "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-3387713",
                          "updatedAt": "2022-08-12T23:15:47Z",
                          "publishedAt": "2022-08-12T23:15:47Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "robo-boluo"
                  },
                  "bodyText": "Dear Chris Green and and guillaumeGiudicelli  @cpgr @GiudGiud ,\nMay I ask if there are examples of CO2 injection into brine containing multiple salts, such as NaCl and CaCl2, MgCl2...? Additionally, if the kernels (PorousFlowMassTimeDerivative, PorousFlowAdvectiveFlux) are utilized to simulate CO2, water, and brine flow, how can the mass fractions of ions (f_H, f_Na, f_Ca, f_HCO3....) be saved? These saved fraction variables are necessary for coupling into the geochemistry model.\nAlternatively, can the [PorousFlowFullySaturated] action be employed to address CO2 injection into brine, facilitating the direct preservation of mass fractions using save_component_rate_in? I gleaned information on the usage of PorousFlowFullySaturated from the reactive transport example located in ['moose/modules/combined/examples/geochem-porous_flow/forge/porous_flow.i'].\"\nAppreciate your time and guidance on this matter.\nRegards,\nRobo",
                  "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-9311197",
                  "updatedAt": "2024-05-04T04:14:29Z",
                  "publishedAt": "2024-05-04T04:12:08Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "cpgr"
                          },
                          "bodyText": "I don't believe there are any examples of this. The kernels etc can handle multiple fluid components. How difficult this is to do depends on whether you want the CO2 in a gas phase to be able to dissolve into the fluid.",
                          "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-9347902",
                          "updatedAt": "2024-05-07T23:24:40Z",
                          "publishedAt": "2024-05-07T23:24:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "robo-boluo"
                          },
                          "bodyText": "Hi Chris Green @cpgr\nThank you for your kind reply. For practical application, the injected CO2 is anticipated to exist in both gas and liquid phases. The dissolved CO2 will undergo a reaction with H2O, yielding HCO3- and H+ ions. Subsequently, the H+ ions will be utilized for reactive transport modeling, including mineral dissolution and precipitation. I'm not certain about the feasibility of employing MOOSE to model this scenario",
                          "url": "https://github.com/idaholab/moose/discussions/21660#discussioncomment-9358152",
                          "updatedAt": "2024-05-08T17:34:01Z",
                          "publishedAt": "2024-05-08T17:34:00Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Multicomponent Spinodal decomposition",
          "author": {
            "login": "KamalnathOSU"
          },
          "bodyText": "Hi !\nI am trying to simulate spinodal decomposition in a multicomponent (N>=3) alloy with all cross-diffusion. Do you have any example for this case in MOOSE ?\nAlso, in a multicomponent alloy, there would be many kernels (in the reverse_split formulation). Is there a in-built action to add these kernels into the input script ? https://mooseframework.inl.gov/source/actions/ConservedAction.html Does it add kernels for multiple variables ? Its functionality is unclear. Do you have any example that uses ConservedAction ?",
          "url": "https://github.com/idaholab/moose/discussions/27441",
          "updatedAt": "2024-05-08T16:18:13Z",
          "publishedAt": "2024-04-22T19:42:24Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@laagesen",
                  "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9203306",
                  "updatedAt": "2024-04-23T16:35:31Z",
                  "publishedAt": "2024-04-23T16:35:31Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "laagesen"
                          },
                          "bodyText": "Hello, thanks for your interest in the MOOSE phase-field module!\nWe don't currently have any examples for multi-component spinodal decomposition. However, as long as you have a free energy defined that includes the additional dependence on the additional composition order parameter(s), you should be able to add additional evolution equations based on that. You can do that either with adding the appropriate variables and kernels, or as you suggested, using the ConservedAction action. You would just want to make sure to change the name of the block that defines the action, because as the documentation says, that controls the variable name. You can see an example here:\nmoose/modules/phase_field/examples/cahn-hilliard/Parsed_SplitCH.i\nIn that case, the free energy is defined in fbulk and only depends on c, you would want to change this to depend on your other variables too. Then you would add multiple copies of the PhaseField block with different names (replacing c) to get the evolution equations.",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9203703",
                          "updatedAt": "2024-04-23T17:15:42Z",
                          "publishedAt": "2024-04-23T17:15:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "Thank you very much !",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9205623",
                          "updatedAt": "2024-04-23T21:18:17Z",
                          "publishedAt": "2024-04-23T21:18:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "Hi @laagesen\n\nYou can do that either with adding the appropriate variables and kernels, or as you suggested, using the ConservedAction action. You would just want to make sure to change the name of the block that defines the action, because as the documentation says, that controls the variable name.\n\nI have another question on ConservedAction. It also takes in coupled_variables as an argument. But while creating SplitCHParsed kernel that information is not used. Is there some other place in which you are using that information ?\nLine 196-210 in ConservedAction  class.\n        // Add SplitCHParsed kernel\n        {\n          std::string kernel_type = \"SplitCHParsed\";\n\n          std::string kernel_name = _var_name + \"_\" + kernel_type;\n          InputParameters params = _factory.getValidParams(kernel_type);\n          params.set<NonlinearVariableName>(\"variable\") = _var_name;\n          params.set<std::vector<VariableName>>(\"w\") = {_chempot_name};\n          params.set<MaterialPropertyName>(\"f_name\") =\n              getParam<MaterialPropertyName>(\"free_energy\");\n          params.set<MaterialPropertyName>(\"kappa_name\") = getParam<MaterialPropertyName>(\"kappa\");\n          params.applyParameters(parameters());\n\n          _problem->addKernel(kernel_type, kernel_name, params);\n        }",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9356321",
                          "updatedAt": "2024-05-08T15:15:49Z",
                          "publishedAt": "2024-05-08T15:15:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "laagesen"
                          },
                          "bodyText": "I am not sure, I think @tonkmr wrote this kernel, maybe he can comment?",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9356931",
                          "updatedAt": "2024-05-08T15:53:26Z",
                          "publishedAt": "2024-05-08T15:53:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "tonkmr"
                          },
                          "bodyText": "The command\nparams.applyParameters(parameters());\ntakes the parameters of the action and uses them for the kernel. So, coupled_variables is passed through there. To prove it to yourself, you could make two versions of the input file, one that uses the action and one that doesn't and ensure they give exactly the same behavior.",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9357022",
                          "updatedAt": "2024-05-08T16:04:50Z",
                          "publishedAt": "2024-05-08T16:04:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "@tonkmr\nGreat ! Thank you. One more quick question.\nIf I have a parameter in the action, which is not a parameter of the kernel, Then it would be ignored by params.applyParameters(parameters()) command right ?",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9357087",
                          "updatedAt": "2024-05-08T16:12:03Z",
                          "publishedAt": "2024-05-08T16:12:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "yes it will\nsee the doxygen for applyParameters\nhttps://mooseframework.inl.gov/docs/doxygen/moose/classInputParameters.html#af94a58913d2cefb06ed97e976ccd9003",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9357117",
                          "updatedAt": "2024-05-08T16:15:10Z",
                          "publishedAt": "2024-05-08T16:15:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "Thank you very much @GiudGiud",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9357139",
                          "updatedAt": "2024-05-08T16:18:13Z",
                          "publishedAt": "2024-05-08T16:18:13Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "KamalnathOSU"
                  },
                  "bodyText": "Hi Guys,\nI have one more question on the same topic. I am using SpiltCHParsed kernel in my spinodal decomposition input file. I have some doubts on the proper usage of \"coupled_variables\". I am solving for spinodal decomposition in Fe, Cr, Ni where I chose xFe and xCr as the non-linear variable.  While specifying 'coupled_variables' , shall I specify the dependence on xFe and xCr (as shown below) ? Or should I not include the non-linear variable specified in the variable argument ?\n  [./c1_res]\n   type = SplitCHParsed\n   variable = xFe\n   f_name = 'F'\n   kappa_name = 'kappa1_c'\n   w = w1\n   coupled_variables = ' xFe xCr'\n [../]",
                  "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9297026",
                  "updatedAt": "2024-05-02T15:27:26Z",
                  "publishedAt": "2024-05-02T15:27:26Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "laagesen"
                          },
                          "bodyText": "You should enter any other variables that your free energy F depends on, but not the variable that kernel is acting on. So in your case you don't want to enter xFe but probably do want to enter xCr, if there is xCr dependence in your free energy F (which I am assuming there is).",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9297632",
                          "updatedAt": "2024-05-02T16:19:36Z",
                          "publishedAt": "2024-05-02T16:19:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "if you are using the non AD SplitCHParsed  as you show then yes, do include them as it will declare additional derivartive material properties",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9297638",
                          "updatedAt": "2024-05-02T16:19:54Z",
                          "publishedAt": "2024-05-02T16:19:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "see what Larry said",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9297646",
                          "updatedAt": "2024-05-02T16:20:22Z",
                          "publishedAt": "2024-05-02T16:20:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "@laagesen But if I accidentally include xFe into coupled_variables argument, will it cause any problem ?",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9298659",
                          "updatedAt": "2024-05-02T18:09:42Z",
                          "publishedAt": "2024-05-02T18:09:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "no it may only mean one extra material property defined. The users of these material properties are not going to get it wrong",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9298766",
                          "updatedAt": "2024-05-02T18:19:58Z",
                          "publishedAt": "2024-05-02T18:19:58Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "KamalnathOSU"
                  },
                  "bodyText": "Hi @laagesen ,\nOne more question, how to print the dependent concentration variable as an Auxvariable ? Is there a specific kernel for that ?\nFor example, in Fe-Cr-Ni alloy, I chose xFe and xCr as the non-linear variable. Now, I how to do print xNi ? Is there a general method for this ?",
                  "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9317355",
                  "updatedAt": "2024-05-05T02:39:14Z",
                  "publishedAt": "2024-05-05T02:39:13Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Is it created as a material property somewhere? Do you see it with Debug/show_material_props?\nIf so there's material property output for that\nIf not, then can it be computed simply with an analytical expression? If so you can use a ParsedAux to compute it",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9317570",
                          "updatedAt": "2024-05-05T03:58:17Z",
                          "publishedAt": "2024-05-05T03:58:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "No, it is not created as material property.\nHowever, I can make ParsedAux to work for it.",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9329665",
                          "updatedAt": "2024-05-06T13:51:52Z",
                          "publishedAt": "2024-05-06T13:51:51Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "KamalnathOSU"
                  },
                  "bodyText": "Hi @laagesen @dschwen\nI am trying to couple a CALPHAD minimizer engine (Pandat) to moose, so that it can define first and second derivatives of free energy required for spinodal simulation. I define these free energies and material properties, and evalutate it in computeQpProperties() as shown below.\nIt looks like computeQpProperties() is called for every linear and non-linear iterations. However, evaluation of second derivative could be quite expensive for multicomponent alloys. I believe based on my understanding of the MOOSE that we dont need to evaluate second derivative for linear iterations.  Is there anyway to skip the second derivative evaluation in MOOSE for linear iterations ?\nvoid\nGmTernaryExtended::computeQpProperties()\n{\n\n  Real R = 8.31442;// Gas constant\n\n  Real X1 = _X1[_qp];\n  Real X2 = _X2[_qp];\n  Real X3 = 1-X1-X2;\n  vector<double> conc_vector = {X1,X2,X3};\n  Real T  = _TK[_qp];\n  \n  //Declare memory for PFM_SDK output data\n  PFM_SDK_Output_Data output;\n  calculate_local_eq(conc_vector,T,output);\n\n//Free energy\n  _G[_qp] = output.phase_Gibbs_energy[0] / _Gnormal ;\n\n//First derivative\n  double mu_ref=output.mu[ _ncomp - 1];\n  _dGdX1[_qp] = (output.mu[0] - mu_ref) / _Gnormal ;\n  _dGdX2[_qp] = (output.mu[1] - mu_ref) / _Gnormal ;\n\n//Second derivative\n  {int engine_id=0;\n  _d2GdX1X1[_qp] = cal_d2G(output,engine_id,0,0) / _Gnormal;\n  _d2GdX1X2[_qp] = cal_d2G(output,engine_id,0,1) / _Gnormal;\n  _d2GdX2X2[_qp] = cal_d2G(output,engine_id,1,1) / _Gnormal;\n  }\n}",
                  "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9331575",
                  "updatedAt": "2024-05-06T16:32:16Z",
                  "publishedAt": "2024-05-06T16:32:15Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "laagesen"
                          },
                          "bodyText": "Evaluating second derivatives will take more time, but it will likely make the problem converge faster - they are used to precondition the matrix-vector problem and without this preconditioning, converging nonlinear iterations may be much slower. @dschwen can probably say more here",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9331658",
                          "updatedAt": "2024-05-06T16:36:32Z",
                          "publishedAt": "2024-05-06T16:36:31Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "KamalnathOSU"
                  },
                  "bodyText": "@laagesen\nThank you for your prompt response.\nI think there is a misunderstanding.  I still want to evaluate second derivative for nonlinear iterations. However, for linear iterations, we dont need second derivatives (as Jacobian is not recalculated). Can we skip second derivative only for linear iterations ?",
                  "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9331721",
                  "updatedAt": "2024-05-06T16:40:14Z",
                  "publishedAt": "2024-05-06T16:40:14Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "Hi,\nCan other developers also chime in the discussion?\nIs there a indicator in available in computeQpProperties() function that  can tell me whether the evaluation is perform ed for linear iteration or non-linear iteration ?",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9356131",
                          "updatedAt": "2024-05-08T15:02:28Z",
                          "publishedAt": "2024-05-08T15:02:27Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "use a reference to the fe_problem to use getCurrentExecuteOnFlag which you can compare to EXEC_LINEAR for example\nsee the doxygene for materials and problems",
                          "url": "https://github.com/idaholab/moose/discussions/27441#discussioncomment-9357130",
                          "updatedAt": "2024-05-08T16:16:23Z",
                          "publishedAt": "2024-05-08T16:16:22Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "A build problem after updating moose",
          "author": {
            "login": "Always-kimi"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (avoid screenshots if possible, triple back quotes before/after pasted text, etc)\n\nIssue or question about MOOSE\nhello\ndevelopers,\nI have a build problem after updating moose when I rebuild my applications. It seems to be a git problem that just happened yesterday and on both debian and wsl.\nfatal: ambiguous argument 'HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\nTraceback (most recent call last):\n  File \"/home/kimi/projects/moose/framework/../scripts/premake.py\", line 183, in <module>\n    PreMake().check()\n  File \"/home/kimi/projects/moose/framework/../scripts/premake.py\", line 18, in __init__\n    self.versioner_meta = Versioner().version_meta()\n  File \"/home/kimi/projects/moose/scripts/versioner.py\", line 302, in version_meta\n    app_name, _, app_hash = self.get_app()\n  File \"/home/kimi/projects/moose/scripts/versioner.py\", line 352, in get_app\n    git_hash = subprocess.check_output(hash_command, encoding='utf-8').rstrip()[0:7]\n  File \"/home/kimi/miniforge/envs/moose/lib/python3.10/subprocess.py\", line 421, in check_output\n    return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,\n  File \"/home/kimi/miniforge/envs/moose/lib/python3.10/subprocess.py\", line 526, in run\n    raise CalledProcessError(retcode, process.args,\nsubprocess.CalledProcessError: Command '['git', 'rev-parse', 'HEAD']' returned non-zero exit status 128.\nmake: [/home/kimi/projects/moose/framework/moose.mk:388: prebuild] Error 1 (ignored)\n\nAlthough it doesn't affect the build and test applications, I'd like to know how to deal with it.\nDiagnostics for MOOSE installation issues\n[Optional] Output of the diagnostics scripts. To run the script: cd ~/projects/moose/scripts; ./diagnostics.sh",
          "url": "https://github.com/idaholab/moose/discussions/27575",
          "updatedAt": "2024-05-08T14:15:26Z",
          "publishedAt": "2024-05-08T07:30:52Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nIn which folder are you building? It seems to be outside of a git repository\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27575#discussioncomment-9354003",
                  "updatedAt": "2024-05-08T12:18:08Z",
                  "publishedAt": "2024-05-08T12:18:08Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Always-kimi"
                          },
                          "bodyText": "In the babbler folder created by using the command `./moose/scripts/stork.sh Babbler'.\nI try to build a new application, it's still the same.\n(moose) kimi@DESKTOP-7APSM1S:~/projects$ ./moose/scripts/stork.sh Abc\nInitialized empty Git repository in /home/kimi/projects/abc/.git/\n\n*** Please tell me who you are.\n\nRun\n\n  git config --global user.email \"you@example.com\"\n  git config --global user.name \"Your Name\"\n\nto set your account's default identity.\nOmit --global to set the identity only in this repository.\n\nfatal: empty ident name (for <kimi@DESKTOP-7APSM1S.localdomain>) not allowed\nMOOSE app created in '/home/kimi/projects/abc'\n\nTo store your changes on GitHub:\n    1. Log in to your GitHub account\n    2. Create a new repository named 'abc'\n    3. In this terminal window, run the following commands:\n         cd /home/kimi/projects/abc\n         git remote add origin https://github.com/YourGitHubUserName/abc\n         git commit -m \"Initial code commit\"\n         git push -u origin main\n\nTo automatically enforce MOOSE C++ code style in your commits, run:\n\n    cd /home/kimi/projects/abc\n    ./scripts/install-format-hook.sh\n\nTo enable software quality assurance (SQA) documentation using MooseDocs, perform the\nfollowing steps after adding your git repository remote:\n\n    1. Navigate to /home/kimi/projects/abc/doc\n    2. Run './moosedocs.py init sqa --app 'Abc' --category abc'\n    3. Commit the initial SQA changes using the following commands:\n         git add /home/kimi/projects/abc/doc\n         git commit -m \"Initial SQA changes\"\n         git push origin main\n    4. Add new SQA content to the forms in /home/kimi/projects/abc/doc/content/sqa\n\nFor general assistance in MOOSE-based application SQA, please contact the MOOSE\nframework development team. For further info on the MooseDocs code documentation\nsystem, please visit https://mooseframework.inl.gov.\n(moose) kimi@DESKTOP-7APSM1S:~/projects$ cd abc/\n(moose) kimi@DESKTOP-7APSM1S:~/projects/abc$ make -j6\nfatal: ambiguous argument 'HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\nTraceback (most recent call last):\n  File \"/home/kimi/projects/moose/framework/../scripts/premake.py\", line 183, in <module>\n    PreMake().check()\n  File \"/home/kimi/projects/moose/framework/../scripts/premake.py\", line 18, in __init__\n    self.versioner_meta = Versioner().version_meta()\n  File \"/home/kimi/projects/moose/scripts/versioner.py\", line 302, in version_meta\n    app_name, _, app_hash = self.get_app()\n  File \"/home/kimi/projects/moose/scripts/versioner.py\", line 352, in get_app\n    git_hash = subprocess.check_output(hash_command, encoding='utf-8').rstrip()[0:7]\n  File \"/home/kimi/miniforge/envs/moose/lib/python3.10/subprocess.py\", line 421, in check_output\n    return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,\n  File \"/home/kimi/miniforge/envs/moose/lib/python3.10/subprocess.py\", line 526, in run\n    raise CalledProcessError(retcode, process.args,\nsubprocess.CalledProcessError: Command '['git', 'rev-parse', 'HEAD']' returned non-zero exit status 128.\nmake: [/home/kimi/projects/moose/framework/moose.mk:388: prebuild] Error 1 (ignored)",
                          "url": "https://github.com/idaholab/moose/discussions/27575#discussioncomment-9354364",
                          "updatedAt": "2024-05-08T12:54:08Z",
                          "publishedAt": "2024-05-08T12:54:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "the creation of the app is failing:\nit is telling you to run this\n  git config --global user.email \"you@example.com\"\n  git config --global user.name \"Your Name\"\n\nthen Babbler, because this has not been done, is not an actual git repository",
                          "url": "https://github.com/idaholab/moose/discussions/27575#discussioncomment-9354960",
                          "updatedAt": "2024-05-08T14:07:42Z",
                          "publishedAt": "2024-05-08T13:48:49Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Always-kimi"
                          },
                          "bodyText": "Oh I got it, but this operation wasn't needed before when creating a moose application, did the moose framework update the procedure?",
                          "url": "https://github.com/idaholab/moose/discussions/27575#discussioncomment-9355077",
                          "updatedAt": "2024-05-08T13:58:23Z",
                          "publishedAt": "2024-05-08T13:58:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I dont think we have. We ll make sure we catch this problem in the future though, I created an issue",
                          "url": "https://github.com/idaholab/moose/discussions/27575#discussioncomment-9355220",
                          "updatedAt": "2024-05-08T14:08:22Z",
                          "publishedAt": "2024-05-08T14:08:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Always-kimi"
                          },
                          "bodyText": "Thanks a lot!",
                          "url": "https://github.com/idaholab/moose/discussions/27575#discussioncomment-9355336",
                          "updatedAt": "2024-05-08T14:15:27Z",
                          "publishedAt": "2024-05-08T14:15:26Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Not converge about DIVERGED_NANORINF and  DIVERGED_LINEAR_SOLVE problem.",
          "author": {
            "login": "lipxisi"
          },
          "bodyText": "Hello\nIn the case of 06.i of porous_flow I modified  geometry, fluid properties and permeability to suit my model. However, the solver does not converge, sometimes there will be DIVERGED_NANORINF and DIVERGED_LINEAR_SOLVE related problems, like\n[Time Step 3, time = 150, dt = 50\n 0 Nonlinear |R| = 1.449103e-08\n Linear solve did not converge due to DIVERGED_NANORINF iterations 0\nNonlinear solve did not converge due to DIVERGED_LINEAR_SOLVE iterations 0\n Solve Did NOT Converge!\nAborting as solve did not converge]\n\nsometimes there will be directly skip linear convergence problems.\n[Time step 5,time =18000,dt =3600\n0 Nonlinear lRl=4.939397e-15 \nSolve converged!]\n\nI don't know what is the main reason for this, and I should adjust those areas. Though I have looked at https://mooseframework.inl.gov/moose/application_usage/failed_solves.html, but there is no good solution.\ninputfile\n[Mesh]\n  [cube]\n    type = GeneratedMeshGenerator\n    dim = 2\n    xmax = 9.5\n    ymax = 9.5\n    nx = 100\n    ny = 100\n  []\n  #[rename]\n  #  type = RenameBoundaryGenerator\n  #  input = cube\n  #  old_boundary = '0 1 2 3'\n  #  new_boundary = 'out_side out_side out_side out_side'\n  #[]\n[]\n\n[GlobalParams]\n  PorousFlowDictator = dictator\n[]\n\n[Variables]\n  [porepressure]\n    initial_condition = 0\n  []\n  [tracer_concentration]\n    initial_condition = 0\n    #scaling = 1e5\n  []\n[]\n\n[ICs]\n  [tracer_concentration]\n    type = ConstantIC\n    value = 1\n    variable = tracer_concentration\n    boundary = top\n  []\n  [poutside]\n    type = ConstantIC\n    variable = porepressure\n    boundary = top\n    value = 5e5\n  []\n[]\n\n[BCs]\n  [tracer_concentration]\n    type = DirichletBC\n    value = 1\n    variable = tracer_concentration\n    boundary = top\n  []\n  [1tracer_concentration]\n    type = DirichletBC\n    value = 0\n    variable = tracer_concentration\n    boundary = bottom\n  []\n  [poutside]\n    type = DirichletBC\n    variable = porepressure\n    boundary = top\n    value = 5e5\n  []\n  [1poutside]\n    type = DirichletBC\n    variable = porepressure\n    boundary = bottom\n    value = 0\n  []\n[]\n\n[PorousFlowFullySaturated]\n  porepressure = porepressure\n  coupling_type = Hydro\n  gravity = '0 0 0'\n  fp = the_simple_fluid\n  mass_fraction_vars = tracer_concentration\n  stabilization = KT # Note to reader: 06_KT.i uses KT stabilization - compare the results\n  flux_limiter_type = superbee\n[]\n\n[FluidProperties]\n  [the_simple_fluid]\n    type = SimpleFluidProperties\n    bulk_modulus = 13E9\n    viscosity = 9E-2\n    density0 = 2787.0\n  []\n[]\n\n[Materials]\n  [porosity]\n    type = PorousFlowPorosity\n    porosity_zero = 0.15\n  []\n  [permeability_caps]\n    type = PorousFlowPermeabilityConst\n    block = '0'\n    permeability = '1E-19 0 0   0 1E-19 0   0 0 1E-19'\n  []\n[]\n\n[Preconditioning]\n  active = basic\n  [basic]\n    type = SMP\n    full = true\n    petsc_options = '-ksp_diagonal_scale -ksp_diagonal_scale_fix'\n    petsc_options_iname = '-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap'\n    petsc_options_value = ' asm      lu           NONZERO                   2'\n  []\n  [preferred_but_might_not_be_installed]\n    type = SMP\n    full = true\n    petsc_options_iname = '-pc_type -pc_factor_mat_solver_package'\n    petsc_options_value = ' lu       mumps'\n  []\n[]\n\n[Functions]\n  [dt_controller]\n    type = PiecewiseConstant\n    x = '0    3600   18000  43200'\n    y = '50   500  1800  43200'\n  []\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = Newton\n  end_time = 3.6e5\n\n  [TimeStepper]\n    type = FunctionDT\n    function = dt_controller\n  []\n  nl_abs_tol = 1E-10\n  l_abs_tol = 1e-15\n[]\n\n[Outputs]\n  exodus = true\n  print_linear_residuals = true\n[]\n\nThank you for checking!",
          "url": "https://github.com/idaholab/moose/discussions/27576",
          "updatedAt": "2024-05-16T09:40:19Z",
          "publishedAt": "2024-05-08T08:34:20Z",
          "category": {
            "name": "Q&A Modules: Porous Flow"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI dont usually say this but your convergence criteria are too tight\n  nl_abs_tol = 1E-10\n  l_abs_tol = 1e-15\n\nyou can leave the first one if it works, but the second one is too close to numerical precision. In fact since the residual is checked by the nonlinear solver, you dont need to converge the linear solve anywhere near as tight. 1e-3 is often enough\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27576#discussioncomment-9354227",
                  "updatedAt": "2024-05-08T12:39:48Z",
                  "publishedAt": "2024-05-08T12:39:46Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Problem in splitting the domain",
          "author": {
            "login": "khushbuiitk"
          },
          "bodyText": "Hi MOOSE community,\nI am trying to split the domain into two parts and assign different properties like conductivity to each split domain to check if it grows faster. I tried using a subdomain generator, but it isn't working at all.\nPlease help me with this.\nThanks",
          "url": "https://github.com/idaholab/moose/discussions/27573",
          "updatedAt": "2024-05-08T12:14:24Z",
          "publishedAt": "2024-05-08T05:19:24Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nCan you describe the split of the domain with simple expressions of the local coordinates? For example x > 2 for the other subdomain.\nIf so, you could use this mesh generator to do the split?\nhttps://mooseframework.inl.gov/source/meshgenerators/ParsedSubdomainMeshGenerator.html\nMaybe paste the Mesh block here if you cannot get it to work\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27573#discussioncomment-9353961",
                  "updatedAt": "2024-05-08T12:14:25Z",
                  "publishedAt": "2024-05-08T12:14:24Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}