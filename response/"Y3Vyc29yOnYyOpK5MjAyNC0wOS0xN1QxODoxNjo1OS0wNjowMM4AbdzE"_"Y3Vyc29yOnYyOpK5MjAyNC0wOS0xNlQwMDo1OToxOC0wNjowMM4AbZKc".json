{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0wOS0xNlQwMDo1OToxOC0wNjowMM4AbZKc"
    },
    "edges": [
      {
        "node": {
          "title": "Failed to open output file",
          "author": {
            "login": "Emmanuel-324"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nI am running an input script and it failed due to this error\n*** ERROR ***\nFailed to open fileTest_5_two_phase_test_trial_5_new_out.e-s008\ufffd[39m",
          "url": "https://github.com/idaholab/moose/discussions/28650",
          "updatedAt": "2024-09-17T23:41:11Z",
          "publishedAt": "2024-09-17T22:30:40Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nwe need more information here. What were you running, what systems were in use? etc",
                  "url": "https://github.com/idaholab/moose/discussions/28650#discussioncomment-10675650",
                  "updatedAt": "2024-09-17T23:05:37Z",
                  "publishedAt": "2024-09-17T23:05:36Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Emmanuel-324"
                          },
                          "bodyText": "I am running a phase field model using kks. Everything was working fine until all my current running jobs failed due to similar error messages. I am using an HPC cluster",
                          "url": "https://github.com/idaholab/moose/discussions/28650#discussioncomment-10675742",
                          "updatedAt": "2024-09-17T23:27:00Z",
                          "publishedAt": "2024-09-17T23:27:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "did you meet the storage limit on the HPC cluster? This would explain why the file cant be created/read",
                          "url": "https://github.com/idaholab/moose/discussions/28650#discussioncomment-10675790",
                          "updatedAt": "2024-09-17T23:41:11Z",
                          "publishedAt": "2024-09-17T23:41:11Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Is there a BC object to specify a BC that depends on the time derivative of a variable?",
          "author": {
            "login": "richmondodufisan"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nIs there an existing implementation that can apply the neumann BC:\nstress . normal = -d * du/dt?\nWhere d is a constant and du/dt is the time derivative of a variable (displacement)? I am trying to use this in conjunction with DynamicStressDivergenceTensors. I checked the existing ones and couldn't find one, wanted to know if there's an alternative way before I attempt implementing it myself.",
          "url": "https://github.com/idaholab/moose/discussions/28646",
          "updatedAt": "2024-09-17T23:22:07Z",
          "publishedAt": "2024-09-17T17:05:34Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI went through the list and did not see one. You could search more in the dynamics examples\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/28646#discussioncomment-10675707",
                  "updatedAt": "2024-09-17T23:19:01Z",
                  "publishedAt": "2024-09-17T23:19:00Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "okay thank you",
                          "url": "https://github.com/idaholab/moose/discussions/28646#discussioncomment-10675721",
                          "updatedAt": "2024-09-17T23:22:07Z",
                          "publishedAt": "2024-09-17T23:22:07Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Converge issue",
          "author": {
            "login": "Yulongggggg"
          },
          "bodyText": "https://github.com/Yulongggggg/2D_groundstress This is my code link, I am trying to model the situation of biaxial loading of soil. But the code seems unable to converge, could you please tell me my mistakes. Thank you so much!",
          "url": "https://github.com/idaholab/moose/discussions/28641",
          "updatedAt": "2024-11-20T19:18:24Z",
          "publishedAt": "2024-09-17T03:43:07Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nthere are some troubleshooting instructions here\nhttps://mooseframework.inl.gov/moose/application_usage/failed_solves.html\nand some advice on preconditioning for porous media / geomecha here\nhttps://mooseframework.inl.gov/modules/porous_flow/solvers.html",
                  "url": "https://github.com/idaholab/moose/discussions/28641#discussioncomment-10669576",
                  "updatedAt": "2024-09-17T11:32:32Z",
                  "publishedAt": "2024-09-17T11:32:30Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "A question about the load balance in MOOSE",
          "author": {
            "login": "alimostafavi24"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nDear MOOSE Experts,\nI have a question regarding dynamic load balancing between processors, particularly when using Adaptive Mesh Refinement (AMR). From my understanding, the code tries to partition the domain to equally distribute finite element degrees of freedom across processors. Could someone elaborate on how this load balancing is achieved, and possibly provide references or documentation that further describe the process? I am interested to know the algorithm behind this.\nI\u2019ve attached an example from my simulation illustrating the load balancing behavior.\nThank you in advance for your help!\nBest regards,",
          "url": "https://github.com/idaholab/moose/discussions/28638",
          "updatedAt": "2024-09-16T23:44:24Z",
          "publishedAt": "2024-09-16T22:37:44Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThe process first depends on your partitioner. Which one are you using?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/28638#discussioncomment-10664664",
                  "updatedAt": "2024-09-16T22:45:44Z",
                  "publishedAt": "2024-09-16T22:45:43Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "alimostafavi24"
                          },
                          "bodyText": "I use the default partitioner which should be METIS.",
                          "url": "https://github.com/idaholab/moose/discussions/28638#discussioncomment-10664670",
                          "updatedAt": "2024-09-16T22:46:55Z",
                          "publishedAt": "2024-09-16T22:46:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "depends on whether you use distributed mesh\n      if (use_distributed_mesh)\n        partitioner = \"parmetis\";\n      else\n        partitioner = \"metis\";\n\nanyway once you have a partitioner, this partitions using a heuristic and more or less of an internal solve to get an optimal partition.\nThis is repeated on every re-partition. There is communication performed by libmesh (for the mesh), petsc (for the solution vectors) and moose (for stateful material properties)",
                          "url": "https://github.com/idaholab/moose/discussions/28638#discussioncomment-10664691",
                          "updatedAt": "2024-09-16T22:53:19Z",
                          "publishedAt": "2024-09-16T22:53:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "depends on whether you use distributed mesh\n      if (use_distributed_mesh)\n        partitioner = \"parmetis\";\n      else\n        partitioner = \"metis\";\n\nanyway once you have a partitioner, this partitions using a heuristic and more or less of an internal solve to get an optimal partition.\nThis is repeated on every re-partition. There is communication performed by libmesh (for the mesh), petsc (for the solution vectors) and moose (for stateful material properties)",
                          "url": "https://github.com/idaholab/moose/discussions/28638#discussioncomment-10664692",
                          "updatedAt": "2024-09-16T22:53:20Z",
                          "publishedAt": "2024-09-16T22:53:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "alimostafavi24"
                          },
                          "bodyText": "Thanks. It seems like a complicated process that involve MOOSE, libmesh and petsc. I need to cite a paper for dynamic load balancing.  Can you think of any reference from MOOSE, libmesh or petsc that go through the details of the load balance?",
                          "url": "https://github.com/idaholab/moose/discussions/28638#discussioncomment-10664711",
                          "updatedAt": "2024-09-16T22:57:40Z",
                          "publishedAt": "2024-09-16T22:57:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "If you are focused on the load balance part, then it s the partitioners you want to cite. MOOSE/libmesh/petsc re-partition, but the \"balance\" is provided by the partitioner",
                          "url": "https://github.com/idaholab/moose/discussions/28638#discussioncomment-10664727",
                          "updatedAt": "2024-09-16T23:00:15Z",
                          "publishedAt": "2024-09-16T23:00:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "alimostafavi24"
                          },
                          "bodyText": "Is there any part of the code I can look into to learn about this? \"this partitions using a heuristic and more or less of an internal solve to get an optimal partition.\"",
                          "url": "https://github.com/idaholab/moose/discussions/28638#discussioncomment-10664882",
                          "updatedAt": "2024-09-16T23:39:39Z",
                          "publishedAt": "2024-09-16T23:39:38Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "you can open one of the partitioner source files, then use vscode \"go to reference\" to see how its routines are called",
                          "url": "https://github.com/idaholab/moose/discussions/28638#discussioncomment-10664907",
                          "updatedAt": "2024-09-16T23:44:24Z",
                          "publishedAt": "2024-09-16T23:44:24Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Vector Definition",
          "author": {
            "login": "manikumd22"
          },
          "bodyText": "Hi @GiudGiud\nI am getting an error related to the definition of vector _meanx_weights, previously I defined a lot of vectors like this. For example, one such vector is _fc1_weights, and the code was working fine. Now, I add new vector named _meanx_weights, I start getting an error\nError:\nIn file included from /storage/work/mvk6158/moose_directories/myApp/build/unity_src/materials_Unity.C:7:\n/storage/work/mvk6158/moose_directories/myApp/src/materials/ComputeMultiscaleStress_circle_less.C: In constructor 'ComputeMultiscaleStress_circle_less::ComputeMultiscaleStress_circle_less(const InputParameters&)':\n/storage/work/mvk6158/moose_directories/myApp/src/materials/ComputeMultiscaleStress_circle_less.C:115:5: error: class 'ComputeMultiscaleStress_circle_less' does not have any field named '_meanx_weights'\n     _meanx_weights(getParam<std::vector<Real>>(\"meanx_weights\")),\n     ^~~~~~~~~~~~~~\nmake: *** [/storage/work/mvk6158/moose_directories/moose//framework/build.mk:151: /storage/work/mvk6158/moose_directories/myApp/build/unity_src/materials_Unity.x86_64-pc-linux-gnu.opt.lo] Error 1\n\n.h file\nclass ComputeMultiscaleStress_circle_less : public ComputeLagrangianStressPK2\n{\npublic:\n  static InputParameters validParams();\n  ComputeMultiscaleStress_circle_less(const InputParameters & parameters);\n\nprotected:\n  /// Actual stress/Jacobian update\n  virtual void computeQpPK2Stress();\n\nprotected:\n  const MaterialProperty<Real> & _lambda;\n  const MaterialProperty<Real> & _mu;\n  const MaterialProperty<Real> & _NN_layer_size;\n  MaterialProperty<DenseMatrix<Real>> & _F_column;\n  const std::vector<Real> _fc1_weights;\n  const std::vector<Real> _meanx_weights;\n\n.c File\nInputParameters\nComputeMultiscaleStress_circle_less::validParams()\n{\n  InputParameters params = ComputeLagrangianStressPK2::validParams();\n  params.addParam<MaterialPropertyName>(\"lambda\",\n                                        \"lambda\",\n                                        \"Parameter conjugate to Lame parameter\"\n                                        \" for small deformations\");\n  params.addParam<MaterialPropertyName>(\"mu\",\n                                        \"mu\",\n                                        \"Parameter conjugate to Lame parameter\"\n                                        \" for small deformations\");\n  params.addParam<MaterialPropertyName>(\"NN_layer_size\",\n                                        \"NN_layer_size\",\n                                        \"Parameter conjugate to Lame parameter\"\n                                        \" for small deformations\");     \n  params.addRequiredRangeCheckedParam<std::vector<Real>>(\"fc1_weights\",\n                                                         \"fc1_weights_size = 256\",\n                                                         \" for small deformations\");   \n  params.addRequiredRangeCheckedParam<std::vector<Real>>(\"meanx_weights\",\n                                                         \"meanx_weights_size = 3\",\n                                                         \" for small deformations\");       \n\n\n\nComputeMultiscaleStress_circle_less::ComputeMultiscaleStress_circle_less(const InputParameters & parameters)\n  : ComputeLagrangianStressPK2(parameters),\n    _lambda(getMaterialProperty<Real>(getParam<MaterialPropertyName>(\"lambda\"))),\n    _mu(getMaterialProperty<Real>(getParam<MaterialPropertyName>(\"mu\"))),\n    _NN_layer_size(getMaterialProperty<Real>(getParam<MaterialPropertyName>(\"NN_layer_size\"))),   \n    _F_column(declareProperty<DenseMatrix<Real>>(\"F_column\")),  \n    _fc1_weights(getParam<std::vector<Real>>(\"fc1_weights\")),\n    _meanx_weights(getParam<std::vector<Real>>(\"meanx_weights\")),",
          "url": "https://github.com/idaholab/moose/discussions/28636",
          "updatedAt": "2024-09-16T23:03:04Z",
          "publishedAt": "2024-09-16T20:47:06Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "hello\nis this the only error you get? It does not make sense to me\nand could you please paste the entire constructor?",
                  "url": "https://github.com/idaholab/moose/discussions/28636#discussioncomment-10664739",
                  "updatedAt": "2024-09-16T23:03:05Z",
                  "publishedAt": "2024-09-16T23:03:04Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Can't run my code",
          "author": {
            "login": "Yulongggggg"
          },
          "bodyText": "This is my code, I have tried multiply times but still can't make it run",
          "url": "https://github.com/idaholab/moose/discussions/28630",
          "updatedAt": "2024-09-16T18:23:47Z",
          "publishedAt": "2024-09-16T15:39:19Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "hello\nPlease attach a file instead of a screenshot.\nAnd explain your problem you are running into in more details\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/28630#discussioncomment-10661464",
                  "updatedAt": "2024-09-16T15:53:14Z",
                  "publishedAt": "2024-09-16T15:53:13Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Yulongggggg"
                          },
                          "bodyText": "code.zip\ncode.zip\nI can get the strain and stress data in the paraview, but I think I have used the command 'generate_output' to get the stress and strain. Could you please tell me my mistakes, I really appreciate it.",
                          "url": "https://github.com/idaholab/moose/discussions/28630#discussioncomment-10661788",
                          "updatedAt": "2024-09-16T16:27:03Z",
                          "publishedAt": "2024-09-16T16:27:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yulongggggg"
                          },
                          "bodyText": "sorry, I can't get strain and stress",
                          "url": "https://github.com/idaholab/moose/discussions/28630#discussioncomment-10661793",
                          "updatedAt": "2024-09-16T16:27:40Z",
                          "publishedAt": "2024-09-16T16:27:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Could you please upload the inputs to a public github repo? We cant download zip files on our machines\ngenerate_output goes inside the Physics, under QuasiStatic/all",
                          "url": "https://github.com/idaholab/moose/discussions/28630#discussioncomment-10661897",
                          "updatedAt": "2024-09-16T16:40:12Z",
                          "publishedAt": "2024-09-16T16:40:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yulongggggg"
                          },
                          "bodyText": "Of course! This is my link:https://github.com/Yulongggggg/1D_Bar_MOOSE .Thank you Guillaume!",
                          "url": "https://github.com/idaholab/moose/discussions/28630#discussioncomment-10661973",
                          "updatedAt": "2024-09-16T16:49:46Z",
                          "publishedAt": "2024-09-16T16:49:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "There should not be a comma inside generate_output\nyou can try this\n generate_output = 'max_principal_stress min_principal_stress stress_xx stress_xy stress_xz stress_yy stress_yz stress_zz'",
                          "url": "https://github.com/idaholab/moose/discussions/28630#discussioncomment-10662030",
                          "updatedAt": "2024-09-16T16:56:16Z",
                          "publishedAt": "2024-09-16T16:56:15Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yulongggggg"
                          },
                          "bodyText": "Hi Guillaume, problem solved! Thank you so much! Btw, I have a question, if I have settled strain and strain in the 'generate_output', do I still have to define the shape function, like\n# [AuxVariables]\n#   [stress_theta]\n#     order = CONSTANT\n#     family = MONOMIAL\n#   []\n#   [strain_theta]\n#     order = CONSTANT\n#     family = MONOMIAL\n#   []\n# []",
                          "url": "https://github.com/idaholab/moose/discussions/28630#discussioncomment-10662447",
                          "updatedAt": "2024-09-16T17:42:20Z",
                          "publishedAt": "2024-09-16T17:38:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "you dont need to define the order of the auxvariables, the automated material property output does it",
                          "url": "https://github.com/idaholab/moose/discussions/28630#discussioncomment-10662482",
                          "updatedAt": "2024-09-16T17:42:56Z",
                          "publishedAt": "2024-09-16T17:42:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yulongggggg"
                          },
                          "bodyText": "Thank you so much, love you guy",
                          "url": "https://github.com/idaholab/moose/discussions/28630#discussioncomment-10662804",
                          "updatedAt": "2024-09-16T18:23:48Z",
                          "publishedAt": "2024-09-16T18:23:47Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Issue with Clobberall",
          "author": {
            "login": "sreihani"
          },
          "bodyText": "I guess \"Make clobberall\" does have an impact on upstream of MOOSE setup. I updated MOOSE repository and all pets, libmesh and Wasp. However, after clobbering, I was forced to update wasp again and consequently wasp itself failed! I am not sure what the output of a clobberall is supposed to be, but my understanding is that should not touch those libraries already updated. I am wondering if this step can be skipped, if so any consequences? FYI, I built moose from source.",
          "url": "https://github.com/idaholab/moose/discussions/28625",
          "updatedAt": "2024-09-16T13:03:06Z",
          "publishedAt": "2024-09-15T22:59:39Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nWe do expect make clobberall to clear local dependencies.\nHowever we don't expect trouble re installing after.\nDid you update before clobbering ?\nCan you use git clean -Xfd to have a deeper clean",
                  "url": "https://github.com/idaholab/moose/discussions/28625#discussioncomment-10654711",
                  "updatedAt": "2024-09-16T01:03:54Z",
                  "publishedAt": "2024-09-16T01:03:53Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I tend to stay away from clobberall myself. It does things we have programmatically set in a Makefile. And I am not good at reading Makefiles, and understanding what it is I am reading in them.\nBut when I run the following git clean commands I know what it is I am cleaning. And I like to know when things are being cleaned.\ncd moose\ngit clean -xfd   # cleans moose/* (everything that is not a submodule)\ngit submodule foreach --recursive git clean -xfd  # cleans all submodules, and their submodules\nIt was only recently that I was shown the -X being safer than what I've been using for years (-x). I still prefer -x, as I like to end up in a pristine repo (see git clean --help if curious).\nBasically with the above two commands, I can manually build PETSc, libMesh, and WASP and then run git clean -xfd at the root of the moose repo, and not have to worry about destroying PETSc, libMesh, or WASP.",
                          "url": "https://github.com/idaholab/moose/discussions/28625#discussioncomment-10659491",
                          "updatedAt": "2024-09-16T13:04:47Z",
                          "publishedAt": "2024-09-16T13:03:06Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Pre-splitting a 3D heat structure",
          "author": {
            "login": "TheBEllis"
          },
          "bodyText": "Hi MOOSE team,\nI am looking to do a thermal hydraulics calculation using a fairly large 3D heat structure. I was wondering if there is functionality in MOOSE to pre-split the heat structure mesh? I imagine the whole mesh is needed for heat transfer between the 1D components, making distributed runs fairly difficult. But I just thought I would ask. Thanks!",
          "url": "https://github.com/idaholab/moose/discussions/28600",
          "updatedAt": "2024-09-16T08:52:36Z",
          "publishedAt": "2024-09-11T12:39:10Z",
          "category": {
            "name": "Q&A Modules: Thermal Hydraulics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@joshuahansel",
                  "url": "https://github.com/idaholab/moose/discussions/28600#discussioncomment-10614975",
                  "updatedAt": "2024-09-11T13:55:14Z",
                  "publishedAt": "2024-09-11T13:55:13Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "joshuahansel"
                  },
                  "bodyText": "I am not sure - I don't know if anyone has tried this in THM. I will try to make a test for this setup soon, just to see IF it works. I'm not sure about how much effort would be required to fix it if it does not work already. What's your timeline?",
                  "url": "https://github.com/idaholab/moose/discussions/28600#discussioncomment-10615117",
                  "updatedAt": "2024-09-11T14:06:28Z",
                  "publishedAt": "2024-09-11T14:06:27Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "TheBEllis"
                          },
                          "bodyText": "I don't have a timeline for this at the moment, it was more of a test to see what I could get to work, so no rush. Let me know if you give it a go:)",
                          "url": "https://github.com/idaholab/moose/discussions/28600#discussioncomment-10657036",
                          "updatedAt": "2024-09-16T08:52:37Z",
                          "publishedAt": "2024-09-16T08:52:36Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Issue with ComputeFiniteStrain - seems unable to solve problem with zero rotation",
          "author": {
            "login": "richmondodufisan"
          },
          "bodyText": "Hi, I am solving a simple problem which involves stretching of a membrane in one direction. I get the following error with ADComputeFiniteStrain:\nCannot take square root of a number less than or equal to zero in the calculation of C1 for the Rashid approximation for the rotation tensor. This zero or negative number may occur when elements become heavily distorted.\nNonlinear solve did not converge due to DIVERGED_FNORM_NAN iterations 0\n\nHowever, if I switch to ComputeIncrementalSmallStrain it works fine. I initially thought the issue was with the stretch ratio of 1.1 (i.e 1.1 times it's original size) being to small to be considered Finite Strain, but then when I increased the ratio to 1.8, I got the same error. I am using an incredibly fine mesh, and since the poisson's ratio is close to 0.5, I also applied a volumetric locking correction.\nI am not sure how to solve this issue. There is no rotation in my problem so the rotation tensor should be zero.",
          "url": "https://github.com/idaholab/moose/discussions/27292",
          "updatedAt": "2024-09-16T07:01:25Z",
          "publishedAt": "2024-04-05T13:41:38Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@gambka @jiangwen84",
                  "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-9024485",
                  "updatedAt": "2024-04-05T17:35:38Z",
                  "publishedAt": "2024-04-05T17:35:37Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "dschwen"
                  },
                  "bodyText": "ComputeFiniteStrain - seems unable to solve problem with zero rotation\n\nIf \"no rotation\" really was the issue then we wouldn't even be able to compute the initial residual or a body at rest with no loading. I'm pretty sure that's not the issue here. It would help if you added a minimal non-working example here.",
                  "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-9024810",
                  "updatedAt": "2024-04-05T18:11:34Z",
                  "publishedAt": "2024-04-05T18:11:24Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "I see. Here's the input file with the issue:\nhttps://github.com/richmondodufisan/purple/blob/main/Cornea_Linear_Elastic/Cornea_Stretch.i",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-9047935",
                          "updatedAt": "2024-04-08T15:26:05Z",
                          "publishedAt": "2024-04-08T15:26:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Hi @dschwen , were you able to take a look? I haven't been able to figure out the reason for the error",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-9286389",
                          "updatedAt": "2024-05-01T15:36:48Z",
                          "publishedAt": "2024-05-01T15:36:48Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "gambka"
                  },
                  "bodyText": "What order elements are you using? The volumetric_locking_correction is not required for higher (second) order elements. What happens if you set the decomposition_method = EigenSolution instead of the default TaylorExpansion?",
                  "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-9025423",
                  "updatedAt": "2024-04-05T19:24:20Z",
                  "publishedAt": "2024-04-05T19:24:19Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "I was using using first order elements. When I switched the decomposition_method, it didn't converge, the non-linear residual stayed at the same order of magnitude. I tried switching to 2nd order elements (and I took out the volumetric_locking_correction) but it still did the same thing. Here is the input file:\nhttps://github.com/richmondodufisan/purple/blob/main/Cornea_Linear_Elastic/Cornea_Stretch.i",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-9047923",
                          "updatedAt": "2024-04-08T15:25:28Z",
                          "publishedAt": "2024-04-08T15:25:27Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Hi @gambka , were you able to take a look? I haven't been able to figure out the issue yet",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-9286393",
                          "updatedAt": "2024-05-01T15:37:15Z",
                          "publishedAt": "2024-05-01T15:37:14Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "A few suggestions:\n\nRamp up displacement bc with time -- allow the solve to fail and time step to be cut.\nSet preset=false in the bcs.\nTurn off line search.",
                  "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-9301771",
                  "updatedAt": "2024-05-03T04:19:03Z",
                  "publishedAt": "2024-05-03T04:19:02Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Just came back to this, and setting preset = false worked! thanks! I checked the documentation and it says that determines Whether or not to preset the BC (apply the value before the solve begins). I'm not fully sure what that means, could you explain further? For a steady state solve, don't the BCs have to be prescribed before solving the Kd=F system? Since the system isn't solved by direct inversion and is instead solved iteratively, does this mean on the first iteration no BCs are defined? Would it be good practice to always set preset=false (i.e is one more accurate than the other?)?",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10087899",
                          "updatedAt": "2024-07-18T18:17:37Z",
                          "publishedAt": "2024-07-18T18:16:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "It means whether to just set the degrees of freedom (preset = true, default) for the boundary displacements directly and take them off the system solve\nor whether to solve for them\nthe difference is that setting them directly can destroy the boundary elements, making their volume negative for example",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10088307",
                          "updatedAt": "2024-07-18T19:05:16Z",
                          "publishedAt": "2024-07-18T19:05:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Hi @hugary1995 @GiudGiud\nI tried to run a slightly modified version of this problem, i.e I didn't restrain the top and bottom of the plate (they were previously restrained), and pulled it apart horizontally. Basically a more realistic uniaxial tension test. I couldn't get a convergent solution with ComputeFiniteStrain.\nI found this old thread #20285 where @cbolisetti mentioned that MOOSE cannot model nonlinearities yet. Could this be the issue? Since I expect geometric nonlinearities due to the large deformation (material is incompressible and I'm applying stretch values of up to 1.8, so I expect it to deform considerably)",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10160304",
                          "updatedAt": "2024-07-26T13:22:51Z",
                          "publishedAt": "2024-07-26T13:22:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I found this old thread #20285 where @cbolisetti mentioned that MOOSE cannot model nonlinearities yet\n\nthis was likely in a very specific context. We use a nonlinear solve for most things.\n\nI didn't restrain the top and bottom of the plate (they were previously restrained),\n\nThis is likely the problem. Please make sure there is no parasitic translation or rotation mode. If they are in the nullspace, then any solution with any amount of these modes is still a solution. Some solvers dont like that",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10160585",
                          "updatedAt": "2024-07-26T13:50:44Z",
                          "publishedAt": "2024-07-26T13:50:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "First off, the solid mechanics module definitely can handle geometric nonlinearities, that's in a sense all we do... @cbolisetti was meant to say certain types of elements (shell, beam, etc) do not have such support yet, which doesn't seem like what you are using anyways.\nNow back to your question: Theoretically speaking, if your material model satisfies polyconvexity, the material model Jacobian is exact, and the boundary condition increment is small enough within the current step, it's guaranteed to converge. Several things could hinder convergence in practice:\n\nYou are using a custom material model -- that we can't really help, as it's the user's responsibility of using a well formed material model.\nThe custom material model has an inexact Jacobian -- use AD or hand calculate the Jacobian more carefully.\nThe solid mechanics module is giving you inexact Jacobian outside the material model, which is possible with the old system -- using AD should fix that as well.\nBC increment not small enough -- let the solve fail, and MOOSE should reattempt the solve with a small time step size.\nTurning off line search might help with plasticity, nearly incompressible material, etc.\nPreset BC might make things worse, as we discussed before.",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10160612",
                          "updatedAt": "2024-07-26T13:53:54Z",
                          "publishedAt": "2024-07-26T13:53:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "I didn't restrain the top and bottom of the plate (they were previously restrained),\n\nThis is likely the problem. Please make sure there is no parasitic translation or rotation mode. If they are in the nullspace, then any solution with any amount of these modes is still a solution. Some solvers dont like that\n\nThat is a very good point as well.",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10160621",
                          "updatedAt": "2024-07-26T13:54:51Z",
                          "publishedAt": "2024-07-26T13:54:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "This is a rough sketch of what I'm expecting:\n\nif I restrain the top and bottom then I won't be able to get this deformed shape. In the input file https://github.com/richmondodufisan/purple/blob/main/Cornea_Linear_Elastic/Cornea_Stretch_Incremental_Load.i\nI set preset = false on all BCs\nI only used MOOSE provided kernels and material models (ADComputeFiniteStrain, ADComputeFiniteStrainElasticStress, etc)\nI ramped up the displacement BC up to 1/100 of the desired value\nThe material is nearly incompressible, so I set line search = none and also set volumetric_locking_correction = true\nI am using a very fine mesh with second order elements (first order also did not converge)\nWhat else can I do to get a convergent solution?",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10160840",
                          "updatedAt": "2024-07-26T14:19:21Z",
                          "publishedAt": "2024-07-26T14:19:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "could you restrain a node on the left center, a node on the center of the right surface, and the very center node\nI think this would not change the solution at all? and it would kill a number of translational and rotational modes. You'd still miss the rotation around the center axis",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10161073",
                          "updatedAt": "2024-07-26T14:34:18Z",
                          "publishedAt": "2024-07-26T14:32:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Instead of pulling on both sides, to model this I completely restrained the left side in x and y, and I'm pulling on the right side (applied displacement on the right side only). So that means restraining the center node also would not work.\nI also toggled restraining the right side in y (vertical) but it made no difference.",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10161121",
                          "updatedAt": "2024-07-26T14:39:33Z",
                          "publishedAt": "2024-07-26T14:37:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I completely restrained the left side in x and y,\n\nso is the thinning of the cylinder possible in those conditions?",
                          "url": "https://github.com/idaholab/moose/discussions/27292#discussioncomment-10161202",
                          "updatedAt": "2024-07-26T14:45:54Z",
                          "publishedAt": "2024-07-26T14:45:52Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Issue implementing Neo Hookean material model, unable to converge",
          "author": {
            "login": "richmondodufisan"
          },
          "bodyText": "Hi, I am following the instructions to implement a custom hyperelastic model by inheriting from ComputeLagrangianStressPK1.\nI have a material file, ComputeStrainEnergyNeoHookean  where I calculated the strain energy, W. In that material file, I also calculated and declared the derivative of W wrt F, the deformation gradient (which is the PK1 stress), and the second derivative (which is the tangent operator):\n\t_strain_energy(declareProperty<Real>(_base_name + \"strain_energy\")),\n\t_dWdF(declarePropertyDerivative<RankTwoTensor>(_base_name + \"strain_energy\", _base_name + \"deformation_gradient\")),\t// this is the stress\n\t_d2WdF2(declarePropertyDerivative<RankFourTensor>(_base_name + \"strain_energy\", _base_name + \"deformation_gradient\", _base_name + \"deformation_gradient\")) //this is the tangent operator\n\nI have an \"intermediate\" file, which I called NeoHookeanStressIntermediate, to get those derivatives, and declare them as material properties. I did this because I realized that ComputeLagrangianStressBase is derived from Material instead of DerivativeMaterialInterface, so it could not recognize the command getMaterialPropertyDerivative in my custom constructor.\nFinally, I have the file for calculating the stress, i.e ComputeStressNeoHookean. I overrode the method computeQpPK1Stress(), and within that method, I set\n\t_pk1_stress[_qp] = _dWdF_in[_qp];\n\t\n\t_pk1_jacobian[_qp] = _d2WdF2_in[_qp];\n\nwhere dWdF and d2WdF2 are the derivatives I calculated from my Material file, and declared with my 'intermediate' file.\nI then set up my input file, and tried to run the simulation, but I get the error:\nLEGACY MODES ENABLED:\n This application uses the legacy initial residual evaluation behavior. The legacy behavior performs an often times redundant residual evaluation before the solution modifying objects are executed prior to the initial (0th nonlinear iteration) residual evaluation. The new behavior skips that redundant residual evaluation unless the parameter Executioner/use_pre_smo_residual is set to true. To remove this message and enable the new behavior, set the parameter 'use_legacy_initial_residual_evaluation_behavior' to false in *App.C. Some tests that rely on the side effects of the legacy behavior may fail/diff and should be re-golded.\n\n\nPostprocessor Values:\n+----------------+----------------+\n| time           | displace_x     |\n+----------------+----------------+\n|   0.000000e+00 |   0.000000e+00 |\n+----------------+----------------+\n\nPre-SMO residual: 8.24621e-05\n\nPerforming automatic scaling calculation\n\n 0 Nonlinear |R| = 8.246211e-05\n    Linear solve did not converge due to DIVERGED_PC_FAILED iterations 0\n                   PC failed due to FACTOR_NUMERIC_ZEROPIVOT\n  Nonlinear solve did not converge due to DIVERGED_LINE_SEARCH iterations 0\n Solve Did NOT Converge!\nCurrently Executing\n  Finished Solving                                                                       [  5.58 s] [  208 MB]\nAborting as solve did not converge\n\nAs for the legacy residual stuff, I'm guessing it has to do with my app? I created it in 2023 and recently updated MOOSE. How can I update my app?\nBut that said, I'm guessing the FACTOR_NUMERIC_ZEROPIVOT comes from the material properties (stress and tangent operators, maybe?).\nAlso, how can I enforce the incompressibility constraint?\nThe input file is here: https://github.com/richmondodufisan/purple/tree/main/Cornea_Hyperelastic_NeoHookean\nAnd the Material files are in my app's folders",
          "url": "https://github.com/idaholab/moose/discussions/28622",
          "updatedAt": "2024-09-16T07:01:10Z",
          "publishedAt": "2024-09-14T03:54:01Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nFor the legacy stuff you can see this message\nhttps://mooseframework.inl.gov/newsletter/2024/2024_04.html\nFor the convergence issues, you can try adding a pc_factor_shift of NONZERO to the petsc options to see if that helps.\nIf it is truly a problem with the material properties, it likely wont be enough.\nYou can get more information on how many DOFs are affected using the svd monitor on a small problem.\nSee this page for more troubleshooting help\nhttps://mooseframework.inl.gov/moose/application_usage/failed_solves.html\nI would also output all the material properties to exodus and first look for those that are zero when they should not be, then try to match them by hand calculations",
                  "url": "https://github.com/idaholab/moose/discussions/28622#discussioncomment-10646353",
                  "updatedAt": "2024-09-14T12:46:50Z",
                  "publishedAt": "2024-09-14T12:46:50Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Thank you, adding \"-pc_factor_shift_type\" NONZERO worked.\nThe second issue I mentioned was enforcing the incompressibility constraint. Now, instead of just defining\nPK1_stress = dW/dF,\nI want to add the incompressibility constraint with a Lagrange Multiplier by:\nPK1_stress = dW/dF - p*F.inv()\nEDIT: The kernel enforcing the constraint should be (J - 1) * del_p where del_p is the variation of the pressure. But my solution isn't converging.",
                          "url": "https://github.com/idaholab/moose/discussions/28622#discussioncomment-10647663",
                          "updatedAt": "2024-09-14T18:33:54Z",
                          "publishedAt": "2024-09-14T16:23:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "If you are just trying to add a new term to the equation you can definitely do that with an extra kernel.\nI don't know enough to help further on this topic",
                          "url": "https://github.com/idaholab/moose/discussions/28622#discussioncomment-10647891",
                          "updatedAt": "2024-09-14T17:08:04Z",
                          "publishedAt": "2024-09-14T17:08:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "No worries, thank you for your help still. How can I export all material properties to exodus?",
                          "url": "https://github.com/idaholab/moose/discussions/28622#discussioncomment-10648358",
                          "updatedAt": "2024-09-14T18:37:26Z",
                          "publishedAt": "2024-09-14T18:37:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "In every material block you can specify which properties to output (or use 'all') and which output for them (or use 'all')",
                          "url": "https://github.com/idaholab/moose/discussions/28622#discussioncomment-10648608",
                          "updatedAt": "2024-09-14T19:42:14Z",
                          "publishedAt": "2024-09-14T19:42:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "I have figured out the problem, but I am not sure how to solve it. For the first implementation I did before enforcing compressibility, I was getting results for any stretch ratio. However, when I set the view type to wireframe, I found that only one element was being stretched.\nThis kind of makes sense as the strain energy was defined as a function of the deformation gradient, and so basically what I assume happened is that the deformation gradient was only non-zero where the boundary condition was applied:\n\nThen I implemented the incompressible case, and now the volume is not allowed to change, so it only converged for very, very small applied displacements:\n\nI'm not sure if I'm not retrieving the deformation gradient properly or if it is something else. I thought maybe I could try using an UpdatedLagrangianFormulation and also running it quasistatically (so it would update as I went along), but for some reason after changing to UpdatedLagrangianStressDivergence it keeps giving an error to add \"use_displaceed_mesh = true\" even though I already added it! It's like it can't see it in my input file for some reason.\nSo I switched back to TotalLagrangian, and still tried to run it quasistatically. But it still didn't deform beyond the first element.\nWas I wrong to define my strain energy based off of \"deformation_gradient\"?\n@hugary1995 @dschwen mentioning you because this thread is a follow up to #27292\nThe mentioned file is test_2.i\nhttps://github.com/richmondodufisan/purple/tree/main/Cornea_Hyperelastic_NeoHookean",
                          "url": "https://github.com/idaholab/moose/discussions/28622#discussioncomment-10648862",
                          "updatedAt": "2024-09-14T21:03:50Z",
                          "publishedAt": "2024-09-14T21:01:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "For the incompressible Neo-Hookean model implemented, these are the details below:\nFirst, the potential energy functional is defined as:\n\nwith p, the pressure being an arbitrary lagrangian multiplier to enforce J = 1. When the variation wrt F, the deformation gradient is taken, we get the PK1 stress i.e\n\nWhich is used in the stressdivergence kernel, and then when the variation wrt to p is taken, we get\n(J - 1) * del_p\nwhich is implemented to enforce the incompressibility constraint.\nThe strain energy function was taken from COMSOL documentation for the Neo Hookean model, i.e\n\nwhere:\n\nand I_1 = trace(C_el)",
                          "url": "https://github.com/idaholab/moose/discussions/28622#discussioncomment-10648927",
                          "updatedAt": "2024-09-14T21:16:38Z",
                          "publishedAt": "2024-09-14T21:15:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "I also implemented it by numerically differentiating myself (instead of getMaterialPropertyDerivative), and I have slightly better results than before, but it still will not converge beyond higher values. I guess I am now sure that getMaterialPropertyDerivative does not calculate the derivative of a scalar wrt a tensor properly.\nThe disp_x and y profiles look reasonable, with the y almost giving the dog bone shape. But I am still not sure where else the convergence issue could be from. I don't know why none of these are not converging beyond a 1% displacement, whether the MOOSE LinearElastic model or my own custom hyperelastic model.\n\n\ntest_3.i\nhttps://github.com/richmondodufisan/purple/tree/main/Cornea_Hyperelastic_NeoHookean",
                          "url": "https://github.com/idaholab/moose/discussions/28622#discussioncomment-10649959",
                          "updatedAt": "2024-09-16T06:42:44Z",
                          "publishedAt": "2024-09-15T03:34:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "richmondodufisan"
                          },
                          "bodyText": "Hi, I found the source of the problem. To get it to converge to the right solution I:\n-Switched to manual numerical differentiation, was able to get at least one converged timestep. Apparently, the getMaterialPropertyDerivative cannot do tensor differentiation.\n-Switched to a penalty method. The PC failed due to FACTOR_NUMERIC_ZEROPIVOT was coming from the extra field (pressure), and there was no boundary condition to set to it. After implementing that that went away.\n-Switched to PK2 formulation (probably didnt do as much to help)\n-Set low floating point values to zero, they were coming up in the deformation gradient and seemed to throw the solution in the opposite direction? (see the last result above). I'm not sure how but I remember this being the last thing I did before it worked.\n\n\nAll this was because I couldn't get a similar problem to converge for MOOSE's linear elastic material for any deformation more than 1%. Maybe using a nearly incompressible poissons ratio on a linear elastic material really is that stiff even with stabilize_strain?",
                          "url": "https://github.com/idaholab/moose/discussions/28622#discussioncomment-10656076",
                          "updatedAt": "2024-09-16T07:00:08Z",
                          "publishedAt": "2024-09-16T06:59:18Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}