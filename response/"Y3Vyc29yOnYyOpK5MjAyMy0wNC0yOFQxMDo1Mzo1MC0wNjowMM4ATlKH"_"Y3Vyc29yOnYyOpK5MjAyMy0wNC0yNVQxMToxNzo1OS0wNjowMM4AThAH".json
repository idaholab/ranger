{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMy0wNC0yNVQxMToxNzo1OS0wNjowMM4AThAH"
    },
    "edges": [
      {
        "node": {
          "title": "Use of AuxVariable in functions",
          "author": {
            "login": "TLWise"
          },
          "bodyText": "I would like to take the value of an aux variable and apply it as a boundary condition. Is there a simple way to do that? The aux variable of course varies in space and time.",
          "url": "https://github.com/idaholab/moose/discussions/24217",
          "updatedAt": "2023-06-24T19:49:11Z",
          "publishedAt": "2023-04-28T16:21:28Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "There's a matchedValueBC but I dont know how well it will work with aux. Please let us knw",
                  "url": "https://github.com/idaholab/moose/discussions/24217#discussioncomment-5756498",
                  "updatedAt": "2023-04-28T16:23:21Z",
                  "publishedAt": "2023-04-28T16:23:20Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "TimePeriod Command of boundary conditions",
          "author": {
            "login": "nourriahi"
          },
          "bodyText": "Hi Everyone,\nI am trying to create a boundary condition that is disabled at a certain time step while a new one will be enabled afterwards, I have followed the instructions on the TimePeriod and ControlsSystem sections but I am still having some problems.\nMy source file for the BCs \"HeatConductionOutFlow\" :\nHeatConductionOutFlow::validParams()\n{\n  InputParameters params = ADIntegratedBC::validParams();\n  params.addRequiredParam<Real>(\"value\", \"Value of the BC\");\n  params.declareControllable(\"value\");\n  params.addClassDescription(\"Imposes the essential boundary condition $u=g$, where $g$ \"\n                             \"is a constant, controllable value.\");\n  params.addClassDescription(\"Compute the outflow boundary condition\");\n  params.set<bool>(\"use_displaced_mesh\") = true;\n  params.addParam<MaterialPropertyName>(\n    \"chtc\", \"chtc\",\"Property name of the convective heat transfer coefficient.\");\n  params.addParam<MaterialPropertyName>(\n    \"rhtc\", \"rhtc\", \"Property name of the radiative heat transfer coefficient.\");\n  params.addParam<MaterialPropertyName>(\n    \"T_infinity\", \"T_infinity\",\"Propery name of the initial temperature value.\");\n  params.addParam<MaterialPropertyName>(\n    \"qs\", \"qs\", \"Property name of the surface heat flux\");\n  return params;\n}\n\nHeatConductionOutFlow::HeatConductionOutFlow(const InputParameters & parameters)\n    : ADIntegratedBC(parameters), \n       _value(getParam<Real>(\"value\")),\n       _T_infinity(getADMaterialProperty<Real>(\"T_infinity\")),\n       _chtc(getADMaterialProperty<Real>(\"convective_heat_transfer_coefficient\")),\n       _rhtc(getADMaterialProperty<Real>(\"radiation_heat_transfer_coefficient\")),\n       _qs(getADMaterialProperty<Real>(\"surface_heat_flux\"))\n\n{ \n}\n\nADReal\nHeatConductionOutFlow::computeQpResidual()\n{\nreturn - _test[_i][_qp] * _qs[_qp] + _test[_i][_qp] * ((_chtc[_qp] * (_T_infinity[_qp] - _u[_qp])) + (_rhtc[_qp] * ((_T_infinity[_qp] * _T_infinity[_qp] * _T_infinity[_qp] * _T_infinity[_qp]) - (_u[_qp] * _u[_qp] * _u[_qp] * _u[_qp]))));\n}\n\n\nInput file :  \n\n[BCs]\n  [inlet_temperature]\n    type = HeatConductionOutFlow\n    variable = temperature\n    boundary = right\n    value = 1e-8\n[]\n\n  [outlet_temperature]\n    type = DirichletBC\n    variable = temperature\n    boundary = left\n    value = 600 # (K)\n  []\n[]\n\n[Controls]\n  [./BCs]\n    type = TimePeriod\n    enable_objects = 'inlet_temperature::DirichletBC'\n    disable_objects = '*::HeatConductionOutFlow'\n    start_time = '0'\n    end_time = '1e-8'\n    [../]\n[]\n\n\n*** ERROR ***\nThe following error occurred in the object \"BCs\", of type \"TimePeriod\".\n\nThe desired parameter 'inlet_temperature::DirichletBC/enable' was not located for the 'BCs' object, it either does not exist or has not been declared as controllable.",
          "url": "https://github.com/idaholab/moose/discussions/24213",
          "updatedAt": "2023-06-24T19:51:23Z",
          "publishedAt": "2023-04-28T15:45:50Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nBCs are not controllable at this time I think.\nHave you found an example doing this?\nI think most people use a Function and just define a time dependent profile.\nWhat are you going to replace the dirichlet BC with after that time? Just zero current?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/24213#discussioncomment-5756207",
                  "updatedAt": "2023-06-24T19:51:03Z",
                  "publishedAt": "2023-04-28T15:51:29Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "nourriahi"
                          },
                          "bodyText": "Now, I tried something different, it run successfully but the physics that I want to apply are not correct. (I want to impose a heat flux at the beginning that stops at t=1e-7 \"right\" and later a constant temperature of 600k from the right side which is \"right 2\" that continues until the end of the simulation.\nwhat I noticed that was happening is no continuity in the temperature values and a jump from 2000k to 630k in the following time steps.\nhere is the input file:\n[BCs]\n  [right]\n    type = HeatConductionOutFlow\n    variable = temperature\n    boundary = right\n    value = 600\n    []\n\n  [right2]\n    type = DirichletBC\n    variable = temperature\n    boundary = right\n    value = 600\n  []\n\n  [left]\n    type = DirichletBC\n    variable = temperature\n    boundary = left\n    value = 600 # (K)\n  []\n[]\n\n[Controls]\n  [period0]\n    type = TimePeriod\n    disable_objects = 'BoundaryCondition::right2'\n    start_time = '0'\n    end_time = '1e-7'\n    execute_on = 'initial timestep_begin'\n  []\n\n  [period2]\n    type = TimePeriod\n    disable_objects = 'BCs/right'\n    start_time = '1.1e-7'\n    execute_on = 'initial timestep_begin'\n  []\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/24213#discussioncomment-5756424",
                          "updatedAt": "2023-06-24T19:51:14Z",
                          "publishedAt": "2023-04-28T16:15:19Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "PorousFlow issues when running in parallel",
          "author": {
            "login": "lloyd-5731"
          },
          "bodyText": "Hi there,\nI am experiencing issues when running in parallel on our cluster.\nSome of the simple models in this porous flow example are exhibiting strangely shaped flow fronts. The ideal case is two approaching vertical flow fronts.\nI believe that this is linked to issue #22478 that @GiudGiud  and I were looking a\nI have completely stripped back the input file to a simple Porous Flow MWE, and it is still exhibiting the same issues.\nA few more things:\n\nThe strange behaviour is only happening in parallel\nReplicated and distributed give different results\nThe strange behaviour is not obvious on simpler meshes (hence this is an MWE)\nAlso that I'm using a custom capillary pressure formulation which enables a distinct flow front\n\nHas anyone got any ideas what might be causing this\n\nt.\n^this example has fluid being pushed in from both the left and the right boundary. The flow from the right side seems normal, from the left the flow front seems incorrect however. This example is run on 48 cores.\n\n\nHere is my input file:\n\n\n# 2D single phase unsaturated porous flow \n# All units in SI unless otherwise stated\n\nP0 = 101e3      # Injection pressure\nrho = 920       # Density\nk = 2.5e-11       # Permeability\nphi = 0.45      # Porosity\nT = 403\nmu = 1\n\n[Mesh]\n    [plate]\n        type = GeneratedMeshGenerator\n        dim = 3\n        xmax = 0.813\n        ymax = 0.559\n        zmax = 0.0024\n        nx = 40\n        ny = 30\n        nz = 1\n        elem_type = TET4\n    []\n[]\n\n\n[UserObjects]\n    [dictator]  \n        type = PorousFlowDictator\n        porous_flow_vars = porepressure\n        number_fluid_phases = 1\n        number_fluid_components = 1\n    []\n    [pc]\n        type = CustomCapillaryPressure\n        p_max = 1000\n        epsilon = 80\n        log_extension = false\n    []\n[]\n\n[GlobalParams]\n    PorousFlowDictator = dictator\n    gravity = '0 0 0'\n[]\n\n[Variables]\n    [porepressure]\n        initial_condition = 0\n    []\n\n[]\n\n[Kernels]\n    [dmdt]\n        type = PorousFlowMassTimeDerivative\n        variable = porepressure\n    []\n    [flux]\n        type = PorousFlowAdvectiveFlux\n        variable = porepressure\n    []\n[]\n\n[AuxVariables]\n    [saturation]\n        family = MONOMIAL\n        order = CONSTANT\n    []\n[]\n\n[AuxKernels]\n    [saturation]\n        type = PorousFlowPropertyAux\n        variable = saturation\n        property = saturation\n    []\n[]\n\n[BCs]\n    [injection]\n        type = DirichletBC\n        variable = porepressure\n        boundary = 'left right'\n        value = ${P0}\n    []\n[]\n\n[Modules]\n    [FluidProperties]\n        [liquid]\n            type = SimpleFluidProperties\n            density0 = ${rho}\n            viscosity = ${mu}\n        []\n    []\n[]\n\n[Materials]\n\n    [porosity]\n        type = PorousFlowPorosity\n        porosity_zero = ${phi}\n    []\n    [permeability]\n        type = PorousFlowPermeabilityConst\n        permeability = '${k} 0 0   0 ${k} 0   0 0 ${k}'\n    []\n    [saturation_calculator]\n        type = PorousFlow1PhaseP\n        porepressure = porepressure\n        capillary_pressure = pc\n    []\n    [temperature]\n        type = PorousFlowTemperature\n        temperature = ${T}\n    []\n    [massfrac]\n        type = PorousFlowMassFraction\n    []\n    [liquid]\n        type = PorousFlowSingleComponentFluid # LSPorousFlowSingleComponentFluid\n        fp = liquid\n        phase = 0\n    []\n    [relperm]\n        type = PorousFlowRelativePermeabilityCorey\n        n = 3\n        s_res = 0.1\n        sum_s_res = 0.1\n        phase = 0\n    []\n[]\n\n[Preconditioning]\n    [smp]\n        type = SMP\n        full = true\n        \n        petsc_options_iname = '-pc_type -pc_factor_mat_solver_package'\n        petsc_options_value = ' lu       mumps'\n    []\n    \n[]\n\n[Executioner]\n    type = Transient\n    solve_type = 'NEWTON'\n    end_time = 20000\n\n    [TimeStepper]\n        type = SolutionTimeAdaptiveDT\n        dt = 1\n    []\n    automatic_scaling = true\n    nl_abs_tol = 2e-12 \n[]\n\n[Outputs]\n    exodus = true\n    print_linear_residuals = false\n    file_base = \"MyModel-${jobnumber}\"\n[]\n\n\n\n\n\nHere is my custom capillary pressure:\n\n\n#pragma once\n\n#include \"PorousFlowCapillaryPressure.h\"\n#include <cmath>\n\nclass CustomCapillaryPressure : public PorousFlowCapillaryPressure\n{\npublic:\n  static InputParameters validParams();\n\n  CustomCapillaryPressure(const InputParameters & parameters);\n\n  virtual Real capillaryPressureCurve(Real saturation, unsigned qp = 0) const override;\n  virtual Real dCapillaryPressureCurve(Real saturation, unsigned qp = 0) const override;\n  virtual Real d2CapillaryPressureCurve(Real saturation, unsigned qp = 0) const override;\n\n  virtual Real effectiveSaturation(Real pc, unsigned qp = 0) const override;\n  virtual Real dEffectiveSaturation(Real pc, unsigned qp = 0) const override;\n  virtual Real d2EffectiveSaturation(Real pc, unsigned qp = 0) const override;\n\nprotected:\n  const Real _p_min;\n  const Real _p_max;\n  const Real _epsilon;\n};\n\n\n\n#include \"CustomCapillaryPressure.h\"\n\nregisterMooseObject(\"MyApp\", CustomCapillaryPressure);\n\nInputParameters\nCustomCapillaryPressure::validParams()\n{\n  InputParameters params = PorousFlowCapillaryPressure::validParams();\n  params.addRequiredParam<Real>(\"p_max\", \"Maximum pressure at flow front (above which S=1)\");\n  params.addParam<Real>(\"p_min\", 0, \"Minimum pressure at flow front (below which S=0)\");\n  params.addParam<Real>(\"epsilon\",\n                        \"Epsilon parameter, determines stretch of pressure saturation curve\");\n  params.addClassDescription(\"Custom pressure saturation relationship\");\n  return params;\n}\n\nCustomCapillaryPressure::CustomCapillaryPressure(const InputParameters & parameters)\n  : PorousFlowCapillaryPressure(parameters),\n    _p_min(getParam<Real>(\"p_min\")),\n    _p_max(getParam<Real>(\"p_max\")),\n    _epsilon(getParam<Real>(\"epsilon\"))\n{\n}\n\nReal\nCustomCapillaryPressure::capillaryPressureCurve(Real saturation, unsigned /*qp*/) const\n{\n  return 0;\n}\n\nReal\nCustomCapillaryPressure::dCapillaryPressureCurve(Real saturation, unsigned /*qp*/) const\n{\n  return 0;\n}\n\nReal\nCustomCapillaryPressure::d2CapillaryPressureCurve(Real saturation, unsigned /*qp*/) const\n{\n  return 0;\n}\n\nReal\nCustomCapillaryPressure::effectiveSaturation(Real pc, unsigned /*qp*/) const\n{\n\n  const float p0 = _p_min + (_p_max - _p_min) / 2;\n  return 1 / (1 + std::exp((p0 - pc) / _epsilon));\n}\n\nReal\nCustomCapillaryPressure::dEffectiveSaturation(Real pc, unsigned /*qp*/) const\n{\n  const float p0 = _p_min + (_p_max - _p_min) / 2;\n  return (std::exp((p0 - pc) / _epsilon)) /\n         (_epsilon * std::pow(std::exp((p0 - pc) / _epsilon) + 1, 2));\n}\n\nReal\nCustomCapillaryPressure::d2EffectiveSaturation(Real pc, unsigned /*qp*/) const\n{\n  const float p0 = _p_min + (_p_max - _p_min) / 2;\n  return (std::exp((2 * p0 + pc) / _epsilon) - std::exp((p0 + 2 * pc) / _epsilon)) /\n         (std::pow(_epsilon, 2) * std::pow(std::exp(p0 / _epsilon) + std::exp(pc / _epsilon), 3));\n}",
          "url": "https://github.com/idaholab/moose/discussions/24121",
          "updatedAt": "2023-06-24T22:31:58Z",
          "publishedAt": "2023-04-19T15:09:30Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "lloyd-5731"
                  },
                  "bodyText": "Any Ideas?",
                  "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5729862",
                  "updatedAt": "2023-04-26T10:27:28Z",
                  "publishedAt": "2023-04-26T10:27:28Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "hello. I ll try to have a look today",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5733115",
                          "updatedAt": "2023-04-26T15:21:24Z",
                          "publishedAt": "2023-04-26T15:21:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Is this what I should see in serial?",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5733623",
                          "updatedAt": "2023-04-26T16:02:31Z",
                          "publishedAt": "2023-04-26T16:02:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lloyd-5731"
                          },
                          "bodyText": "Thank you @GiudGiud.\nThis is what I see (and expect to see) with the porepressure in serial.\n\nAnd this is with the saturation.",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5743294",
                          "updatedAt": "2023-04-27T13:47:03Z",
                          "publishedAt": "2023-04-27T13:47:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Umm I dont see that, and I dont think I modified the inputs.\nAre you using an old moose or petsc by any chance?\nany modifications from the inputs you posted?",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5743784",
                          "updatedAt": "2023-04-27T14:32:03Z",
                          "publishedAt": "2023-04-27T14:32:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lloyd-5731"
                          },
                          "bodyText": "I really appreciate you getting involved, thank you.\n\nDo you add the CustomCapillaryPressure files added?\nThe Moose version is from this month.\nThere are no other modifications apart from the capillary pressure.",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5743830",
                          "updatedAt": "2023-04-27T14:35:53Z",
                          "publishedAt": "2023-04-27T14:35:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I did add those two files in my porous flow folder.\nLet me try again from scratch",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5743852",
                          "updatedAt": "2023-04-27T14:37:56Z",
                          "publishedAt": "2023-04-27T14:37:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "oh that was an artefact in paraview when looking at all the sidesets as well",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5744068",
                          "updatedAt": "2023-04-27T14:52:53Z",
                          "publishedAt": "2023-04-27T14:52:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lloyd-5731"
                          },
                          "bodyText": "Ok, do yo get the same results that I do for this case then?",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5744154",
                          "updatedAt": "2023-04-27T15:00:13Z",
                          "publishedAt": "2023-04-27T15:00:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "threads, serial and replicated meshes seem to agree.\nI m running distributed right now. What problem should I be seeing?",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5744169",
                          "updatedAt": "2023-04-27T15:01:16Z",
                          "publishedAt": "2023-04-27T15:01:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "looks the same so far for distributed.\nHow long do I need to wait to see this image you pasted?\nRun to completion at 20k seconds?",
                          "url": "https://github.com/idaholab/moose/discussions/24121#discussioncomment-5744206",
                          "updatedAt": "2023-04-27T15:04:37Z",
                          "publishedAt": "2023-04-27T15:04:36Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Executing the function computeproperty() in my own Material object only once at the start time.",
          "author": {
            "login": "6ImmortalFish6"
          },
          "bodyText": "I'm wondering how can I  make my custom material object run the computeProperty() function only once after the program starts. For example, if I am conducting transient analysis with a start time of 0s, end time of 10s, and a time step dt of 1s, computeProperty() should be executed every dt during the simulation. How can I modify it to only execute at the beginning and not during any subsequent iterations?\nI came up with a solution, but I encountered a problem in the process. I plan to add an \"if\" statement that uses the initial time value as a criterion. If the current time is different from the initial time, then just skip it. However, I am uncertain about how to retrieve the initial time value in the Material System. Could you please advise me on how to obtain the initial time value?\nCould you please advise me on how to solve the first problem and second problem?\nThank you very much for your help.",
          "url": "https://github.com/idaholab/moose/discussions/24194",
          "updatedAt": "2023-06-24T22:31:01Z",
          "publishedAt": "2023-04-26T20:27:35Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou can set compute = False in a material.\nIt will then become your responsibility to call the compute routines on the material, from wherever you need it computed\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/24194#discussioncomment-5735948",
                  "updatedAt": "2023-04-26T20:47:46Z",
                  "publishedAt": "2023-04-26T20:47:46Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "You have access to _t_step which is the current time step number.",
                  "url": "https://github.com/idaholab/moose/discussions/24194#discussioncomment-5742474",
                  "updatedAt": "2023-04-27T12:29:20Z",
                  "publishedAt": "2023-04-27T12:29:20Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "There's some examples of materials in tensor_mechanics and phase field that use _t_step\nsuch as\ntensor_mechanics/src/materials/LinearViscoelasticityBase",
                          "url": "https://github.com/idaholab/moose/discussions/24194#discussioncomment-5742514",
                          "updatedAt": "2023-04-27T12:33:40Z",
                          "publishedAt": "2023-04-27T12:33:39Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How do I find the initial elastic strain guess?",
          "author": {
            "login": "Moyiqi"
          },
          "bodyText": "Hello everyone,may I ask a question?\n\nWhen I calculated it in the process above, how do I find the initial elastic strain guess\n\n?\nLily",
          "url": "https://github.com/idaholab/moose/discussions/24181",
          "updatedAt": "2023-04-29T02:45:37Z",
          "publishedAt": "2023-04-26T09:27:35Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "You don't. We do that for you in the material update.",
                  "url": "https://github.com/idaholab/moose/discussions/24181#discussioncomment-5731570",
                  "updatedAt": "2023-04-26T13:19:07Z",
                  "publishedAt": "2023-04-26T13:19:05Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Moyiqi"
                          },
                          "bodyText": "Thanks for your reply, does the system have a default value. But I can't adjust it?\nLily",
                          "url": "https://github.com/idaholab/moose/discussions/24181#discussioncomment-5737441",
                          "updatedAt": "2023-04-27T01:24:11Z",
                          "publishedAt": "2023-04-27T01:24:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "The initial trial elastic strain is set to be equal to the entirety of the mechanical strain (excluding eigenstrain contributions). I am not aware of any other convergent algorithm which uses a different initial guess. However, there is nothing preventing you from making your own stress calculator, in which you can try out different algorithms.",
                          "url": "https://github.com/idaholab/moose/discussions/24181#discussioncomment-5742452",
                          "updatedAt": "2023-04-27T12:27:24Z",
                          "publishedAt": "2023-04-27T12:27:23Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Vector variables don't work with distributed mesh?",
          "author": {
            "login": "Eilloo"
          },
          "bodyText": "Hi all,\nAre vector variables compatible with distributed meshes/Nemesis format?\nThe behaviour I'm seeing is the simulation solves fine, and I can open the Nemesis files in Paraview.\nHowever, the values of my vector variables contain garbage (e+37), and Paraview crashes if I try and go to any non-zero timestep.\nThe other variables look fine, and if I solve using a replicated mesh and exodus output, everything looks normal.\nTo be clear, I have been able to inspect my variables using another tool to see that the e+37 values persist at non-zero timesteps.\nIt seems like there are 3 likely possibilities: Either vector variables are not compatible, or I am consistently setting up something wrong with the input files, or there is a bug here.\nBelow is a MWE to reproduce this:\nfilename = NemesisMWEOut\ninlet_velocity = 1e-4   #Re = 100\n\n[Mesh]\n    [base]\n        type = GeneratedMeshGenerator\n        dim = 2\n        xmin = 0\n        ymin = 0\n        xmax = 10\n        ymax = 2\n        nx = 50\n        ny = 10\n    []\n    allow_renumbering = false\n    parallel_type = DISTRIBUTED\n[]\n\n[Variables]\n    [pressure]\n        family = LAGRANGE\n    []\n    [velocity]\n        family = LAGRANGE_VEC\n    []\n[]\n\n[Materials]\n    [fluid]\n        type = ADGenericConstantMaterial\n        prop_names = 'rho mu cp k'\n        prop_values = '1000 1e-3 1 1'\n    []\n    [ins_mat]\n        type = INSADStabilized3Eqn\n        velocity = velocity\n        pressure = pressure\n        temperature = '288'\n        alpha = 1.0\n    []\n[]\n\n[Kernels]\n    [mass]\n        type = INSADMass\n        variable = pressure\n    []\n    [momentum_advection]\n        type = INSADMomentumAdvection\n        variable = velocity\n    []\n    [momentum_pressure]\n        type = INSADMomentumPressure\n        variable = velocity\n        pressure = pressure\n    []\n    [momentum_viscous]\n        type = INSADMomentumViscous\n        variable = velocity\n    []\n    [mass_pspg]\n        type = INSADMassPSPG\n        variable = pressure\n    []\n[]\n\n[BCs]\n    [inlet]\n        type = VectorDirichletBC\n        variable = velocity\n        values = '${inlet_velocity} 0 0'\n        boundary = left\n    []\n    [outlet]\n        type = ADDirichletBC\n        variable = pressure\n        value = 0\n        boundary = right\n    []\n    [no_slip]\n        type = VectorDirichletBC\n        variable = velocity\n        values = '0 0 0'\n        boundary = 'top bottom'\n    []\n[]\n\n[Preconditioning]\n    [precond]\n        type = SMP\n        full = true\n    []\n[]\n\n[Executioner]\n    type = Steady\n    solve_type = NEWTON\n    petsc_options_iname = '-pc_type -pc_factor_shift_type'\n    petsc_options_value = 'lu       NONZERO'\n[]\n\n[Outputs]\n    [nemesis]\n        type = Nemesis\n        file_base = ${filename}\n        enable = true\n    []\n[]",
          "url": "https://github.com/idaholab/moose/discussions/24135",
          "updatedAt": "2023-04-29T02:34:28Z",
          "publishedAt": "2023-04-20T09:09:37Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "lindsayad"
                  },
                  "bodyText": "Distributed mesh and nemesis output are two distinct features. We test the INSAD implementation with distributed mesh every day on CIVET so I'm very confident that vector variables work with distributed meshes. However, I wouldn't be all that surprised if there are some issues with vector variables and nemesis output. @roystgnr have you ever looked at vector FE types in Nemesis?",
                  "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5676315",
                  "updatedAt": "2023-04-20T17:04:43Z",
                  "publishedAt": "2023-04-20T17:04:42Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "roystgnr"
                          },
                          "bodyText": "I see a unit test for Nemesis with MONOMIAL_VEC (both Replicated and Distributed) ... and that's it.  And that goes down a slightly different code path than LAGRANGE_VEC would, so it's quite possible we have some bug in the latter that isn't tripping a unit test for the former.",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5676828",
                          "updatedAt": "2023-04-20T18:05:02Z",
                          "publishedAt": "2023-04-20T18:05:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "@Eilloo have you run in devel or dbg mode? I am curious whether you trigger any assertions",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5677072",
                          "updatedAt": "2023-04-20T18:35:17Z",
                          "publishedAt": "2023-04-20T18:35:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Eilloo"
                          },
                          "bodyText": "That's encouraging to hear, and sounds like there's a chance the problem is at our end. I haven't run in devel or dbg, no - I'll do some digging there and report back",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5683423",
                          "updatedAt": "2023-04-21T08:20:45Z",
                          "publishedAt": "2023-04-21T08:20:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Eilloo"
                          },
                          "bodyText": "Out of interest, are you using Nemesis output file type, or something else for your own cases?",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5686459",
                          "updatedAt": "2023-04-21T13:39:20Z",
                          "publishedAt": "2023-04-21T13:39:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Most of the time exodus, but for large cases on clusters we use nemesis",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5687168",
                          "updatedAt": "2023-04-21T14:36:46Z",
                          "publishedAt": "2023-04-21T14:36:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Eilloo"
                          },
                          "bodyText": "Hmm, the same as us... I have checked that similar behaviour occurs both locally (still using Nemesis output and distributed mesh) and on a cluster. In both instances, exodus output type without distributed mesh is fine.\nI've been trying to run in dbg, but can't seem to get this working both in parallel and on a cluster, since the xterm windows can't be displayed. Right now I don't have the option to do this locally, but I'll report back if I can get it working in one way or another.",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5709602",
                          "updatedAt": "2023-04-24T15:04:53Z",
                          "publishedAt": "2023-04-24T15:04:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You can run in dbg mode without drumming up xterm btw.\nIt s just a matter of using the dbg executable. This will let us know if the dbg version, which has plenty of additional checks built-in, errors out on vector variable outputs",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5709620",
                          "updatedAt": "2023-04-24T15:06:37Z",
                          "publishedAt": "2023-04-24T15:06:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Eilloo"
                          },
                          "bodyText": "Ah okay, so I basically replace the -opt file with the -dbg and see what appears in the .out? So no need to set any breakpoint flags and so forth...",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5709643",
                          "updatedAt": "2023-04-24T15:08:25Z",
                          "publishedAt": "2023-04-24T15:08:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Eilloo"
                          },
                          "bodyText": "The output when running as described above is the same as running the -opt (convergence info etc), with the additional information below appended:\n(edit: This is using 4 processors)\n| Reference count information                                                |\n ---------------------------------------------------------------------------- \n| N7libMesh10FEAbstractE reference count information:\n|  Creations:    279\n|  Destructions: 279\n| N7libMesh10Parameters5ValueE reference count information:\n|  Creations:    7968\n|  Destructions: 7968\n| N7libMesh12SparseMatrixIdEE reference count information:\n|  Creations:    11\n|  Destructions: 11\n| N7libMesh13NumericVectorIdEE reference count information:\n|  Creations:    30\n|  Destructions: 30\n| N7libMesh15EquationSystemsE reference count information:\n|  Creations:    1\n|  Destructions: 1\n| N7libMesh15GhostingFunctorE reference count information:\n|  Creations:    22\n|  Destructions: 22\n| N7libMesh15NonlinearSolverIdEE reference count information:\n|  Creations:    1\n|  Destructions: 1\n| N7libMesh4ElemE reference count information:\n|  Creations:    632\n|  Destructions: 632\n| N7libMesh4NodeE reference count information:\n|  Creations:    561\n|  Destructions: 561\n| N7libMesh5QBaseE reference count information:\n|  Creations:    145\n|  Destructions: 145\n| N7libMesh6DofMapE reference count information:\n|  Creations:    2\n|  Destructions: 2\n| N7libMesh6SystemE reference count information:\n|  Creations:    2\n|  Destructions: 2\n| N7libMesh9DofObjectE reference count information:\n|  Creations:    1193\n|  Destructions: 1193\n ----------------------------------------------------------------------------",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5709702",
                          "updatedAt": "2023-04-24T15:15:13Z",
                          "publishedAt": "2023-04-24T15:13:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Thanks.\nThis means we are not breaking additional checks in debug mode.",
                          "url": "https://github.com/idaholab/moose/discussions/24135#discussioncomment-5709761",
                          "updatedAt": "2023-04-24T15:18:42Z",
                          "publishedAt": "2023-04-24T15:18:42Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Error Using Server to Run Moose",
          "author": {
            "login": "FanZhangchen"
          },
          "bodyText": "Hi Moose Team,\nI updated the Moose and encountered problems when I tried to Makefile in Moose on the server. The error I got is shown below\n/moose/framework/src/base/MooseApp.C:401:48: error: 'class libMesh::Parallel::Communicator' has no member named 'sync_type'      401 |   const_cast<Parallel::Communicator &>(comm()).sync_type(timpi_sync);\nCould you give some suggestions to solve this problem?\nBest,\nzc",
          "url": "https://github.com/idaholab/moose/discussions/24173",
          "updatedAt": "2023-04-29T02:42:50Z",
          "publishedAt": "2023-04-25T08:59:08Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou need to update libmesh.\nmamba update --all if you used mamba,\nOR\nscripts/update_and_rebuild_libmesh.sh if you used the manual installation\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5719160",
                  "updatedAt": "2023-04-25T12:50:58Z",
                  "publishedAt": "2023-04-25T12:20:36Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "When you update MOOSE, you need to update Mamba. When you update Mamba, you need to update MOOSE.",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5719595",
                          "updatedAt": "2023-04-25T12:49:16Z",
                          "publishedAt": "2023-04-25T12:49:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "FanZhangchen"
                          },
                          "bodyText": "Hi,\nI have already used mamba update --all. And it shows that no package needs to be updated. The info is given below\nconda-forge/linux-64                                        Using cache\nconda-forge/noarch                                          Using cache\npkgs/main/linux-64                                            No change\npkgs/main/noarch                                              No change\npkgs/r/linux-64                                               No change\npkgs/r/noarch                                                 No change\nhttps://conda.software.inl.gov/public/noarch                  No change\nhttps://conda.software.inl.gov/public/linux-64                No change\nPinned packages:\n\npython 3.10.*\n\nTransaction\nPrefix: /share/home/ZhangchenFan/mambaforge3/envs/moose\nAll requested packages already installed\nzc",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5726875",
                          "updatedAt": "2023-04-26T04:32:02Z",
                          "publishedAt": "2023-04-26T04:32:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Can you paste the output of \u2018mamba list | grep moose\u2019\nmy guess is that the packages are frozen to an old version due to a dependency resolution issue",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5730492",
                          "updatedAt": "2023-04-26T11:44:58Z",
                          "publishedAt": "2023-04-26T11:44:57Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "FanZhangchen"
                          },
                          "bodyText": "The output is here\n/share/home/ZhangchenFan/mambaforge3/lib/python3.10/site-packages/conda_package_streaming/package_streaming.py:19: UserWarning: zstandard could not be imported. Running without .conda support.\nwarnings.warn(\"zstandard could not be imported. Running without .conda support.\")\n/share/home/ZhangchenFan/mambaforge3/lib/python3.10/site-packages/conda_package_handling/api.py:29: UserWarning: Install zstandard Python bindings for .conda support\n_warnings.warn(\"Install zstandard Python bindings for .conda support\")\npackages in environment at /share/home/ZhangchenFan/mambaforge3/envs/moose:\nmoose-libmesh             2022.11.07              build_2    https://conda.software.inl.gov/public\nmoose-libmesh-vtk         9.1.0               h7a8feb7_16    https://conda.software.inl.gov/public\nmoose-mpich               4.0.2                   build_6    https://conda.software.inl.gov/public\nmoose-petsc               3.16.6                  build_5    https://conda.software.inl.gov/public\nmoose-test-tools          2023.04.04      py310h0c21752_0    https://conda.software.inl.gov/public\nmoose-tools               2023.04.04      py310h0c21752_0    https://conda.software.inl.gov/public\nmoose-wasp                2023.04.04              build_0    https://conda.software.inl.gov/public",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5731091",
                          "updatedAt": "2023-04-26T12:44:47Z",
                          "publishedAt": "2023-04-26T12:44:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "The packages are a year old\nyou ll need to remove the moose mamba environment and reinstall it",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5731324",
                          "updatedAt": "2023-04-26T13:01:15Z",
                          "publishedAt": "2023-04-26T13:01:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "FanZhangchen"
                          },
                          "bodyText": "Thank you. I just want to make sure, should I use the mamba env remove -n moose command first and then install the moose environment with the command mamba create -n moose moose-tools moose-libmesh?",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5731566",
                          "updatedAt": "2023-04-26T13:18:33Z",
                          "publishedAt": "2023-04-26T13:18:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "You'll want to be out of the environment before running the remove (Conda won't allow the deletion of the environment it is currently in)\nmamba deactivate\nmamba activate base\nmamba env remove -n moose\nmamba create -n moose moose-tools moose-libmesh\nIn the future, we're hoping to have something in place in our Makefiles that will be able to quickly spot issues like this (an out of date moose-libmesh for example). Also, we're working on a single Conda package installation theme (like mamba create -n moose moose-dev).",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5731776",
                          "updatedAt": "2023-04-26T13:36:50Z",
                          "publishedAt": "2023-04-26T13:36:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "And the stuck issue you have (mamba update --all not budging)... I really need to fix that. Unfortunately it means practically deleting the entire /public channel and starting over. The \"stuck\" issue is all based on how we were pinning packages a year ago (being to strict).",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5731815",
                          "updatedAt": "2023-04-26T13:39:06Z",
                          "publishedAt": "2023-04-26T13:39:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "FanZhangchen"
                          },
                          "bodyText": "I remove the environment and try to install it. But I found the packages seem to be the same as the ones I removed. I will attach the info\n\nmoose-libmesh                           2022.11.07  build_0               conda.software.inl.gov/public/linux-64     Cached\nmoose-libmesh-vtk                            9.1.0  h7bcc875_14           conda.software.inl.gov/public/linux-64     Cached\nmoose-mpich                                  4.0.2  build_4               conda.software.inl.gov/public/linux-64     Cached\nmoose-petsc                                 3.16.6  build_3               conda.software.inl.gov/public/linux-64     Cached\nmoose-test-tools                        2023.04.04  py310h0c21752_0       conda.software.inl.gov/public/linux-64     Cached\nmoose-tools                             2023.04.04  py310h0c21752_0       conda.software.inl.gov/public/linux-64     Cached\nmoose-wasp                              2023.04.04  build_0               conda.software.inl.gov/public/linux-64     Cached",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5732276",
                          "updatedAt": "2023-04-26T14:16:13Z",
                          "publishedAt": "2023-04-26T14:16:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "These are still the old packages.\nAs Jason mentioned, delete the enrvironment and the channel and try again.\nIf that still does not work, delete mamba/miniconda and try again",
                          "url": "https://github.com/idaholab/moose/discussions/24173#discussioncomment-5733048",
                          "updatedAt": "2023-04-26T15:16:26Z",
                          "publishedAt": "2023-04-26T15:16:21Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "PorousFlowPermeabilityKozenyCarman - derivatives",
          "author": {
            "login": "garciapintado"
          },
          "bodyText": "Hi,\nin PorousFlowPermeabilityKozenyCarman.C  is it possible that:\n```\n_dpermeability_qp_dvar[_qp][v] = _dporosity_qp_dvar[_qp][v] * _permeability_qp[_qp] *\n(_n / _porosity_qp[_qp] + _m / (1.0 - _porosity_qp[_qp]));\nshould be?\n\n_dpermeability_qp_dvar[_qp][v] = _dporosity_qp_dvar[_qp][v] * _permeability_qp[_qp] *\n(_n / _porosity_qp[_qp] - _m / (1.0 - _porosity_qp[_qp]));\n\nand similarly we would have?\n      ```\n_dpermeability_qp_dgradvar[_qp][i][v] =\n          _dporosity_qp_dgradvar[_qp][v](i) * _permeability_qp[_qp] *\n          (_n / _porosity_qp[_qp] - _m / (1.0 - _porosity_qp[_qp]));\n\nSorry if this is wrong.\nJavier",
          "url": "https://github.com/idaholab/moose/discussions/24175",
          "updatedAt": "2023-04-26T06:40:06Z",
          "publishedAt": "2023-04-25T10:49:17Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "It's great to have more pairs of eyes on this, @garciapintado .   I think the current code is correct.  By the chain rule, there is one negative from the negative exponent m (ie (1-phi)^(-m)) and one negative from the minus sign in front of phi.  Both of these multiply to give a positive sign.\nIf you're wondering about derivatives like these, you can probably find an input file in porous_flow/test/tests/jacobian that tests them.  You could modify the code, recompile, and run the test to see what you get.\nA",
                  "url": "https://github.com/idaholab/moose/discussions/24175#discussioncomment-5724867",
                  "updatedAt": "2023-04-25T21:39:14Z",
                  "publishedAt": "2023-04-25T21:39:13Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "garciapintado"
                          },
                          "bodyText": "Argh! You're right as always :-) Many thanks and for the info about the jacobian test",
                          "url": "https://github.com/idaholab/moose/discussions/24175#discussioncomment-5727752",
                          "updatedAt": "2023-04-26T06:40:07Z",
                          "publishedAt": "2023-04-26T06:40:06Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How get Node id, element id and id of quadrature point from Aux kernel ?",
          "author": {
            "login": "KamalnathOSU"
          },
          "bodyText": "Hi all,\nI want to create a nodal aux variable and elemental aux variable. From I want to write a new AuxKernel in my app that uses a unique id of a node and element. I also want a unique id of the local quadrature point.\nIn the framework/src , I noticed the use of \"_current_node->unique_id()\" and \"_current_elem->unique_id()\". Will it give what I want ? Also, how to get a unique_id() of a  quadrature point ?\nI also saw \"_current_node->id()\". How does it differ from \"unique_id()\" ?\nRegards,\nKamal",
          "url": "https://github.com/idaholab/moose/discussions/24152",
          "updatedAt": "2023-04-29T02:44:07Z",
          "publishedAt": "2023-04-21T13:30:16Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThe unique_id is tied to the degree of freedom object class, which is both used by elements and nodes. As such both are indexed, uniquely, there\nhttps://libmesh.github.io/doxygen/classlibMesh_1_1DofObject.html#a906c0c4e74e308757ef3dc77f573dd33\nIf you want unique node or element ids you should use id()\nI dont believe we have unique ids for quadrature points. I think you just use sub-indexing, like the 4th quadrature point on element 22.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/24152#discussioncomment-5687221",
                  "updatedAt": "2023-04-21T14:41:01Z",
                  "publishedAt": "2023-04-21T14:40:59Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "Hi Guillaume! @GiudGiud\nJust to confirm,\nEven if I use distributed mesh with multiple MPI processes, then also \"_current_node->id()\" would give unique global node id right ?",
                          "url": "https://github.com/idaholab/moose/discussions/24152#discussioncomment-5688491",
                          "updatedAt": "2023-04-21T16:45:26Z",
                          "publishedAt": "2023-04-21T16:45:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "For elements for sure.\nNodes should be as well.",
                          "url": "https://github.com/idaholab/moose/discussions/24152#discussioncomment-5691241",
                          "updatedAt": "2023-04-22T02:25:28Z",
                          "publishedAt": "2023-04-22T02:25:28Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "Hi @GiudGiud ,\nI am thinking of creating a unique ID for quadrature points like\nint _qp_max_id=5;\nint _qp_unique_id=_current_elem->id()*_qp_max_id+_qp;\nBut how do I set the value for _qp_max_id for my system ? Is there a variable that stores the total number of quadrature points in a given element ?",
                          "url": "https://github.com/idaholab/moose/discussions/24152#discussioncomment-5722635",
                          "updatedAt": "2023-04-25T17:15:24Z",
                          "publishedAt": "2023-04-25T17:15:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "KamalnathOSU"
                          },
                          "bodyText": "I saw _qrule->n_points() used in some places of the code. Will that do the trick ?  Generally, how MOOSE decides the quadrature rule to be used for numerical integration ?",
                          "url": "https://github.com/idaholab/moose/discussions/24152#discussioncomment-5722688",
                          "updatedAt": "2023-04-25T17:21:32Z",
                          "publishedAt": "2023-04-25T17:21:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Quadrature rule could be block dependent. I swear I thought we had a postprocessor to obtain this\nMOOSE has a default Gauss quadrature, that is of order high enough to integrate exactly the product of shape * test function",
                          "url": "https://github.com/idaholab/moose/discussions/24152#discussioncomment-5722731",
                          "updatedAt": "2023-04-25T17:26:55Z",
                          "publishedAt": "2023-04-25T17:26:55Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "SolidMaterialProperties dependency on solid temperature in THM",
          "author": {
            "login": "quentin-faure"
          },
          "bodyText": "Hey everyone,\nI am using the SolidMaterialProperties (for 2D heat structures in THM) which says that the material properties can be function. I am trying to have these properties be functions of the heat structure temperatures themselves. I have a very lengthy idea of how to do it (evaluation of the temperature at each element of the heat structure using post processors and then feeding them to functions). Is there a better, quicker and more efficient way to do it?\nThanks,",
          "url": "https://github.com/idaholab/moose/discussions/24156",
          "updatedAt": "2023-04-29T02:45:54Z",
          "publishedAt": "2023-04-21T17:58:17Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI'm not sure why post processors would be involved?\nThe code is already dependent on the local heat structure temperature? All the function declarations are \"SolidMaterialProperties::k(const ADReal & temp) const\", with an explicit temperature dependence\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/24156#discussioncomment-5691207",
                  "updatedAt": "2023-04-22T02:09:36Z",
                  "publishedAt": "2023-04-22T02:09:36Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "licharlot"
                  },
                  "bodyText": "Hi Quentin,\nAs Guillaume said, you can set your properties as a function, with the variable tas the temperature. Then use the functions into the SolidMaterialProperties, see the example below. Note that there is also the option to define these properties directly in a Materials block, and omit the parameter materials in the heat structure.\n[Functions]\n  [cp_ss_fn]\n    type = PiecewiseLinear\n    x = '255\t283\t311\t533\t700\t811\t1089\t1367'\n    y = '441.25\t443.75\t461.25\t532.5\t551.25\t563.75\t613.75\t613.75'\n  []\n  [k_ss_fn]\n    type = PiecewiseLinear\n    x = '255\t283\t311\t533\t700\t811\t1089\t1367'\n    y = '12.46\t13.71\t14.16\t17.64\t20.25\t22\t26.36\t26.36'\n  []\n[]\n\n[HeatStructureMaterials]\n  [steel]\n    type = SolidMaterialProperties\n    k = k_ss_fn\n    cp = cp_ss_fn\n    rho = 8000\n  []\n[]",
                  "url": "https://github.com/idaholab/moose/discussions/24156#discussioncomment-5709192",
                  "updatedAt": "2023-04-24T14:30:34Z",
                  "publishedAt": "2023-04-24T14:30:33Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "quentin-faure"
                  },
                  "bodyText": "Hi Guillaume and Lise,\nThank you for the answers, they are very useful.\nQuentin",
                  "url": "https://github.com/idaholab/moose/discussions/24156#discussioncomment-5722658",
                  "updatedAt": "2023-04-25T17:18:00Z",
                  "publishedAt": "2023-04-25T17:17:59Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}