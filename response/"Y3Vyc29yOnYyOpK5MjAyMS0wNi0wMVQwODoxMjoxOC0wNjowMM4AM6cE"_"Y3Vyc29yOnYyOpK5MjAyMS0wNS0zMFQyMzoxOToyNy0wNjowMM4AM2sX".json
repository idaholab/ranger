{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMS0wNS0zMFQyMzoxOToyNy0wNjowMM4AM2sX"
    },
    "edges": [
      {
        "node": {
          "title": "System won't solve unless I have very high nl_rel_tol",
          "author": {
            "login": "Traiwit"
          },
          "bodyText": "Hi guys,\nMy model won't solve unless I set nl_rel_tol to something like 0.9, I tried to increase nl_abs_tol and  l_abs_tol instead, but they don't help.\n\nerror message:\nNonlinear solve did not converge due to DIVERGED_LINE_SEARCH iterations 0\nSolve Did NOT Converge!\n\nI'm running a quasi-static mining simulation with E of 20e9, rapid strain softening (DP model) with the domain size of like 3000^3m, hence the max stress is around 8e7 Pa.\nis there any way to work around nl_rel_tol value? I see the coal mining example coverts everything to MPa instead of Pa, will this help? @WilkAndy\nKind regards,\nTraiwit",
          "url": "https://github.com/idaholab/moose/discussions/17809",
          "updatedAt": "2022-07-26T02:13:04Z",
          "publishedAt": "2021-05-12T06:29:37Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "Working in MPa won't help - it simply scales all the residuals and makes your input file (perhaps) easier to read.\nAre you using Newton or PJFNK or something else?",
                  "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-727569",
                  "updatedAt": "2022-07-26T02:13:07Z",
                  "publishedAt": "2021-05-12T08:12:24Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "I'm using Newton now, will give PJFNK a go though it is much slower (imo) compared to Newton",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-731603",
                          "updatedAt": "2022-07-27T13:17:14Z",
                          "publishedAt": "2021-05-12T23:45:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "Newton is better, i agree.  I think PJFNK will likely bomb out really early, as the model will go into some strange configuration where the plasticity goes nuts.",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-731773",
                          "updatedAt": "2022-07-27T13:17:14Z",
                          "publishedAt": "2021-05-13T01:03:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Yes, I tried PJFNK, didn't work so well + very slow.\nall the simulation works fine if I have nl_rel_tol>0.9 with max_disp of like 2-3 cm (after stopes excavation) for a huge mine model.\nI just feel like nl_rel_tol>0.9 is bad, since most of the example has this value around 1e-3, but if nothing is too wrong about the results, I might have to live with it.\nThanks @WilkAndy",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-731783",
                          "updatedAt": "2022-07-27T13:17:14Z",
                          "publishedAt": "2021-05-13T01:08:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You should not accept a nl_rel_tol of 0.9. The simulation has not converged.\nTry to output the results at two different unconverged step and see if you can see any pattern.\nAlso use the show_residual_norms option to see which variable is lagging behind in convergence.",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-732077",
                          "updatedAt": "2022-07-27T13:17:35Z",
                          "publishedAt": "2021-05-13T04:06:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Thanks @GiudGiud, basically the simulation moves to the next step without having to solve the next non-linear iteration when I use nl_rel_tol of 0.9. I turn off plasticity and see the disp_ and stress results are pretty much 30% different.\nwhere do I use 'show_residual_norms'? i couldn't find it in any example.\nalso is there anywhere else that I can relax simulation so I can reduce nl_rel_tol a little bit more?\nKind regards,\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-732378",
                          "updatedAt": "2022-07-27T13:17:35Z",
                          "publishedAt": "2021-05-13T06:37:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "With a tolerance of 0.9 your solution could be 90% different and the solver would not care.\nIt's a debug output and I mispelled it\n[Debug]\n  show_var_residual_norms = true\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-734197",
                          "updatedAt": "2022-07-27T13:17:59Z",
                          "publishedAt": "2021-05-13T14:47:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Any updates on this?\nWith regards to relaxing the simulation, you could a fixed point iteration process, and use a relaxation factor there.",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-805262",
                          "updatedAt": "2022-07-27T13:18:05Z",
                          "publishedAt": "2021-05-31T05:12:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @GiudGiud and @WilkAndy\nso this error\n\nerror message:\nNonlinear solve did not converge due to DIVERGED_LINE_SEARCH iterations 0\nSolve Did NOT Converge!\n\nis solved by adding use_displaced_mesh = true into every object under the [Kernels] and [UserObject] blocks\nNow simulation solves fine with rapid plastic softening (1/10 coh within 1% damage), but just take much much longer for simulation to converge for nl_rel_tol of less than 0.9 (0.3-0.5).\nnow i'm looking for the way to make the simulation convereg fasting, hence i create a new thread about adaptive convergence criteria.\nAnyway, thanks a lot guys,\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-805340",
                          "updatedAt": "2022-07-27T13:18:08Z",
                          "publishedAt": "2021-05-31T05:48:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "0.3 / 0.5 still seems pretty high.\nWhat is the absolute residual?\nDo you have the output of 'show_var_residual_norms' ?",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-808319",
                          "updatedAt": "2022-07-27T13:18:11Z",
                          "publishedAt": "2021-05-31T19:16:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "I agree with @GiudGiud : 0.3 is still really high.\n\nyou might be almost converged anyway, and that's why @GiudGiud suggested the absolute residual.  If it's really tiny then MOOSE won't converge any more due to precision loss.  Compared with most MOOSE users, I'm a real fan of setting nl_abs_tol , because many PorousFlow simulations suffer from the problem of being almost converged.  You can see a small essay i wrote at https://mooseframework.inl.gov/modules/porous_flow/convergence.html\n@GiudGiud suggested show_var_residual_norms in a [Debug] block because you can see how different Variables might need scaling.   Incorrect scaling can also lead to nonconvergence, and is also mentioned in the above link.\n\nIt is difficult to conclusively say what's wrong.  In mining scenarios with difficult plasticity, i have sometimes had to add damped dynamics to get good convergence.   Have you tried that?",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-808624",
                          "updatedAt": "2022-07-27T13:18:13Z",
                          "publishedAt": "2021-05-31T21:06:05Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "Traiwit"
                  },
                  "bodyText": "what does 'nl_rel_tol' really mean? i see the definition says 'Description:Nonlinear Relative Tolerance', but relative to what?",
                  "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-731599",
                  "updatedAt": "2022-07-27T13:18:48Z",
                  "publishedAt": "2021-05-12T23:44:35Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "jessecarterMOOSE"
                          },
                          "bodyText": "Relative to the initial nonlinear residual (0'th nonlinear |R|) for that step.",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-731768",
                          "updatedAt": "2022-07-27T13:18:48Z",
                          "publishedAt": "2021-05-13T01:00:07Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "If the convergence issue only occurs after the softening stage, you can lag the internal softening variable to get good convergence.",
                  "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-809212",
                  "updatedAt": "2022-07-27T13:18:50Z",
                  "publishedAt": "2021-06-01T03:13:48Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @hugary1995,\nwhat do you mean by 'lag the internal softening variable', do you mean increase internal_limit?\nIf so that will defeat what I want to achieve, we want to do rapid softening where cohesion goes down by 1/10 with 0.5% damage.\n  [./mc_coh]\n    type = TensorMechanicsHardeningCubic\n    value_0 = 5e6\n    value_residual = 5e5\n    internal_limit = 0.005\n    use_displaced_mesh = true\n  [../]\n\nKind regards,\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-809221",
                          "updatedAt": "2022-07-27T13:18:54Z",
                          "publishedAt": "2021-06-01T03:20:28Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "try using execute_on = timestep_end or execute_on = timestep_begin in the above",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-809237",
                          "updatedAt": "2022-07-27T13:18:58Z",
                          "publishedAt": "2021-06-01T03:30:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "I'm a little confused. Maybe I missed some of your earlier discussion. Are you trying to use this hardening model as a softening model? I thought you were using some sort of damage plasticity model. Are you referring to your effective plastic strain as \"damage\"?",
                          "url": "https://github.com/idaholab/moose/discussions/17809#discussioncomment-811077",
                          "updatedAt": "2022-07-27T13:18:57Z",
                          "publishedAt": "2021-06-01T13:43:58Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Dream3d exported file can NOT be read by EBSD_reconstruction module",
          "author": {
            "login": "zengfy-hust"
          },
          "bodyText": "Hello Moose workers:\nI use dream3d to covert EBSD file to INL file .then used it as an initia condition for EBSD_reconstruction module in phase_field module .however ,when I chanege the innput file .Error message was shown as followed\n*** ERROR ***\nThe following error occurred in the object \"ebsd_reader\", of type \"EBSDReader\".\nEBSD Data ouside of the domain declared in the header ([-850:-730], [-0.5:119.5], [0:0]) dim=2\nStack frames: 16\n0: libMesh::print_trace(std::ostream&)\n1: moose::internal::mooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits, std::allocator >, std::__cxx11::basic_string<char, std::char_traits, std::allocator >)\n2: callMooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits, std::allocator >&, MooseApp*)\n3: EBSDReader::readFile()\n4: EBSDReader::EBSDReader(InputParameters const&)\n5: std::shared_ptr moose::internal::buildObj(InputParameters const&)\n6: Factory::create(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, InputParameters&, unsigned int, bool)\n7: FEProblemBase::addUserObject(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, InputParameters&)\n8: Action::timedAct()\n9: ActionWarehouse::executeActionsWithAction(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&)\n10: ActionWarehouse::executeAllActions()\n11: MooseApp::runInputFile()\n12: MooseApp::run()\n13: /home/zengfanyi/projects/moose/modules/phase_field/phase_field-opt(+0x527e) [0x55d01cade27e]\n14: __libc_start_main\n15: /home/zengfanyi/projects/moose/modules/phase_field/phase_field-opt(+0x550d) [0x55d01cade50d]\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1\n:\nsystem msg for write_line failure : Bad file descriptor\nEBSD_reconstruction.zip",
          "url": "https://github.com/idaholab/moose/discussions/17851",
          "updatedAt": "2022-06-27T12:03:31Z",
          "publishedAt": "2021-05-15T13:39:04Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "dschwen"
                  },
                  "bodyText": "The error message indicates that one of the data points has coordinates outside the slab defined in the file's header. I'll take a look at the file. Maybe we can just discard such points and not fuss about it. I'm surprised this has not come up before, though.",
                  "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-744516",
                  "updatedAt": "2022-06-27T12:03:40Z",
                  "publishedAt": "2021-05-15T15:57:47Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "dschwen"
                  },
                  "bodyText": "Looks to me like the header is not well formed. For one, the x_dim, y_dim, z_dim values should all be integers. Also x_dim * x_step + x_min should give you x_max. Please double check your export options or try changing the file manually. E.g. x_dim should be (1.5+850.5)/1.5 = 568.0.",
                  "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-744517",
                  "updatedAt": "2022-06-27T12:03:51Z",
                  "publishedAt": "2021-05-15T16:05:41Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "zengfy-hust"
                  },
                  "bodyText": "thank you ,I will follow your instruction this evening ,and I will let you know if it works well .",
                  "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-744518",
                  "updatedAt": "2022-06-27T12:03:47Z",
                  "publishedAt": "2021-05-16T08:28:13Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "zengfy-hust"
                  },
                  "bodyText": "Hello Moose workers \ud83d\udc4d\nA new error message occured when I change the input file and the EBSD_reconstruction file .I attached both files in this reply just for your better understand for my pronblem.The error meaasge was shown as following :\n*** ERROR ***\nA 'EBDSMeshGenerator' is not a registered object.\nIf you are trying to find this object in a dynamically linked library, make sure that\nthe library can be found either in your \"Problem/library_path\" parameter or in the\nMOOSE_LIBRARY_PATH environment variable.\nStack frames: 21\n0: libMesh::print_trace(std::ostream&)\n1: moose::internal::mooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits, std::allocator >, std::__cxx11::basic_string<char, std::char_traits, std::allocator >)\n2: void mooseError<std::__cxx11::basic_string<char, std::char_traits, std::allocator > >(std::__cxx11::basic_string<char, std::char_traits, std::allocator >&&)\n3: Factory::reportUnregisteredError(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&) const\n4: Factory::getValidParams(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&)\n5: MooseObjectAction::MooseObjectAction(InputParameters)\n6: AddMeshGeneratorAction::AddMeshGeneratorAction(InputParameters)\n7: /home/zengfanyi/projects/moose/framework/libmoose-opt.so.0(+0xf3a968) [0x7f80565dc968]\n8: std::shared_ptr moose::internal::buildAct(InputParameters const&)\n9: ActionFactory::create(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, InputParameters&)\n10: Parser::walkRaw(std::__cxx11::basic_string<char, std::char_traits, std::allocator >, std::__cxx11::basic_string<char, std::char_traits, std::allocator >, hit::Node*)\n11: Parser::walk(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, hit::Node*)\n12: hit::Node::walk(hit::Walker*, hit::NodeType)\n13: hit::Node::walk(hit::Walker*, hit::NodeType)\n14: hit::Node::walk(hit::Walker*, hit::NodeType)\n15: Parser::parse(std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&)\n16: MooseApp::setupOptions()\n17: MooseApp::run()\n18: /home/zengfanyi/projects/moose/modules/phase_field/phase_field-opt(+0x527e) [0x564a0ef9527e]\n19: __libc_start_main\n20: /home/zengfanyi/projects/moose/modules/phase_field/phase_field-opt(+0x550d) [0x564a0ef9550d]\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1\n:\nsystem msg for write_line failure : Bad file descriptor\nUploading EBSD_reconstruction.zip\u2026",
                  "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-744519",
                  "updatedAt": "2022-06-27T12:04:11Z",
                  "publishedAt": "2021-05-16T09:14:26Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Did you include phase field in the list of modules to compile for your application?",
                          "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-805292",
                          "updatedAt": "2022-06-27T12:04:08Z",
                          "publishedAt": "2021-05-31T05:26:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "zengfy-hust"
                          },
                          "bodyText": "sure I did",
                          "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-805555",
                          "updatedAt": "2022-06-27T12:04:11Z",
                          "publishedAt": "2021-05-31T07:04:15Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "dschwen"
                  },
                  "bodyText": "This is not related to the EBSD data file. You are running the input with an executable that does not have support for EBSD built in. I'm turning this into a discussion now. As this does not seem to be a MOOSE issue.",
                  "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-744520",
                  "updatedAt": "2022-06-27T12:04:12Z",
                  "publishedAt": "2021-05-16T14:03:21Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Check the spelling. I think it's EBSD  MeshGenerator not EBDS",
                  "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-808304",
                  "updatedAt": "2022-06-27T12:04:09Z",
                  "publishedAt": "2021-05-31T19:14:31Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "zengfy-hust"
                          },
                          "bodyText": "sorry  for the fault ,after I correct that ,another error occurred .\n*** ERROR ***\nThe following error occurred in the object \"ebsd_mesh\", of type \"EBSDMeshGenerator\".\nEBSDMeshGenerator error. Requested uniform_refine levels not possible.\nI wonder what uniform_refine level should it be since I already set it to 1 .for your convenience ,I just upload the file I used for your better understanding of my question .FYI ,the coordination in EBSD_reconstruction.txt had been moved 0.5 just in case the coordination  overlapped.\nEBSD_reconstruction.zip\nhope to hear from you soon .",
                          "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-809214",
                          "updatedAt": "2022-06-27T12:04:09Z",
                          "publishedAt": "2021-06-01T03:15:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Please check the documentation for more explanation on this object and the uniform refine parameter\nhttps://mooseframework.inl.gov/source/meshgenerators/EBSDMeshGenerator.html",
                          "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-809228",
                          "updatedAt": "2022-06-27T12:04:10Z",
                          "publishedAt": "2021-06-01T03:23:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "zengfy-hust"
                          },
                          "bodyText": "Another error occurred ,Do you know why this happen ?\n*** ERROR ***\nThe following error occurred in the object \"ebsd_reader\", of type \"EBSDReader\".\nAn EBSD feature needs to have a uniform phase.",
                          "url": "https://github.com/idaholab/moose/discussions/17851#discussioncomment-810831",
                          "updatedAt": "2022-06-27T12:04:12Z",
                          "publishedAt": "2021-06-01T12:47:33Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Attempting to read a bool vector from input",
          "author": {
            "login": "rks171"
          },
          "bodyText": "I'm attempting to use the InputParameters class to read a bool type vector from the input file as follows:\n       pars.set<std::vector<bool>>(\"param_name\") = getParam<std::vector<bool>>(\"param_name\");\n\nWhen I try to run the code, I get the following error:\n*** ERROR ***\nunsupported type 'std::__1::vector<bool, std::__1::allocator<bool> >' for input parameter 'GlobalParams/PBModelParams/param_name'\n\nWhich makes me think a vector of bools is not supported in the class?\nIf I change to using an int vector, it works.",
          "url": "https://github.com/idaholab/moose/discussions/17859",
          "updatedAt": "2022-09-07T07:26:54Z",
          "publishedAt": "2021-05-17T18:40:04Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "aeslaughter"
                  },
                  "bodyText": "I think you are correct that this is not supported. I am not sure if this is intentional, but I imagine we don't support it because a std::vector is handled a bit differently than other types that has caused us problems in the past.\n@roystgnr Do you have any other info on this.",
                  "url": "https://github.com/idaholab/moose/discussions/17859#discussioncomment-753680",
                  "updatedAt": "2022-09-07T07:26:56Z",
                  "publishedAt": "2021-05-18T15:48:17Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "roystgnr"
                          },
                          "bodyText": "This one's not my fault!  Check out framework/src/parser/Parser.C - there's nothing in the Parameters or InputParameters class that would complain about a vector<bool>, but there's no option in the parser for instantiating one, and that Parser::extractParams() code looks to be the source of the error message above.\nThat might not be an intentional omission.  A lot of people do hate vector<bool> for not following the same sort of API as the other vector instantiations, but a vector<unsigned char> is a pretty popular substitute, and I don't see that in the Parser.C list either.",
                          "url": "https://github.com/idaholab/moose/discussions/17859#discussioncomment-758673",
                          "updatedAt": "2022-09-07T07:26:56Z",
                          "publishedAt": "2021-05-19T14:23:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "permcody"
                          },
                          "bodyText": "@rks171, You might follow Roy's suggestion and see if you can add the appropriate specialization in Parser.C. We would accept a tested contribution.\nThere are several macros in there to do this. Vector of bools may cause issues since they are fundamentally different, but as Roy suggested, I would start with 'unsigned char' and see if that meets your needs. Honestly, you might just use unsigned short and move on. It's unlikely that you have enough Booleans in an input parameter that would have any effect on memory usage.",
                          "url": "https://github.com/idaholab/moose/discussions/17859#discussioncomment-763664",
                          "updatedAt": "2023-03-21T12:57:31Z",
                          "publishedAt": "2021-05-20T14:32:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rks171"
                          },
                          "bodyText": "Thanks for the suggestions for this issue.  When you suggest to use unsigned char, does that mean the user would be inputting t or f for \"true\"  or \"false\" and then I would be checking to make sure that is what is entered in the parser side?  And I'm not sure if I understood @roystgnr correctly, but it sounds like unsigned char might not be supported either?  My current workaround is to just use unsigned int and have the user input 0/1.  It works, but it's just a little less straightforward than entering true/false or on/off.",
                          "url": "https://github.com/idaholab/moose/discussions/17859#discussioncomment-763873",
                          "updatedAt": "2023-03-21T12:57:32Z",
                          "publishedAt": "2021-05-20T15:12:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@rks171 did you go with unsigned int? Is it working for you\nLet's have an issue about this. Any volunteer to post it",
                          "url": "https://github.com/idaholab/moose/discussions/17859#discussioncomment-805267",
                          "updatedAt": "2023-03-21T12:57:56Z",
                          "publishedAt": "2021-05-31T05:16:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "rks171"
                          },
                          "bodyText": "Yes I have been using unsigned int and it works fine as a workaround.",
                          "url": "https://github.com/idaholab/moose/discussions/17859#discussioncomment-810726",
                          "updatedAt": "2023-03-21T12:57:56Z",
                          "publishedAt": "2021-06-01T12:16:56Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Coupling variables into FVDirichletBC",
          "author": {
            "login": "ln53"
          },
          "bodyText": "Hi all, I'm trying to create an FV BC which sets velocity at the boundary depending on a variable phi. However when I try to couple phi using adCoupledValue as I would in other BCs/Kernels, I get the error 'adCoupledValue was not declared in this scope'. (I've also tried reading phi into a material property and coupling it that way).\nI can see the Coupleable class is not used at all by FVBoundaryCondition, and I'm also aware that in FV the variable would be defined for the element and not the boundary. But is there any way I can access the variable phi somehow for use in the BC, whether that's just using the value from the element, or somehow interpolating between the ghost elements used by FVDirichletBC?\nThanks",
          "url": "https://github.com/idaholab/moose/discussions/17872",
          "updatedAt": "2022-09-01T14:07:57Z",
          "publishedAt": "2021-05-18T14:58:14Z",
          "category": {
            "name": "Q&A Modules: Navier-Stokes"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou're right that FVBCs do not inherit the coupleable interface because it does not provide the support for face values, which is what you want to be using in finite volume most of the time.\nYou can add it if you want the cell value, in your boundary condition object.\nOtherwise, use var->getBoundaryFaceValue(face_info)\nBest,\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17872#discussioncomment-805236",
                  "updatedAt": "2022-09-08T13:41:59Z",
                  "publishedAt": "2021-05-31T04:56:03Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ln53"
                          },
                          "bodyText": "Thanks for the help",
                          "url": "https://github.com/idaholab/moose/discussions/17872#discussioncomment-809925",
                          "updatedAt": "2022-09-12T10:02:52Z",
                          "publishedAt": "2021-06-01T08:18:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Undefined reference to memcpy@GLIBC_2.14",
          "author": {
            "login": "crb3874"
          },
          "bodyText": "Hello,\nI'm working with a fresh install of conda and MOOSE on an HPC cluster at my university.\nAt the end of installation, I'm attempting to run \"make -j 4\" to compile the tests. When it tries to compile moose/test/src/main.C, it exits with the following errors:\nCompiling C++ (in opt mode) (Removed)/moose/test/src/main.C...\n/lib64/libresolv.so.2: undefined reference to `__sendmmsg@GLIBC_PRIVATE'\n/lib64/libresolv.so.2: undefined reference to `memcpy@GLIBC_2.14'\n/lib64/libresolv.so.2: undefined reference to `__h_errno@GLIBC_PRIVATE'\ncollect2: error: ld returned 1 exit status\nI've looked around - my understanding is that the middle function call here is using version symboling to use the version of memcpy() from GLIBC 2.14. I believe newer versions of GLIBC should be backwards compatible with this feature... I've checked, and the system I'm on is using GLIBC 2.22. Can anyone help me out with this?",
          "url": "https://github.com/idaholab/moose/discussions/17630",
          "updatedAt": "2022-06-02T04:49:38Z",
          "publishedAt": "2021-04-16T21:09:16Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "aeslaughter"
                  },
                  "bodyText": "@milljm Have you seen this before?",
                  "url": "https://github.com/idaholab/moose/discussions/17630#discussioncomment-640539",
                  "updatedAt": "2022-06-02T04:49:37Z",
                  "publishedAt": "2021-04-21T15:03:17Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I have not.\n@crb3874 You may want to try and use your system's compilers instead of Conda's. It may yield better results. Can you explain what system you are using? Arch, version, things like that.",
                          "url": "https://github.com/idaholab/moose/discussions/17630#discussioncomment-640627",
                          "updatedAt": "2022-06-02T04:49:38Z",
                          "publishedAt": "2021-04-21T15:21:59Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "crb3874"
                          },
                          "bodyText": "Apologies for not following up on this with an update - I ended up starting from scratch by following the instructions at https://mooseframework.inl.gov/getting_started/installation/hpc_install_moose.html to build MOOSE without using the Conda environment. This worked much better for me, and I am able to compile the tests and run them. However, I am now having a problem (some of the tests failing) that is unrelated to this issue, so I'm going to open a separate discussion for it.\nThank you for your help with this!",
                          "url": "https://github.com/idaholab/moose/discussions/17630#discussioncomment-808526",
                          "updatedAt": "2022-06-02T04:49:38Z",
                          "publishedAt": "2021-05-31T20:28:02Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Solution of coupled time dependent nonlinear equations",
          "author": {
            "login": "TLWise"
          },
          "bodyText": "Is there an example MOOSE file that solves a problem similar to the following? :\nd/dt (n1) = C1 x phi x n1\nd/dt (n2) = C2 x phi x n1-C3 x phi x n2\nwhere phi = phi(x,t)",
          "url": "https://github.com/idaholab/moose/discussions/17948",
          "updatedAt": "2021-06-21T16:47:13Z",
          "publishedAt": "2021-05-27T14:56:58Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nDo you want to solve for phi (variable) or have it fixed (function) ?\nNot sure we have an example for this case exactly, but a combination of CoupledForce, TimeDerivative kernels (FE or FV) will do the trick.\nbest,\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17948#discussioncomment-805251",
                  "updatedAt": "2021-05-31T05:06:25Z",
                  "publishedAt": "2021-05-31T05:06:13Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "TLWise"
                          },
                          "bodyText": "I would in a simple case want phi to be a constant value.\nThank you.",
                          "url": "https://github.com/idaholab/moose/discussions/17948#discussioncomment-807253",
                          "updatedAt": "2021-05-31T14:26:47Z",
                          "publishedAt": "2021-05-31T14:26:47Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "The kernels I mentioned can be used for your case then.\nYou can adapt CoefReaction to make it use a function or store phi as a material property (using a GenericFunctionMaterial) and use MatReaction.",
                          "url": "https://github.com/idaholab/moose/discussions/17948#discussioncomment-808520",
                          "updatedAt": "2021-05-31T20:25:38Z",
                          "publishedAt": "2021-05-31T20:25:38Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to assign block id for embedded line in GMSH",
          "author": {
            "login": "rksin8"
          },
          "bodyText": "Dear moose users,\nI have a mesh that contains an embedded line. I want to assign properties based on block ID but when I open this mesh in ParaView, I see only one block ID for the surface. How can I create a block ID for the line as well?\nInput for geo file:\nMesh.Algorithm = 1;\nMesh.Optimize = 1;\nlc=50;\nlc2=10;\nPoint(0)={0,0,0,lc};\nPoint(1)={500,0,0,lc};\nPoint(2)={500,500,0,lc};\nPoint(3)={0,500,0,lc};\nPoint(4)={100,250,0,lc2};\nPoint(5)={400,250,0,lc2};\nPoint(6)={175,250,0,lc2};\nPoint(7)={325,250,0,lc2};\nLine (1) ={0,1};\nLine (2) ={1,2};\nLine (3) ={2,3};\nLine (4) ={3,0};\nLine (5) ={4,6};\nLine (6) ={6,7};\nLine (7) ={7,5};\nLine Loop(1) ={1,2,3,4};\nRuled Surface(1) = {1};\nLine {5} In Surface {1};\nLine {6} In Surface {1};\nLine {7} In Surface {1};\nPoint {6} In Surface {1};\nPoint {7} In Surface {1};\nPhysical Surface(1) = {1};\nPhysical Line(\"fracture\") = {6, 5, 7};\nPhysical Line(\"left\") = {4};\nPhysical Line(\"right\") = {2};\nPhysical Line(\"top\") = {3};\nPhysical Line(\"bottom\") = {1};\nPhysical Point(\"injection_well\") = {6};\nPhysical Point(\"production_well\") = {7};\n\nRegards,\nRanjeet",
          "url": "https://github.com/idaholab/moose/discussions/17958",
          "updatedAt": "2022-06-18T18:49:51Z",
          "publishedAt": "2021-05-28T07:47:13Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@lindsayad if you know.\nOtherwise, Ranjeet, if you get the answer from a gmsh forum, please post the answer here to help others.\nThanks",
                  "url": "https://github.com/idaholab/moose/discussions/17958#discussioncomment-805206",
                  "updatedAt": "2022-06-18T18:49:54Z",
                  "publishedAt": "2021-05-31T04:38:38Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "rksin8"
                          },
                          "bodyText": "Thank you for your reply. now we have a solution.",
                          "url": "https://github.com/idaholab/moose/discussions/17958#discussioncomment-807827",
                          "updatedAt": "2022-06-18T18:50:03Z",
                          "publishedAt": "2021-05-31T16:52:30Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "lindsayad"
                  },
                  "bodyText": "@rksin8 If you want to create a lower dimensional block, you need to make sure that the Physical name contains the string lower_dimensional_block. So if you want \"fracture\" to be a lower dimensional block, then you would do this:\nPhysical Line(\"fracture_lower_dimensional_block\") = {6, 5, 7};",
                  "url": "https://github.com/idaholab/moose/discussions/17958#discussioncomment-807631",
                  "updatedAt": "2022-06-18T18:50:04Z",
                  "publishedAt": "2021-05-31T15:52:13Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "rksin8"
                          },
                          "bodyText": "It worked! Thank you so much.",
                          "url": "https://github.com/idaholab/moose/discussions/17958#discussioncomment-807825",
                          "updatedAt": "2022-06-18T18:50:04Z",
                          "publishedAt": "2021-05-31T16:52:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Awesome! I was just about to ask the same question.",
                          "url": "https://github.com/idaholab/moose/discussions/17958#discussioncomment-808138",
                          "updatedAt": "2022-06-18T18:50:04Z",
                          "publishedAt": "2021-05-31T18:22:50Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Matlab's ncread is so convenient",
          "author": {
            "login": "hugary1995"
          },
          "bodyText": "I just accidentally deleted an input file, and Matlab's ncread function saved me once again. I hope everyone is aware of this feature.\nIf you still have access to your output exodus file. In Matlab, you can do\nncread('out.e', 'info_records')'\nto get back the input file! Notice the transpose operation in the end.\nI believe you can use scipy.io.netcdf to do the same thing but your mileage may vary.",
          "url": "https://github.com/idaholab/moose/discussions/17852",
          "updatedAt": "2023-09-26T17:51:24Z",
          "publishedAt": "2021-05-16T16:50:59Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "Traiwit"
                  },
                  "bodyText": "Awesome, thanks @hugary1995",
                  "url": "https://github.com/idaholab/moose/discussions/17852#discussioncomment-745898",
                  "updatedAt": "2023-09-26T17:51:24Z",
                  "publishedAt": "2021-05-16T23:47:17Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "In MOOSE we have --show-input that will print the input at the beginning of your output log.\nNot as good as getting it from exodus for sure.",
                  "url": "https://github.com/idaholab/moose/discussions/17852#discussioncomment-805288",
                  "updatedAt": "2023-09-26T17:51:24Z",
                  "publishedAt": "2021-05-31T05:24:56Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Concentration and Temperature Dependent NeumannBC",
          "author": {
            "login": "styyokuda"
          },
          "bodyText": "Dear MOOSE Team,\nFor my diffusion and heat model, I am writing a NeumannBC that is concentration and temperature dependent (please see the attached files for a simplified version).\nJust for the simplification, I just write here as:\nreturn -_test[_i][_qp]_u[_qp]_temperature[_qp]/273.15*_normals[_qp];\nIt compiles without \"_normals[_qp].\"\nAlso in the input file, \"variable = u\" needs to be set as:\n[BCs]\n[./right_u]\ntype = AnotherNeumannBC\nvariable = u\ndiffusion_variable = u\nheat_variable = temperature\nboundary = 'right'\n[../]\n[ ]\nIt would be appreciated if anyone could explain why \"_normals[_qp]\" cannot be used\nand \"variable = u\" needs to be set (I think \"diffusion_variable = u\" is enough).\nPlease help me.\nThomas\nIf \"_normals[_qp]\" is included, the error message is:\n~/AnotherNeumannBC.C:39:10: error: no viable conversion from returned value of type 'typename\nboostcopy::enable_if_c<ScalarTraits::value, TypeVector<typename CompareTypes<double, double>::supertype> >::type'\n(aka 'libMesh::TypeVector') to function return type 'libMesh::Real' (aka 'double')\nreturn -_test[_i][_qp]_u[_qp]_temperature[_qp]/273.15*_normals[_qp];\n^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n1 error generated.\nAnotherNeumannBC.i.docx\nAnotherNeumannBC.h.docx\nAnotherNeumannBC.C.docx",
          "url": "https://github.com/idaholab/moose/discussions/17869",
          "updatedAt": "2022-06-21T15:09:15Z",
          "publishedAt": "2021-05-18T05:02:14Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "dschwen"
                  },
                  "bodyText": "The BC residual needs to be a scalar, you're retuning a vector. Look at the\nweak form derivation. The normal does not show up in it. You're probably\nthinking intuitively there should be a gradient projected along the normal\n(only you don't have a gradient in there either).\n\u2026\nOn Mon, May 17, 2021, 11:02 PM styyokuda ***@***.***> wrote:\n Dear MOOSE Team,\n For my diffusion and heat model, I am writing a NeumannBC that is\n concentration and temperature dependent (please see the attached files for\n a simplified version).\n Just for the simplification, I just write here as:\n return -_test[_i][_qp]*_u[_qp]*_temperature[_qp]/273.15*_normals[_qp];\n\n It compiles without \"_normals[_qp].\"\n Also in the input file, \"variable = u\" needs to be set as:\n [BCs]\n [./right_u]\n type = AnotherNeumannBC\n variable = u\n diffusion_variable = u\n heat_variable = temperature\n boundary = 'right'\n [../]\n [ ]\n\n It would be appreciated if anyone could explain why \"_normals[_qp]\" cannot\n be used\n and \"variable = u\" needs to be set (I think \"diffusion_variable = u\" is\n enough).\n Please help me.\n Thomas\n\n If \"_normals[_qp]\" is included, the error message is:\n ~/AnotherNeumannBC.C:39:10: error: no viable conversion from returned\n value of type 'typename\n boostcopy::enable_if_c<ScalarTraits::value, TypeVector<typename\n CompareTypes<double, double>::supertype> >::type'\n (aka 'libMesh::TypeVector') to function return type 'libMesh::Real' (aka\n 'double')\n return -_test[_i][_qp]*_u[_qp]*_temperature[_qp]/273.15*_normals[_qp];\n ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n 1 error generated.\n\n AnotherNeumannBC.i.docx\n <https://github.com/idaholab/moose/files/6498427/AnotherNeumannBC.i.docx>\n AnotherNeumannBC.h.docx\n <https://github.com/idaholab/moose/files/6498434/AnotherNeumannBC.h.docx>\n AnotherNeumannBC.C.docx\n <https://github.com/idaholab/moose/files/6498435/AnotherNeumannBC.C.docx>\n\n \u2014\n You are receiving this because you are subscribed to this thread.\n Reply to this email directly, view it on GitHub\n <#17869>, or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/AABRMPX5P263PMVE4B7M7D3TOHYGRANCNFSM45BXZ3OA>\n .",
                  "url": "https://github.com/idaholab/moose/discussions/17869#discussioncomment-751057",
                  "updatedAt": "2022-06-21T15:09:42Z",
                  "publishedAt": "2021-05-18T05:08:32Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "Thank you very much for a great explanation.\nTwo more questions please.\n(1) In the input, \"variable = u\" is required because \"variable\" is a required parameter for the \"NeumannBC\" object requires (so, I don't need to setup \"diffusion_variable = u\" here).\n(2) I modified the \"NeumannBC\" object here but, more complicated calculations, I can use the \"Material\" object, too.\nPlease let me know if my understanding of the above two is correct.\nThomas",
                          "url": "https://github.com/idaholab/moose/discussions/17869#discussioncomment-753269",
                          "updatedAt": "2022-06-21T15:09:52Z",
                          "publishedAt": "2021-05-18T14:39:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "indeed. No need to specify the variable twice if it's clear what's the variable\nYou can use Material objects in a modified NeumannBC, just inherit a MaterialPropertyInterface in your BC object",
                          "url": "https://github.com/idaholab/moose/discussions/17869#discussioncomment-805284",
                          "updatedAt": "2022-06-21T15:09:59Z",
                          "publishedAt": "2021-05-31T05:22:04Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "LineMaterialRealSampler with AD",
          "author": {
            "login": "FloPasselaigue"
          },
          "bodyText": "Hello,\nI am working on an update of the hydrogen in BISON, and so I developed a test case. For this test I check the value of the material 'solubility' along the x axis, using the VectorPostProcessor LineMaterialRealSampler:\n[VectorPostprocessors]\n  [solub]\n    type = LineMaterialRealSampler\n    property = 'solubility'\n    sort_by = x\n    start = '0 2e-4 0'\n    end = '25e-3 2e-4 0'\n    outputs = diff\n  []\n[]\n[Outputs]\n  [profile]\n    type = CSV\n    execute_on = 'final'\n    create_final_symlink = true\n  []\n[]\n\nThe normal test works just fine, however the AD version fails, raising a Bad file descriptor error:\nThe following error occurred in the object \"solubility\", of type \"LineMaterialRealSampler\".\nIn LineMaterialSamplerBase material property: solubility does not exist.\n\nThe only difference between the two versions is that the argument use_automatic_differentiation is set to true (below is the part of interest in the test file)\n  [solubility]\n    type = 'CSVDiff'\n    input = 'solubility.i'\n    csvdiff = 'solubility_profile_solubility_FINAL.csv'\n    rel_err = 1e-2\n    requirement = \"BISON shall be able to compute the effective solubility of hydrogen.\"\n  []\n  [solubilityAD]\n    type = 'CSVDiff'\n    input = 'solubility.i'\n    csvdiff = 'solubility_profile_solubility_FINAL.csv'\n    rel_err = 1e-2\n    requirement = \"BISON shall be able to compute the effective solubility of hydrogen with AD.\"\n    prereq = solubility\n    cli_args = 'CladdingHydrides/hydrides/use_automatic_differentiation=true'\n  []\n\nI tried with another material to output and ran into the same issue, so it doesn't seem to be specific to the solubility material. Maybe I missed something, but I don't think the material names are changed when using AD, or that the VectorPostprocessors classes need an AD equivalent? I have a similar test in which I check the profile of a variable using LineValueSampler and it works, so it seems to be specific to LineMaterialRealSampler.\nIf anyone has a solution I'd really appreciate it.\nThanks for your help,\nFlorian Passelaigue",
          "url": "https://github.com/idaholab/moose/discussions/17857",
          "updatedAt": "2022-08-10T17:44:17Z",
          "publishedAt": "2021-05-17T17:47:06Z",
          "category": {
            "name": "Q&A Tools"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "LineMaterialSamplerBase is already templated. But LineMaterialRealSampler is only specialized for Real not ADReal. You would want to add a template parameter bool is_ad in LineMaterialRealSampler, and instantiate it to LineMaterialRealSampler when is_ad = false, and instantiate it to ADLineMaterialRealSampler when is_ad = true.",
                  "url": "https://github.com/idaholab/moose/discussions/17857#discussioncomment-749278",
                  "updatedAt": "2022-08-10T17:45:25Z",
                  "publishedAt": "2021-05-17T17:52:36Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "FloPasselaigue"
                          },
                          "bodyText": "Thank you for your answer, I took a look but I wouldn't know how to do this modification. I think I found another way to test the implementation without using LineMaterialRealSampler.",
                          "url": "https://github.com/idaholab/moose/discussions/17857#discussioncomment-749992",
                          "updatedAt": "2022-08-10T17:45:33Z",
                          "publishedAt": "2021-05-17T20:53:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You can look at the GenericConstantMaterial for examples of AD templating",
                          "url": "https://github.com/idaholab/moose/discussions/17857#discussioncomment-805276",
                          "updatedAt": "2022-08-10T17:45:33Z",
                          "publishedAt": "2021-05-31T05:19:27Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}