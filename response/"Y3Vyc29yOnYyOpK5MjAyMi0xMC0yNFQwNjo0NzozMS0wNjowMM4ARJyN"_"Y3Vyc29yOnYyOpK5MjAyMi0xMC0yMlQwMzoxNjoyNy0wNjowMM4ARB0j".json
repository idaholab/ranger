{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMi0xMC0yMlQwMzoxNjoyNy0wNjowMM4ARB0j"
    },
    "edges": [
      {
        "node": {
          "title": "'block_pair'  error in 'BreakMeshByBlockGenerator'",
          "author": {
            "login": "RECHOA"
          },
          "bodyText": "Hi all,\nI used --mesh-only to run the following inputfile:\n[Mesh]\n  [gen]\n    type = GeneratedMeshGenerator\n    nx = 20\n    ny = 20\n    nz = 2\n    zmax = 0.2\n    dim = 3\n  []\n  [block1]\n    type = SubdomainBoundingBoxGenerator\n    block_id = 1\n    bottom_left = '0 0 0'\n    top_right = '0.5 1 0.2'\n    input = gen\n  []\n  [block2]\n    type = SubdomainBoundingBoxGenerator\n    block_id = 2\n    bottom_left = '0.5 0 0'\n    top_right = '0.75 1 0.2'\n    input = block1\n  []\n  [block3]\n    type = SubdomainBoundingBoxGenerator\n    block_id = 3\n    bottom_left = '0.75 0 0'\n    top_right = '1 1 0.2'\n    input = block2\n  []\n  [breakmesh]\n    input = block3\n    type = BreakMeshByBlockGenerator\n    #block_pairs = '2 1'\n    #block_pairs = '2 3'\n    block_pairs = '2 1 2 3'\n  []\n[]\n\nIn the object [breakmesh] with type = BreakMeshByBlockGenerator, if i used block_pairs = '2 1' or block_pairs = '2 3', it could create mesh correctly. However, if i used  block_pairs = '2 1 2 3' or\n    block_pairs = '2 1 \n                   2 3'\n\nit would fail with a message:\n\n*** ERROR ***\nparam 'block_pair' not present in InputParams\n\nCould you help me with this problem? Thanks in  advance.",
          "url": "https://github.com/idaholab/moose/discussions/22476",
          "updatedAt": "2022-10-24T15:03:10Z",
          "publishedAt": "2022-10-24T11:24:23Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "RECHOA"
                  },
                  "bodyText": "I got it. the block_pairs vector should be divided by a semicolon(;), for example:\n    block_pairs = '2 1;\n                   2 3'\n\nSorry i misunderstood the figure in https://mooseframework.inl.gov/source/meshgenerators/BreakMeshByBlockGenerator.html",
                  "url": "https://github.com/idaholab/moose/discussions/22476#discussioncomment-3950019",
                  "updatedAt": "2022-10-24T12:09:54Z",
                  "publishedAt": "2022-10-24T12:08:35Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "The failure of fluid calculation",
          "author": {
            "login": "Submarinewake"
          },
          "bodyText": "Hello experts,\nI recently tried to calculate a complex channel with MOOSE\uff0ccalculate its temperature conduction and flow field velocity and pressure. But the results obtained are not ideal. I found that the temperature can be calculated smoothly, but the fluid seems not to be calculated. In the results of the flow field, both pressure and velocity are approximately to 0, not even the inlet velocity. After calculation, the model has a low Reynolds number, and theoretically it can be calculated with a laminar model. Do you have any good suggestions\uff1fSincerely look forward to your reply.\n`\n\nMy input file as follow\nfluid_mu = 0.001   # Pa*s\nfluid_rho = 998.2    #kg/m3\nfluid_cp = 4128      #j/kg-k\nfluid_k = 0.6     #w/m-k\nplate_k = 30\nsource_k = 401\n\n\n[Mesh]\n  type = FileMesh #Read in mesh from file\n  file = htcc1_2.e\n[]\n\n\n[Variables]\n  [Tf]\n    order = FIRST\n    family = LAGRANGE\n    block = 'fluid'\n    initial_condition = 293\n  []\n  [Ts]\n    order = FIRST\n    family = LAGRANGE\n    block = 'plate source'\n    initial_condition = 293\n  []\n  [./velocity]\n    family = LAGRANGE_VEC\n    block='fluid'\n  [../]\n  [./p]\n    order = FIRST\n    family = LAGRANGE\n    block='fluid'\n  [../]\n[]\n\n[ICs]\n  [velocity]\n    type = VectorConstantIC\n    x_value = 1e-15\n    y_value = 2.87\n    z_value = 1e-15\n    variable = velocity\n  []\n[]\n\n\n[Kernels]\n [./mass]\n    type = INSADMass\n    variable = p\n  [../]\n  [./mass_pspg]\n    type = INSADMassPSPG\n    variable = p\n  [../]\n  [./momentum_convection]\n    type = INSADMomentumAdvection\n    variable = velocity\n  [../]\n  [./momentum_viscous]\n    type = INSADMomentumViscous\n    variable = velocity\n  [../]\n  [./momentum_pressure]\n    type = INSADMomentumPressure\n    variable = velocity\n    pressure = p\n    integrate_p_by_parts = true\n  [../]\n  [./momentum_supg]\n    type = INSADMomentumSUPG\n    variable = velocity\n    velocity = velocity\n  [../]\n  [./temperature_advection]\n    type = INSADEnergyAdvection\n    variable = Tf\n    block = 'fluid'\n  [../]\n  [fluid_temperature_conduction]\n    type = ADHeatConduction\n    variable = Tf\n    block = 'fluid'\n    thermal_conductivity = 'k'\n  []\n  [temperature_supg]\n    type = INSADEnergySUPG\n    variable = Tf\n    velocity = velocity\n    block = 'fluid'\n  []\n\n  [solid_temperature_conduction]\n    type = ADHeatConduction\n    variable = Ts\n    block ='plate source'\n    thermal_conductivity = 'k'\n  []\n[]\n\n[InterfaceKernels]\n  [./convection_heat_transfer]\n    type = ConjugateHeatTransfer\n    variable = Tf\n    T_fluid = Tf\n    neighbor_var = 'Ts'\n    boundary = 'interface'\n    htc = 50000\n  [../]\n[]\n\n[BCs]\n  [./plane_wall]#PCB\n    type = ADConvectiveHeatFluxBC\n    variable = Ts\n    boundary = 'wall'\n    T_infinity = 293\n    heat_transfer_coefficient = 25\n  [../]\n  [./no_slip]\n    type = VectorFunctionDirichletBC\n    variable = velocity\n    boundary = 'interface'\n  [../]\n  [./vec_inlet]\n    type = VectorFunctionDirichletBC\n    variable = velocity\n    boundary = 'inlet'\n    function_y = 2.87 #m/s\n  [../]\n  [./inlet_temp]\n    type = DirichletBC\n    variable =Tf\n    boundary = 'inlet'\n    value = 303\n  [../]\n  [./outlet_p]\n    type = DirichletBC\n    variable = p\n    boundary = 'outlet'\n    value = 0\n  [../]\n  [./source]\n    type = NeumannBC\n    variable = Ts\n    boundary = 'flux'\n    value = 2.432e5\n  [../]\n[]\n\n[Materials]\n  [./plate_mat]\n    type = ADGenericConstantMaterial\n    prop_names = 'k'\n    prop_values = '${plate_k}'\n    block = 'plate'\n  [../]\n  [./source_mat]\n    type = ADGenericConstantMaterial\n    prop_names = 'k'\n    prop_values = '${source_k}'\n    block = 'source'\n  [../]\n  [./fluid_mat]\n    type = ADGenericConstantMaterial\n    prop_names = 'rho mu cp k'\n    prop_values = '${fluid_rho} ${fluid_mu}  ${fluid_cp}  ${fluid_k}'\n    block = 'fluid'\n  [../]\n  [ins_mat]\n    type = INSADStabilized3Eqn\n    velocity = velocity\n    pressure = p\n    temperature = Tf\n    block='fluid'\n  []\n[]\n[Preconditioning]\n  [./SMP]\n    type = SMP\n    full = false\n    petsc_options_iname = '-pc_type -pc_factor_mat_solver_package'\n    petsc_options_value = ' lu       mumps'\n    solve_type = PJFNK\n  [../]\n[]\n\n[Executioner]\n  type = Steady\n  l_max_its = 20\n  nl_max_its =1000\n \n  l_tol = 1e-5\n  nl_rel_tol = 1e-3\n\n  solve_type = PJFNK\n  ##petsc_options_iname = '-pc_type -pc_hypre_type'\n  ##petsc_options_value = 'hypre boomeramg'\n   petsc_options_iname = '-pc_type -pc_factor_mat_solver_package -ksp_gmres_restart'\n  petsc_options_value = 'lu       superlu_dist                  200'\n\n[]\n[Debug]\n  show_var_residual_norms = true\n[]\n\n[Outputs]\n  exodus = true\n  file_base = htccflux_out1\n  perf_graph = true\n[]",
          "url": "https://github.com/idaholab/moose/discussions/22336",
          "updatedAt": "2022-11-15T18:10:54Z",
          "publishedAt": "2022-10-09T02:22:11Z",
          "category": {
            "name": "Q&A Modules: Navier-Stokes"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "maxnezdyur"
                  },
                  "bodyText": "IIRC when using integrate_by_parts = true you shouldn't apply a DirchetBC on pressure (or if you do it requires the tangential velocity to be 0). Run the input file without the pressure outlet bc and if your computational domain is large enough, then the pressure near the outlet will still be close to 0, which may or may not be good enough for your simulation.",
                  "url": "https://github.com/idaholab/moose/discussions/22336#discussioncomment-3834583",
                  "updatedAt": "2022-10-09T19:18:01Z",
                  "publishedAt": "2022-10-09T19:18:01Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Submarinewake"
                          },
                          "bodyText": "Thanks for your answer, I will try your suggestion!",
                          "url": "https://github.com/idaholab/moose/discussions/22336#discussioncomment-3835519",
                          "updatedAt": "2022-10-10T01:27:17Z",
                          "publishedAt": "2022-10-10T01:27:16Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nSince the flow is mainly driven by the inlet condition, I would check the mesh and in particular the inlet boundary to see that it's as expected.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22336#discussioncomment-3836253",
                  "updatedAt": "2022-10-10T05:23:40Z",
                  "publishedAt": "2022-10-10T05:23:39Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Submarinewake"
                          },
                          "bodyText": "Hello Guillaume\nActually I think it is correlated with the grid, when I modified the input file and made a mesh refinement, my results will not converge, according to the convergence residuals, mainly the residuals of the fluid Large. From the experience in simulation, Fluid simulations have high mesh requirements.\nBut in the process of working with my model, I found this to be difficult. Because of the complexity of the model, it is very difficult to use the built-in modeling software, but at the same time, when I import the STP file into Trelis/gmsh, I will encounter some compatibility problems, such as loss of block information. Do you have any good suggestions for this problem? I look forward to your reply.\nFendy",
                          "url": "https://github.com/idaholab/moose/discussions/22336#discussioncomment-3844321",
                          "updatedAt": "2022-10-11T02:37:45Z",
                          "publishedAt": "2022-10-11T02:37:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "what do you currently do with the STP file? Does moose read those?\nHow did you generate your mesh?\nWhich simulation did converge? The one with the coarse mesh? how coarse was it?\nAre you watching the CFL criterion?\nCan you try to add a -pc_factor_shift NONZERO to your petsc options?",
                          "url": "https://github.com/idaholab/moose/discussions/22336#discussioncomment-3844693",
                          "updatedAt": "2022-10-11T03:52:48Z",
                          "publishedAt": "2022-10-11T03:52:47Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Any update on this?",
                  "url": "https://github.com/idaholab/moose/discussions/22336#discussioncomment-3937892",
                  "updatedAt": "2022-10-22T00:01:29Z",
                  "publishedAt": "2022-10-22T00:01:28Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Submarinewake"
                          },
                          "bodyText": "Sorry, thank you for your attention. In response to this problem, after I further tried the above solutions, the problem turned into a difficulty in convergence. Since I was trying other work recently, I did not continue to discuss it in depth. I hope that I can find the problem and solve it later.",
                          "url": "https://github.com/idaholab/moose/discussions/22336#discussioncomment-3948771",
                          "updatedAt": "2022-10-24T08:58:49Z",
                          "publishedAt": "2022-10-24T08:58:49Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Sub-sub-app not executed in the multilevel Picard approach",
          "author": {
            "login": "xuxiaobei1995"
          },
          "bodyText": "Hi all,\nRecently I want to use the multilevel Picard function in MOOSE. I run the test case in test/tests/multiapps/picard_multilevel/ but to find a problem that the sub-sub-app (picard_sub2.i) is only be executed in the outer picard iteration 0. That is to say, it will be skipped (only \"successfully solved\" reported) when the outer picard iteration >= 1, just as shown in the figures below:\nthe execution of the sub-sub-app in the outer picard iteration 0:\n\nthe skipping of the sub-sub-app when the outer picard iteration >= 1:\n\nHere are the input files I use:\npicard_master.i:\n[Mesh]\n  type = GeneratedMesh\n  dim = 2\n  nx = 10\n  ny = 10\n  parallel_type = replicated\n[]\n\n[Variables]\n  [./u]\n  [../]\n[]\n\n[AuxVariables]\n  [./v]\n  [../]\n[]\n\n[Kernels]\n  [./diff]\n    type = CoefDiffusion\n    variable = u\n    coef = 0.1\n  [../]\n  [./coupled_force]\n    type = CoupledForce\n    variable = u\n    v = v\n  [../]\n  [./time]\n    type = TimeDerivative\n    variable = u\n  [../]\n[]\n\n[BCs]\n  [./left]\n    type = DirichletBC\n    variable = u\n    boundary = left\n    value = 0\n  [../]\n  [./right]\n    type = DirichletBC\n    variable = u\n    boundary = right\n    value = 1\n  [../]\n[]\n\n[Postprocessors]\n  [picard_its]\n    type = NumFixedPointIterations\n    execute_on = 'initial timestep_end'\n  [../]\n[]\n\n[Executioner]\n  type = Transient\n  num_steps = 5\n  dt = 1\n  solve_type = PJFNK\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = 'hypre boomeramg'\n  picard_max_its = 30\n  nl_rel_tol = 1e-8\n  nl_abs_tol = 1e-9\n  picard_rel_tol = 1e-8\n  picard_abs_tol = 1e-9\n[]\n\n[Outputs]\n  exodus = true\n[]\n\n[MultiApps]\n  [./sub1]\n    type = TransientMultiApp\n    app_type = MooseTestApp\n    positions = '0 0 0'\n    input_files = picard_sub.i\n    execute_on = 'timestep_end'\n  [../]\n[]\n\n[Transfers]\n  [./v]\n    type = MultiAppNearestNodeTransfer\n    from_multi_app = sub1\n    source_variable = v\n    variable = v\n  [../]\n[]\n\npicard_sub.i:\n[Mesh]\n  type = GeneratedMesh\n  dim = 2\n  nx = 10\n  ny = 10\n[]\n\n[Variables]\n  [./v]\n  [../]\n[]\n\n[AuxVariables]\n  [./v2]\n  [../]\n[]\n\n[Kernels]\n  [./diff_v]\n    type = Diffusion\n    variable = v\n  [../]\n  [./coupled_force]\n    type = CoupledForce\n    variable = v\n    v = v2\n  [../]\n  [./td_v]\n    type = TimeDerivative\n    variable = v\n  [../]\n[]\n\n[BCs]\n  [./left_v]\n    type = DirichletBC\n    variable = v\n    boundary = left\n    value = 1\n  [../]\n  [./right_v]\n    type = DirichletBC\n    variable = v\n    boundary = right\n    value = 0\n  [../]\n[]\n\n[Postprocessors]\n  # Accumulate the number of times 'timestep_end' is reached\n  # (which is an indicator of the number of Picard iterations)\n  [./cumulative_picard_its_pp]\n    type = TestPostprocessor\n    test_type = custom_execute_on\n    execute_on = 'timestep_end'\n  [../]\n[]\n\n[Executioner]\n  type = Transient\n  num_steps = 5\n  dt = 1\n  solve_type = PJFNK\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = 'hypre boomeramg'\n  picard_max_its = 5\n  nl_rel_tol = 1e-8\n  nl_abs_tol = 1e-9\n  picard_rel_tol = 1e-99\n  picard_abs_tol = 1e-99\n[]\n\n[Outputs]\n  exodus = true\n[]\n\n[MultiApps]\n  [./sub2]\n    type = TransientMultiApp\n    app_type = MooseTestApp\n    positions = '0 0 0'\n    input_files = picard_sub2.i\n    sub_cycling = true\n    execute_on = timestep_end\n  [../]\n[]\n\n[Transfers]\n  [./v2]\n    type = MultiAppNearestNodeTransfer\n    from_multi_app = sub2\n    source_variable = v\n    variable = v2\n  [../]\n[]\n\npicard_sub2.i:\n[Mesh]\n  type = GeneratedMesh\n  dim = 2\n  nx = 10\n  ny = 10\n[]\n\n[Variables]\n  [./v]\n  [../]\n[]\n\n[Kernels]\n  [./diff_v]\n    type = Diffusion\n    variable = v\n  [../]\n  [./td_v]\n    type = TimeDerivative\n    variable = v\n  [../]\n[]\n\n[BCs]\n  [./left_v]\n    type = DirichletBC\n    variable = v\n    boundary = left\n    value = 1\n  [../]\n  [./right_v]\n    type = DirichletBC\n    variable = v\n    boundary = right\n    value = 0\n  [../]\n[]\n\n[Executioner]\n  type = Transient\n  num_steps = 5\n  dt = 0.5\n  solve_type = PJFNK\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = 'hypre boomeramg'\n  nl_abs_tol = 1e-10\n[]\n\n[Outputs]\n  exodus = true\n[]\n\nDoes any one know how to solve this problem? Thanks.\nBest Regards,\nXiaobei",
          "url": "https://github.com/idaholab/moose/discussions/22305",
          "updatedAt": "2022-11-15T18:09:59Z",
          "publishedAt": "2022-10-05T09:11:36Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\npicard_... fixed point parameters are deprecated, you should update to the new ones.\nCan you try increasing fixed_point_min_its to see if you can force more iterations?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22305#discussioncomment-3805307",
                  "updatedAt": "2022-10-05T13:35:56Z",
                  "publishedAt": "2022-10-05T13:35:56Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "xuxiaobei1995"
                          },
                          "bodyText": "Hi Guillaume,\nSorry that the version of my MOOSE is old (in 2018 year) and the updating is difficult for me because I found it hard to modify the code of my App to be compatible with the latest MOOSE. Could you help me run this case (picard_parent.i in test/tests/multiapps/picard_multilevel/) using the latest MOOSE and see whether this issue occurs? Thanks.",
                          "url": "https://github.com/idaholab/moose/discussions/22305#discussioncomment-3824325",
                          "updatedAt": "2022-10-07T16:32:07Z",
                          "publishedAt": "2022-10-07T16:32:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This is much too old.\nI cant support you on old versions of MOOSE, I wasnt even working with MOOSE at the time and I dont know what bug fixes got in.\nUpdating is not hard. The only tricky one is likely this change on validParams:\nhttps://mooseframework.inl.gov/newsletter/2020_04.html#!",
                          "url": "https://github.com/idaholab/moose/discussions/22305#discussioncomment-3826213",
                          "updatedAt": "2022-10-07T22:15:51Z",
                          "publishedAt": "2022-10-07T22:15:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "xuxiaobei1995"
                          },
                          "bodyText": "OK. I will try installing the latest MOOSE and see whether the problem exists. It may take a little long time.",
                          "url": "https://github.com/idaholab/moose/discussions/22305#discussioncomment-3826939",
                          "updatedAt": "2022-10-08T02:30:31Z",
                          "publishedAt": "2022-10-08T02:30:30Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Any update on this?",
                  "url": "https://github.com/idaholab/moose/discussions/22305#discussioncomment-3937888",
                  "updatedAt": "2022-10-22T00:00:12Z",
                  "publishedAt": "2022-10-22T00:00:12Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "xuxiaobei1995"
                          },
                          "bodyText": "Sorry Guillaume, recently I'm busy with other work. After I finish the work (maybe a week) I will turn back to this issue.",
                          "url": "https://github.com/idaholab/moose/discussions/22305#discussioncomment-3946767",
                          "updatedAt": "2022-10-24T02:24:32Z",
                          "publishedAt": "2022-10-24T02:24:31Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to impose NeumannBC on a boundary line of a 2D plane in a 3D mesh?",
          "author": {
            "login": "Joseph-0123"
          },
          "bodyText": "Hi everyone,\nI use Gmsh (attached .geo and .msh files ) to build a 3D model (named 'Matrix') embedded by a 2D plane (named 'Fault'). I want to impose NeumannBC on the left boundary line (named 'Leftline')of the 2D plane.\nI have done the following works:\n\n\nDefined the Fault as a block by using 'LowerDBlockFromSidesetGenerator' in the input file of MOOSE or by inserting 'lower_dimensional_block' after the \"Fault\" name in the .msh file.\n\n\nImposed NeumannBC on the  'Leftline' in the input file of MOOSE.\n\n\nStarted my simulation, then I got the error information:\nThe object ''Leftline_h' contains the following side set ids that do not exist on the mesh: 1. MOOSE distinguishes between \"node sets\" and \"side sets\" depending on whether you are using \"Nodal\" or \"Integrated\" BCs respectively. Node sets corresponding to your side sets are constructed for you by default. Try setting \"Mesh/construct_side_set_from_node_set=true\" if you see this error.\n\n\nI setted construct_side_set_from_node_set=true  but I got the same error information again.  But if I set DirichletBC on the 'Leftline', this was no error.\nCould you please give me suggestions on this? Thanks a lot.\nYan\n\nmesh files.zip",
          "url": "https://github.com/idaholab/moose/discussions/16850",
          "updatedAt": "2022-10-23T23:24:55Z",
          "publishedAt": "2021-02-02T14:19:02Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "Could you also attach your input file (at least the [Mesh] block) after adding \"construct_side_set_from_node_set=true\"?",
                  "url": "https://github.com/idaholab/moose/discussions/16850#discussioncomment-331110",
                  "updatedAt": "2022-07-09T09:29:35Z",
                  "publishedAt": "2021-02-02T14:51:13Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Joseph-0123"
                          },
                          "bodyText": "Yes, here it is.\n[Mesh]\n[file]\ntype = FileMeshGenerator\nfile = case.msh\n[]\n[./Faultld]\ninput = file\ntype = LowerDBlockFromSidesetGenerator\nnew_block_id = '10'\nnew_block_name = 'Faultld'\nsidesets = '2'\n[../]\nconstruct_side_list_from_node_list=true\n[]\n[BCs]\n[./Leftline_h]\ntype = NeumannBC\nvariable = pressure\nboundary = 'Leftline'\nvalue = -1e-5\n[../]\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/16850#discussioncomment-331158",
                          "updatedAt": "2022-07-09T09:29:35Z",
                          "publishedAt": "2021-02-02T15:11:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Should it be \"construct_side_list_from_node_list\" or \"construct_side_set_from_node_set\"?",
                          "url": "https://github.com/idaholab/moose/discussions/16850#discussioncomment-331888",
                          "updatedAt": "2022-07-09T09:29:35Z",
                          "publishedAt": "2021-02-02T18:47:38Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Joseph-0123"
                          },
                          "bodyText": "Actually, I tried both two options (using together or using just one) and all failed.",
                          "url": "https://github.com/idaholab/moose/discussions/16850#discussioncomment-332066",
                          "updatedAt": "2022-07-09T09:29:35Z",
                          "publishedAt": "2021-02-02T19:38:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "When I run it with \"--mesh-only\", and it doesn't show any side set or node set in it. Indeed, there are some empty nodes in \"case.msh\". If I were you I would double check my gmsh journal.",
                          "url": "https://github.com/idaholab/moose/discussions/16850#discussioncomment-332314",
                          "updatedAt": "2022-07-11T03:31:06Z",
                          "publishedAt": "2021-02-02T20:57:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Joseph-0123"
                          },
                          "bodyText": "Gary, thanks for your remind.  The Gmsh journal is attached here.\nIn my case,  defining the 2D Fault as a block From Sidesets to Nodesets is valid. But defining 1D 'Leftline'  as a boundary using the  \"From Nodesets to Sidesets\" has an error and maybe conflict with \"From Sidesets to Nodesets\". Because in one MOOSE simulation, only one way (\u201cFrom Sidesets to Nodesets\u201d or\"From Nodesets to Sidesets\") can be used and can not be used together(see https://mooseframework.inl.gov/source/mesh/MooseMesh.html).\nI don't know whether my former understanding is right or wrong. Please correct me, thanks.\njournal.txt",
                          "url": "https://github.com/idaholab/moose/discussions/16850#discussioncomment-332586",
                          "updatedAt": "2022-07-11T03:31:06Z",
                          "publishedAt": "2021-02-02T22:13:57Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Has this been resolved?",
                          "url": "https://github.com/idaholab/moose/discussions/16850#discussioncomment-1228657",
                          "updatedAt": "2022-07-11T03:31:06Z",
                          "publishedAt": "2021-08-24T17:15:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "saturn00000"
                          },
                          "bodyText": "Has this been resolved?\n\nHi @GiudGiud,\ncan we apply NeumannBC on a single node in 2D?\nI tried to test NeumannBC on a single node (named 'ptt') of the 2D plane (the mesh is generated by Gmsh).\nIn order to use this gmsh file, construct_side_list_from_node_list = true is active in MOOSE(see #16850 (reply in thread) ).\nBut construct_side_list_from_node_list = true cannot be used due to the error:\n(BCs/right/boundary):\n    the following side sets (ids) do not exist on the mesh: ptt (10)\n\n    MOOSE distinguishes between \"node sets\" and \"side sets\" depending on whether\n    you are using \"Nodal\" or \"Integrated\" BCs respectively. Node sets corresponding\n    to your side sets are constructed for you by default.\n\n    Try setting \"Mesh/construct_side_list_from_node_list=true\" if you see this error.\n    Note: If you are running with adaptivity you should prefer using side sets.\n\nHere is the input file\n[Mesh]\n  [file]\n  type = FileMeshGenerator\n  file = gmsh/model04.msh\n  []\n\nconstruct_node_list_from_side_list = false # true\nconstruct_side_list_from_node_list = true\n[]\n\n\n[Variables]\n  [./u]\n  [../]\n[]\n\n[Kernels]\n  [./diff]\n    type = Diffusion\n    variable = u\n  [../]\n[]\n\n[BCs]\n  [./right]\n    type = NeumannBC\n    variable = u\n    boundary = ptt\n    value = 2\n  [../]\n[]\n\n[Executioner]\n  type = Steady\n\n  solve_type = 'PJFNK'\n\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = 'hypre boomeramg'\n[]\n\n[Outputs]\n  exodus = true\n[]\n\n.msh file:\n$MeshFormat\n4.1 0 8\n$EndMeshFormat\n$PhysicalNames\n1\n0 10 \"ptt\"\n$EndPhysicalNames\n$Entities\n4 4 1 0\n1 0 0 0 0 \n2 10 0 0 0 \n3 10 10 0 1 10 \n4 0 10 0 0 \n1 -1.000000002804313e-07 -1e-07 -1e-07 10.0000001 1e-07 1e-07 0 2 1 -2 \n2 9.999999900000001 -1.000000002804313e-07 -1e-07 10.0000001 10.0000001 1e-07 0 2 2 -3 \n3 -1.000000002804313e-07 9.999999900000001 -1e-07 10.0000001 10.0000001 1e-07 0 2 3 -4 \n4 -1e-07 -1.000000002804313e-07 -1e-07 1e-07 10.0000001 1e-07 0 2 4 -1 \n1 -1.000000002804313e-07 -1.000000002804313e-07 -1e-07 10.0000001 10.0000001 1e-07 0 4 4 1 2 3 \n$EndEntities\n$Nodes\n9 9 1 9\n0 1 0 1\n2\n0 0 0\n0 2 0 1\n3\n10 0 0\n0 3 0 1\n1\n10 10 0\n0 4 0 1\n4\n0 10 0\n1 1 0 1\n5\n5 0 0\n1 2 0 1\n6\n10 5 0\n1 3 0 1\n7\n5 10 0\n1 4 0 1\n8\n0 5 0\n2 1 0 1\n9\n5.01650975510978 5.01650975510978 0\n$EndNodes\n$Elements\n9 16 1 16\n0 1 15 1\n2 2 \n0 2 15 1\n3 3 \n0 3 15 1\n1 1 \n0 4 15 1\n4 4 \n1 1 1 2\n5 2 5 \n6 5 3 \n1 2 1 2\n7 3 6 \n8 6 1 \n1 3 1 2\n9 1 7 \n10 7 4 \n1 4 1 2\n11 4 8 \n12 8 2 \n2 1 3 4\n13 9 8 2 5 \n14 9 5 3 6 \n15 9 7 4 8 \n16 6 1 7 9 \n$EndElements",
                          "url": "https://github.com/idaholab/moose/discussions/16850#discussioncomment-3944352",
                          "updatedAt": "2022-10-23T15:31:12Z",
                          "publishedAt": "2022-10-23T15:31:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nWith a nodal variable yes you should be able to.\nHowever, you cannot create a side from a single node. So anything that expects a side to build a boundary condition (like in finite volume for example) will not be able to.\nGuillaume",
                          "url": "https://github.com/idaholab/moose/discussions/16850#discussioncomment-3944430",
                          "updatedAt": "2022-10-23T15:48:15Z",
                          "publishedAt": "2022-10-23T15:48:14Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "BCs around subdomains and visualization of result",
          "author": {
            "login": "salaudeen-ya"
          },
          "bodyText": "Hello,\nI am trying out MultiApp to solve two domains. In my simple case, the domains are solving the same equation since I am just literally splitting one domain into two.\nThe question is: I want to transfer between the two subdomains and I am not sure of the right boundary conditions to use. At the interface, I want right BC of the first one and the left BCs of the second domain to be Robin BCs (or a better way to specifiy the interfaceBC). Is there a way I can do that? The whole domain has DirichletBC on the left and Neumann on the right.\nIn addition, how can I visualize the result from the subdomains? By now, I am using Paraview option and I can only see the results of the subdomains separately. Is it possible to have a single plots from the subdomains plotted together? I mean, say the whole domain is 10 unit long and the interface is at point 5, how to plot from 0 - 10?\n--------Parent---\n`[Mesh]\n  type = GeneratedMesh\n  dim = 1\n[]\n\n[Variables]\n  [u]\n    order = FIRST\n    family = LAGRANGE\n  []\n[]\n\n[AuxVariables]\n  [flux_u]\n    order = CONSTANT\n    family = MONOMIAL\n  []\n[]\n\n[Kernels]\n  [diffusion]\n    type = MatDiffusion\n    variable = u\n    diffusivity = 2\n  []\n[]\n\n[AuxKernels]\n  [fluxKernel]\n    type = DiffusionFluxAux\n    diffusivity = 2\n    variable = flux_u\n    diffusion_variable = u\n    component = x\n  []\n[]\n\n[BCs]\n  [leftBC] \n    type = DirichletBC\n    variable = u\n    boundary = 'left'\n    value = 0\n  []\n\n  [rightBC] \n    type = NeumannBC\n    variable = u\n    boundary = 'right' \n    value = 1\n  []\n[]\n\n[Executioner]\n  type = Steady\n  solve_type = 'PJFNK'\n\n  fixed_point_max_its = 20\n  nl_abs_tol = 1e-10\n  fixed_point_rel_tol = 1e-16\n  fixed_point_abs_tol = 1e-10\n\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = 'hypre boomeramg'\n[]\n\n[Outputs]\n  exodus = true\n  #csv = true\n  console = true\n[]\n\n\n[MultiApps]\n  [sub]\n    type = FullSolveMultiApp\n    execute_on = timestep_end\n    positions = '0.5 0 0'\n    input_files = sub.i\n  []\n[]\n\n[Transfers]\n  [pull_u]\n    type = MultiAppNearestNodeTransfer\n    to_multi_app = sub\n    source_variable = u\n    source_boundary = right\n    variable = u_transfer\n  []\n[]`\n\n------Subdomain------\n`[Mesh]\n  type = GeneratedMesh\n  dim = 1\n[]\n\n[Variables]\n  [u]\n    order = FIRST\n    family = LAGRANGE\n  []\n[]\n\n[AuxVariables]\n  [u_transfer]\n    order = CONSTANT\n    family = MONOMIAL\n  []\n[]\n\n[Kernels]\n  [diffusion]\n    type = MatDiffusion\n    variable = u\n    diffusivity = 2\n  []\n[]\n\n[AuxKernels]\n  [fluxKernel]\n    type = DiffusionFluxAux\n    diffusivity = 2\n    variable = u_transfer\n    diffusion_variable = u\n    component = x\n  []\n[]\n\n[BCs]\n  [leftBC] \n    type = DirichletBC\n    variable = u\n    boundary = 'left'\n    value = 0\n  []\n\n  [rightBC] \n    type = DirichletBC\n    variable = u\n    boundary = 'right' \n    value = 1\n  []\n[]\n\n[Executioner]\n  type = Steady\n  solve_type = 'PJFNK'\n\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = 'hypre boomeramg'\n[]\n\n[Outputs]\n  exodus = true\n  #csv = true\n  console = true\n[]\n\nThank you!",
          "url": "https://github.com/idaholab/moose/discussions/22470",
          "updatedAt": "2022-11-15T18:09:37Z",
          "publishedAt": "2022-10-23T00:05:53Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nfor the plotting question, the easiest is to load multiple output files and display them together in Paraview.\nNote that you may translate simulations in MOOSE using the multi app positions parameter and/or modifying the origin of the app\u2019s mesh (using a TransformGenerator for example)\nyou can transfer to an auxiliary variable using a nearest node strategy if the two domains don\u2019t overlap. Then this variable will only contain the boundary value from the other application, and may be specified in a coupled boundary condition\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22470#discussioncomment-3942420",
                  "updatedAt": "2022-10-23T16:06:23Z",
                  "publishedAt": "2022-10-23T05:14:14Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "A question about the class ElementIntegralVariablePostprocessor",
          "author": {
            "login": "TJT-post95"
          },
          "bodyText": "Dear MOOSE:\nIn the 'Example 20 - UserObjects', the BlockAverageValue  which derived from class ElementIntegralVariablePostprocessor has been applied. It could be found that one of the parent classes of ElementIntegralVariablePostprocessor is MooseVariableInterface<Real>. However, the member attributes _u and _grad_u are initialized by coupledValue() and coupledGradient() respectively. And addMooseVariableDependency(&mooseVariableField()) could be replaced by addMooseVariableDependency(getCoupledMooseVars()) to make the same effect. So it seems that do not inherit class MooseVariableInterface<Real> the ElementIntegralVariablePostprocessor also could work. Does ElementIntegralVariablePostprocessor inherit class MooseVariableInterface<Real> have other considerations, is it necessary?\nThank you!",
          "url": "https://github.com/idaholab/moose/discussions/22472",
          "updatedAt": "2022-11-15T18:09:25Z",
          "publishedAt": "2022-10-23T03:53:31Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nyou have to consider the needs of all the subclasses and potential subclasses of this class.\nAs you can see in the base classes like UserObject or ElementUserObject, we inherit a lot of interfaces to be ready for whatever a derived class needs.\nI can check tomorrow this particular situation\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22472#discussioncomment-3942423",
                  "updatedAt": "2022-10-23T05:16:59Z",
                  "publishedAt": "2022-10-23T05:16:58Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I agree we dont need it in this class.",
                          "url": "https://github.com/idaholab/moose/discussions/22472#discussioncomment-3944270",
                          "updatedAt": "2022-10-23T15:18:04Z",
                          "publishedAt": "2022-10-23T15:18:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "TJT-post95"
                          },
                          "bodyText": "Got. Thank you\uff5e",
                          "url": "https://github.com/idaholab/moose/discussions/22472#discussioncomment-3944295",
                          "updatedAt": "2022-10-23T15:22:40Z",
                          "publishedAt": "2022-10-23T15:22:39Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Restart on poly_grain_growth_2D_eldrforce.i",
          "author": {
            "login": "PengWei97"
          },
          "bodyText": "Dear MOOSE experts,\nRecently I am using the restart function of moose, based on the examples of power_law_creep_restart1.i and power_law_creep_restart2.i to modify the combined/poly_grain_growth_2D_eldrforce.i to get poly_grain_growth_2D_eldrforce_restart1.i and poly_grain_restart2.i. I hope the restart function can work on this example. But an error is displayed in GrainTracker, and the error displayed to the terminal is as follows, poly_grain_growth_2D_eldrforce_restart.log\nGrain Tracker Status:\n\u2026\ninished inside of GrainTracker\n===================================================================================\n=   BAD TERMINATION OF ONE OF YOUR APPLICATION PROCESSES\n=   PID 64255 RUNNING AT xia-virtual-machine\n=   EXIT CODE: 139\n=   CLEANING UP REMAINING PROCESSES\n=   YOU CAN IGNORE THE BELOW CLEANUP MESSAGES\n===================================================================================\nYOUR APPLICATION TERMINATED WITH THE EXIT STRING: Segmentation fault (signal 11)\nThis typically refers to a problem with your application.\nPlease see the FAQ page for debugging suggestion\n\nAny suggestions or recommendations to fix these problems would be greatly appreciated.\nThank you\nWei Peng",
          "url": "https://github.com/idaholab/moose/discussions/17441",
          "updatedAt": "2022-10-23T15:21:31Z",
          "publishedAt": "2021-03-28T15:18:27Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nCould you please run this in a debugger (gdb or lldb) ? Seg faults should be fairly easy to track and will give us more information about what is failing.\nMuch more information will be displayed if you do this with a debug build of moose (METHOD=dbg make to build)\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-554739",
                  "updatedAt": "2022-07-04T08:29:50Z",
                  "publishedAt": "2021-03-31T20:55:01Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "PengWei97"
                          },
                          "bodyText": "Hello\nCould you please run this in a debugger (gdb or lldb) ? Seg faults should be fairly easy to track and will give us more information about what is failing.\nMuch more information will be displayed if you do this with a debug build of moose (METHOD=dbg make to build)\nGuillaume\n\nHi, Guillaume. Thank you for your help.\nI used the dbg debugger to run my poly_grain_growth_2D_eldrforce_restart2.i file, and its errors are shown as follows,\nFinished inside of GrainTracker\n\nAssertion'grain id <grain data.size()' failed\nRequested data for invalid grain index.\nat /home/xia/projects/moose/modules/phase field/build/header _symlinks/GrainDataTracker.h,line 46\nStack frames: 22\n\nThis error is displayed in the GrainDataTracker.h file. To be honest, I am not sure how to solve this error. Would you have any suggestions?",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-558359",
                          "updatedAt": "2022-07-04T08:29:49Z",
                          "publishedAt": "2021-04-01T15:37:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Thanks. Could you please provide the backtrace as well? For this, once the debug build has completed in the debugger, type bt\n@permcody should be able to help you then for grain growth problems",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-558440",
                          "updatedAt": "2022-07-04T08:29:50Z",
                          "publishedAt": "2021-04-01T15:44:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "PengWei97"
                          },
                          "bodyText": "Thank you very much for your reply.\nAccording to your suggestion, once the debug build has completed in the debugger, type b MPI_Abort.\nThe information displayed is in the debug_informatin.log file.",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-559240",
                          "updatedAt": "2022-07-04T08:29:50Z",
                          "publishedAt": "2021-04-01T17:45:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "permcody"
                          },
                          "bodyText": "The restart issue may not be the underlying issue here. I seem to recall this particular input needed some other fixups. Are you able to run the simulation to completion without using the restart capability? If so, it may just be a question of going through the specific objects in this file and making sure any stateful data is properly declared as \"restartable\".",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-560247",
                          "updatedAt": "2022-07-05T13:57:13Z",
                          "publishedAt": "2021-04-01T21:23:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "PengWei97"
                          },
                          "bodyText": "Thanks, @permcody\nYes, if the restart capability is not applicable, that is the Problem module is deleted from the input file, the simulation can be run. And, you said to ensure that any stateful data is properly declared as \"restartable\". I don't really understand how to do it.\nI think this problem should appear on the graintracker object, because it is time to use the restart capability to show that it is due to \"Assertion'grain id <grain data.size()' failed\"",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-561813",
                          "updatedAt": "2022-07-05T13:57:12Z",
                          "publishedAt": "2021-04-02T10:09:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "PengWei97"
                          },
                          "bodyText": "hi @permcody,\nI searched for the keyword \u2018restartable\u2019 on the moose website and found the following. declareRestartableData() is used to declare that the data is \u2018Restartable\u2019. Details as follow,\n\nThen I searched the variables declared as Restartable in GrainTracker.C and found that there are two variables. Respectively are\n\n./GrainTracker.C: _first_time(declareRestartableData(\"first_time\", true)),\n./GrainTracker.C: _max_curr_grain_id(declareRestartableData(\"max_curr_grain_id\", invalid_id)),\n\nAccording to your suggestion, should I look for the variable that cannot be restarted in GrainTracker.C, that is, the variable needed for restart, and finally declare it as \u2018Restartable\u2019.\nBest Regards,\nwei",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-598768",
                          "updatedAt": "2022-07-05T13:57:12Z",
                          "publishedAt": "2021-04-12T09:41:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Is this solved?\nFrom the debug log it seems an assert is failing.\nAre both items compared in this assert restarted (grain_id and grain_data I think)? You may want to print them after the restart",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-705417",
                          "updatedAt": "2021-05-06T16:57:10Z",
                          "publishedAt": "2021-05-06T16:57:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "PengWei97"
                          },
                          "bodyText": "Thanks, @GiudGiud\nYes, this problem has not been resolved. So I cannot use the restart function on this coupling example.\n\nFrom the debug log it seems an assert is failing.\n\nPlease forgive me for being a rookie for using the moose debugging environment, and I can only set these 5 breakpoints in the mian function. The following is the information I think is more important when debugging. For detailed information, please read restart02.md.\nHope the following information will help me to solve this problem,\nAssertion `grain_id < _grain_data.size()' failed\nRequested data for invalid grain index.\nat /home/xia/projects/moose/modules/phase_field/build/header_symlinks/GrainDataTracker.h, line 46\nStack frames: 22\n0: libMesh::print_trace(std::ostream&)\n1: GrainDataTracker<RankFourTensorTempl<double> >::getData(unsigned int) const\n2: ComputePolycrystalElasticityTensor::computeQpElasticityTensor()\n3: ComputeElasticityTensorBaseTempl<false>::computeQpProperties()\n4: Material::computeProperties()\n5: MaterialData::reinit(std::__debug::vector<std::shared_ptr<MaterialBase>, std::allocator<std::shared_ptr<MaterialBase> > > const&, bool)\n6: FEProblemBase::reinitMaterials(unsigned short, unsigned int, bool)\n7: ComputeElemAuxVarsThread<AuxKernelTempl<double> >::onElement(libMesh::Elem const*)\n8: ThreadedElementLoopBase<libMesh::StoredRange<libMesh::MeshBase::const_element_iterator, libMesh::Elem const*> >::operator()(libMesh::StoredRange<libMesh::MeshBase::const_element_iterator, libMesh::Elem const*> const&, bool)\n9: /home/xia/projects/moose/framework/libmoose-dbg.so.0(+0x3ab1c4e) [0x7ffff605dc4e]\n10: void AuxiliarySystem::computeElementalVarsHelper<AuxKernelTempl<double> >(MooseObjectWarehouse<AuxKernelTempl<double> > const&, std::__debug::vector<std::__debug::vector<MooseVariableFieldBase*, std::allocator<MooseVariableFieldBase*> >, std::allocator<std::__debug::vector<MooseVariableFieldBase*, std::allocator<MooseVariableFieldBase*> > > > const&, unsigned int)\n11: AuxiliarySystem::computeElementalVars(MooseEnumItem)\n12: AuxiliarySystem::compute(MooseEnumItem)\n13: FEProblemBase::computeAuxiliaryKernels(MooseEnumItem const&)\n14: FEProblemBase::execute(MooseEnumItem const&)\n15: FEProblemBase::initialSetup()\n16: Transient::init()\n17: MooseApp::executeExecutioner()\n18: MooseApp::run()\n19: /home/xia/projects/kunpeng/kunpeng-dbg(+0x1434b) [0x55555556834b]\n20: __libc_start_main\n21: /home/xia/projects/kunpeng/kunpeng-dbg(+0x13189) [0x555555567189]\n[0] /home/xia/projects/moose/modules/phase_field/build/header_symlinks/GrainDataTracker.h, line 46, compiled May  7 2021 at 17:40:01\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1\n:\nsystem msg for write_line failure : Bad file descriptor\n---------------------------------------------------------------------------------\n| Time:           Fri May  7 20:02:09 2021                                        |\n| OS:             Linux                                                           |\n| HostName:       xia-virtual-machine                                             |\n| OS Release:     5.8.0-50-generic                                                |\n| OS Version:     #56~20.04.1-Ubuntu SMP Mon Apr 12 21:46:35 UTC 2021             |\n| Machine:        x86_64                                                          |\n| Username:       xia                                                             |\n| Configuration:  ../configure  '--enable-silent-rules'                           |\n|  '--enable-unique-id'                                                           |\n|  '--disable-warnings'                                                           |\n|  '--enable-glibcxx-debugging'                                                   |\n|  '--with-thread-model=openmp'                                                   |\n|  '--disable-maintainer-mode'                                                    |\n|  '--enable-petsc-hypre-required'                                                |\n|  '--enable-metaphysicl-required'                                                |\n|  '--prefix=/home/xia/miniconda3/envs/moose/libmesh'                             |\n|  '--with-vtk-lib=/home/xia/miniconda3/envs/moose/libmesh-vtk/lib'               |\n|  '--with-vtk-include=/home/xia/miniconda3/envs/moose/libmesh-vtk/include/vtk-6.3'|\n|  '--with-methods=opt oprof devel dbg'                                           |\n|  '--without-gdb-command'                                                        |\n|  'build_alias=x86_64-conda-linux-gnu'                                           |\n|  'host_alias=x86_64-conda-linux-gnu'                                            |\n|  'PETSC_DIR=/home/xia/miniconda3/envs/moose'                                    |\n|  'CC=mpicc'                                                                     |\n|  'CFLAGS=-march=nocona -mtune=haswell'                                          |\n|  'LDFLAGS=-Wl,-S'                                                               |\n|  'FC=mpifort'                                                                   |\n|  'F77=mpifort'                                                                  |\n|  'CXX=mpicxx'                                                                   |\n|  'CXXFLAGS=-march=nocona -mtune=haswell'                                        |\n|  'CPP=/home/xia/miniconda3/envs/moose/bin/x86_64-conda-linux-gnu-cpp'           |\n ---------------------------------------------------------------------------------\n ------------------------------------------------------------------------------------------------------------\n| kunpeng Performance: Alive time=868.405, Active time=0.000206                                              |\n ------------------------------------------------------------------------------------------------------------\n| Event                         nCalls     Total Time  Avg Time    Total Time  Avg Time    % of Active Time  |\n|                                          w/o Sub     w/o Sub     With Sub    With Sub    w/o S    With S   |\n|------------------------------------------------------------------------------------------------------------|\n|                                                                                                            |\n|                                                                                                            |\n| PolycrystalICTools                                                                                         |\n|   assignOpsToGrains()         1          0.0002      0.000206    0.0002      0.000206    100.00   100.00   |\n ------------------------------------------------------------------------------------------------------------\n| Totals:                       1          0.0002                                          100.00            |\n ------------------------------------------------------------------------------------------------------------\n\n--Type <RET> for more, q to quit, c to continue without paging--\n\n\nAre both items compared in this assert restarted (grain_id and grain_data I think)? You may want to print them after the restart\n\nPlease forgive me for not understanding the meaning of this sentence. Is it necessary to set these two data to \"restartable\"?\nAnd according to the suggestion from @permcody , making sure any stateful data is properly declared as \"restartable\". The terminal shows that the error occurred in /home/xia/projects/moose/modules/phase_field/build/header_symlinks/GrainDataTracker.h\ntemplate <typename T>\nconst T &\nGrainDataTracker<T>::getData(unsigned int grain_id) const\n{\n   mooseAssert(grain_id <_grain_data.size(), \"Requested data for invalid grain index.\");\n   return _grain_data[grain_id];\n}\nDo I need to declare grain_id and _grain_data as \"restartable\"?  Feel free to try to do this, but I don't know how to declare a variable to be \"restartable\".\nBest Regards,\nwei",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-709033",
                          "updatedAt": "2021-05-07T12:23:25Z",
                          "publishedAt": "2021-05-07T12:23:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "grain_id is the function parameter so it's not the issue. / it does not need to be declared restartable.\n_grain_data however is a good candidate to be restartable. It's initializaed by newGrainCreated in the initial simulation and I dont know but I suspect it's not called when restarting.\nCould you try that?\nSorry this is not my area of expertise in the code.",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-710005",
                          "updatedAt": "2021-05-07T15:34:09Z",
                          "publishedAt": "2021-05-07T15:34:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "PengWei97"
                          },
                          "bodyText": "Thanks very much for your enthusiastic answer, @GiudGiud\nI think what you said is correct. I performed the restart operation on grain_growth_2D_graintracker.i, and it proved that it was operational. However, the problematic poly_grain_growth_2D_eldrforce.i used a derived class of GrainDataTracker.h, namely GrainTrackerElasticity, and GrainDataTracker.h is a template class that inherits GrainDataTracker.\nTherefore, I also think that restart is interrupted somewhere in GrainDataTracker.h.\nFinally,I will try my best to solve this problem, and hope you can provide more opinions for moose beginners like me.\nThanks,\nwei",
                          "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-713305",
                          "updatedAt": "2022-09-06T23:49:05Z",
                          "publishedAt": "2021-05-08T14:08:27Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nWith the merging of #22450 the situation should have improved here.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/17441#discussioncomment-3944290",
                  "updatedAt": "2022-10-23T15:21:32Z",
                  "publishedAt": "2022-10-23T15:21:31Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Phase field modeling",
          "author": {
            "login": "nishant1785"
          },
          "bodyText": "I am new to phase field modeling. I am running 3D version of this code & even after 1000 iterations it's not converging but in 2D it converges really quick. Parameters kappa and M were same for both cases (0.1 & 1).\nThank you\nTest the non-split parsed function free enery Cahn-Hilliard Bulk kernel\n# The free energy used here has the same functional form as the CHPoly kernel\n# If everything works, the output of this test should replicate the output\n# of marmot/tests/chpoly_test/CHPoly_test.i (exodiff match)\n#\n\n[Mesh]\n  type = GeneratedMesh\n  dim = 2\n  nx = 16\n  ny = 16\n  xmax = 50\n  ymax = 50\n  elem_type = QUAD4\n[]\n\n[Variables]\n  [./cv]\n    order = THIRD\n    family = HERMITE\n  [../]\n[]\n\n[ICs]\n  [./InitialCondition]\n    type = CrossIC\n    x1 = 5.0\n    y1 = 5.0\n    x2 = 45.0\n    y2 = 45.0\n    variable = cv\n  [../]\n[]\n\n[Kernels]\n  [./ie_c]\n    type = TimeDerivative\n    variable = cv\n  [../]\n  [./CHSolid]\n    type = CahnHilliard\n    variable = cv\n    f_name = F\n    mob_name = M\n  [../]\n  [./CHInterface]\n    type = CHInterface\n    variable = cv\n    mob_name = M\n    kappa_name = kappa_c\n  [../]\n[]\n\n[Materials]\n  [./consts]\n    type = GenericConstantMaterial\n    prop_names  = 'M kappa_c'\n    prop_values = '1 0.1'\n  [../]\n  [./free_energy]\n    type = DerivativeParsedMaterial\n    f_name = F\n    args = 'cv'\n    function = '(1-cv)^2 * (1+cv)^2'\n  [../]\n[]\n\n[Executioner]\n  type = Transient\n  scheme = 'bdf2'\n\n  solve_type = 'NEWTON'\n  petsc_options_iname = '-pc_type -pc_hypre_type -ksp_gmres_restart'\n  petsc_options_value = 'hypre boomeramg 31'\n\n  l_max_its = 15\n  l_tol = 1.0e-4\n  nl_max_its = 10\n  nl_rel_tol = 1.0e-11\n\n  start_time = 0.0\n  num_steps = 2\n  dt = 0.7\n[]\n\n[Outputs]\n  [./out]\n    type = Exodus\n    refinements = 1\n  [../]\n[]",
          "url": "https://github.com/idaholab/moose/discussions/22363",
          "updatedAt": "2022-11-15T18:09:16Z",
          "publishedAt": "2022-10-11T11:11:03Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nCan you try turning on automatic scaling on this?\nSetting convergence parameters manually is not always a good idea, it can accept solution too early or never accept them if too tight.\nAlso could you please attach the console log?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3850336",
                  "updatedAt": "2022-10-11T12:57:30Z",
                  "publishedAt": "2022-10-11T12:57:29Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "MOOSE automatically changes the strong threshold for boomeramg depending on the topological dimension of your problem. IIRC the threshold is 0.4(or 0.25?) in 2D and 0.7 in 3D. As a result you may need to adjust some other parameters of boomeramg for it to work better. There is a nice documentation on boomeramg here: https://mooseframework.inl.gov/application_development/hypre.html\nAnother issue is that boomeramg doesn't work if you use the split formulation of cahn-hilliard. But it seems like you are solving the original fourth order pde, so that probably isn't culprit here.",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3850389",
                          "updatedAt": "2022-10-11T13:03:58Z",
                          "publishedAt": "2022-10-11T13:03:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "You can also try a much stronger preconditioner, e.g. lu or ilu, just to see if it is a solver issue. If a direct solver works, then almost certainly you'll have to adjust the boomeramg parameters to make it stronger.",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3850404",
                          "updatedAt": "2022-10-11T13:05:45Z",
                          "publishedAt": "2022-10-11T13:05:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Any update on this? @nishant1785",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3937900",
                          "updatedAt": "2022-10-22T00:03:44Z",
                          "publishedAt": "2022-10-22T00:03:43Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "friedmud"
                  },
                  "bodyText": "An nl_rel_tol of 1-e11 is fairly strict!  I would loosen that up to 1e-8 or 1e-6.  Can you post what your convergence history looks like in 2D and 3D?",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3851204",
                  "updatedAt": "2022-10-11T14:28:58Z",
                  "publishedAt": "2022-10-11T14:28:58Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nishant1785"
                  },
                  "bodyText": "Hello all, @friedmud and @GiudGiud i did decrease both tolerances you said and i also did automatic rescaling but still after 1000 iterations it did not converge, @hugary1995 for  lu or ilu preconditioner moose is saying no such object exists.\nHere is input file and output file as well. Please take a look.\n\nphase-field1.zip",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3874929",
                  "updatedAt": "2022-10-14T01:50:33Z",
                  "publishedAt": "2022-10-14T01:50:33Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "To set a lu precondition you need to pass:\npetsc_options_iname = '-pc_type'\npetsc_options_ivalue = 'lu'",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3875342",
                          "updatedAt": "2022-10-14T03:19:24Z",
                          "publishedAt": "2022-10-14T03:19:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nishant1785"
                          },
                          "bodyText": "thank you @GiudGiud  will do so and see.",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3875396",
                          "updatedAt": "2022-10-14T03:30:04Z",
                          "publishedAt": "2022-10-14T03:30:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "looks like it s the nonlinear iteration that does not converge well beyond 4e-4 ?",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3875626",
                          "updatedAt": "2022-10-14T04:27:09Z",
                          "publishedAt": "2022-10-14T04:27:09Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nishant1785"
                  },
                  "bodyText": "I forgot to mention it tok 2 days to reach 1000 iterations for 8 core processor PC. Does it take this long time ??",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3875005",
                  "updatedAt": "2022-10-14T02:11:13Z",
                  "publishedAt": "2022-10-14T02:11:12Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "friedmud"
                          },
                          "bodyText": "No - it shouldn't take 1000 nonlinear iterations... ever.  If it's taking more than ~10 that's not great... more than ~50 means it's probably broken.",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3881052",
                          "updatedAt": "2022-10-14T17:18:18Z",
                          "publishedAt": "2022-10-14T17:18:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "friedmud"
                          },
                          "bodyText": "Did you change your mesh between 2D and 3D?",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3881056",
                          "updatedAt": "2022-10-14T17:18:39Z",
                          "publishedAt": "2022-10-14T17:18:38Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nishant1785"
                  },
                  "bodyText": "Thanks for your response derek & Yeah i did change mesh\n\nNishant Gaikwad-7972836355\nM. Tech student\nMaterials Department\nDIAT, DRDO,Girinagar\n411025-Pune\n\u2026\nOn Fri, 14 Oct, 2022, 10:48 pm Derek Gaston, ***@***.***> wrote:\n Did you change your mesh between 2D and 3D?\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22363 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A3ER5T4OXFEF65WB7H3SJ73WDGIXRANCNFSM6AAAAAARCFPLRE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3881071",
                  "updatedAt": "2022-10-14T17:21:54Z",
                  "publishedAt": "2022-10-14T17:21:53Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "friedmud"
                          },
                          "bodyText": "Did you change the mesh density?  Or just the dimension?",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3881094",
                          "updatedAt": "2022-10-14T17:24:58Z",
                          "publishedAt": "2022-10-14T17:24:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "friedmud"
                          },
                          "bodyText": "What I mean is - if it was 20x20 in 2D... did you make it 20x20x20 in 3D?",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3881099",
                          "updatedAt": "2022-10-14T17:25:43Z",
                          "publishedAt": "2022-10-14T17:25:43Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nishant1785"
                  },
                  "bodyText": "That's what I asked initially in this discussion that I took 2D program &\nconverted it to 3D but it's not converging at all. I have also attached\ninput file.\n\nNishant Gaikwad-7972836355\nM. Tech student\nMaterials Department\nDIAT, DRDO,Girinagar\n411025-Pune\n\nOn Fri, 14 Oct, 2022, 10:51 pm Nishant Gaikwad, ***@***.***>\nwrote:\n\u2026\n Thanks for your response derek & Yeah i did change mesh\n\n Nishant Gaikwad-7972836355\n M. Tech student\n Materials Department\n DIAT, DRDO,Girinagar\n 411025-Pune\n\n On Fri, 14 Oct, 2022, 10:48 pm Derek Gaston, ***@***.***>\n wrote:\n\n> Did you change your mesh between 2D and 3D?\n>\n> \u2014\n> Reply to this email directly, view it on GitHub\n> <#22363 (reply in thread)>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/A3ER5T4OXFEF65WB7H3SJ73WDGIXRANCNFSM6AAAAAARCFPLRE>\n> .\n> You are receiving this because you authored the thread.Message ID:\n> ***@***.***>\n>",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3881090",
                  "updatedAt": "2022-10-14T17:24:14Z",
                  "publishedAt": "2022-10-14T17:24:13Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nishant1785"
                  },
                  "bodyText": "Sorry, Yeah yeah that's what i meant earlier I converted it to 3D that is\n20*20*20\n\nNishant Gaikwad-7972836355\nM. Tech student\nMaterials Department\nDIAT, DRDO,Girinagar\n411025-Pune\n\u2026\nOn Fri, 14 Oct, 2022, 10:55 pm Derek Gaston, ***@***.***> wrote:\n What I mean is - if it was 20x20 in 2D... did you make it 20x20x20 in 3D?\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22363 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A3ER5T2GMSTBH2TNJKCICSDWDGJSFANCNFSM6AAAAAARCFPLRE>\n .\n You are receiving this because you authored the thread.Message ID:\n ***@***.***>",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3881118",
                  "updatedAt": "2022-10-14T17:30:32Z",
                  "publishedAt": "2022-10-14T17:30:31Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nishant1785"
                  },
                  "bodyText": "No update sir, it's still not converging.\n\nNishant Gaikwad-7972836355\nM. Tech student\nMaterials Department\nDIAT, DRDO,Girinagar\n411025-Pune\n\u2026\nOn Sat, 22 Oct, 2022, 5:33 am Guillaume Giudicelli, < ***@***.***> wrote:\n Any update on this? @nishant1785 <https://github.com/nishant1785>\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22363 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A3ER5T5FXVSAK4VTZWHMSJDWEMVOTANCNFSM6AAAAAARCFPLRE>\n .\n You are receiving this because you were mentioned.Message ID:\n ***@***.***>",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3937918",
                  "updatedAt": "2022-10-22T00:13:51Z",
                  "publishedAt": "2022-10-22T00:13:50Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "did you try what @hugary1995 suggested?",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3937921",
                          "updatedAt": "2022-10-22T00:17:41Z",
                          "publishedAt": "2022-10-22T00:17:41Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nishant1785"
                  },
                  "bodyText": "I did try stronger preconditioner but it didn't converge but I didn't try\nboomeramg options. I will try that.\n\nNishant Gaikwad-7972836355\nM. Tech student\nMaterials Department\nDIAT, DRDO,Girinagar\n411025-Pune\n\u2026\nOn Sat, 22 Oct, 2022, 5:47 am Guillaume Giudicelli, < ***@***.***> wrote:\n did you try what @hugary1995 <https://github.com/hugary1995> suggested?\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22363 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A3ER5T4WXQX2CRUCPXKXX4TWEMXDBANCNFSM6AAAAAARCFPLRE>\n .\n You are receiving this because you were mentioned.Message ID:\n ***@***.***>",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3937935",
                  "updatedAt": "2022-10-22T00:25:56Z",
                  "publishedAt": "2022-10-22T00:25:55Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Ok you should try svd preconditioning with the svd monitor. That will let us know if the problem is singular or not\nThis is very expensive so you ll need to recuse the number of dofs to a few thousands at most",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3941161",
                          "updatedAt": "2022-10-22T19:05:46Z",
                          "publishedAt": "2022-10-22T19:05:46Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nishant1785"
                  },
                  "bodyText": "But I am not getting this , openFoam software does this problem in 15\nminutes but for MOOSE why is it so hard??\n\nNishant Gaikwad-7972836355\nM. Tech student\nMaterials Department\nDIAT, DRDO,Girinagar\n411025-Pune\n\u2026\nOn Sun, 23 Oct, 2022, 12:35 am Guillaume Giudicelli, < ***@***.***> wrote:\n Ok you should try svd preconditioning with the svd monitor. That will let\n us know if the problem is singular or not\n\n This is very expensive so you ll need to recuse the number of dofs to a\n few thousands at most\n\n \u2014\n Reply to this email directly, view it on GitHub\n <#22363 (reply in thread)>,\n or unsubscribe\n <https://github.com/notifications/unsubscribe-auth/A3ER5TYSR3TQRE3VN54RLV3WEQ3JLANCNFSM6AAAAAARCFPLRE>\n .\n You are receiving this because you were mentioned.Message ID:\n ***@***.***>",
                  "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3942339",
                  "updatedAt": "2022-10-23T04:18:22Z",
                  "publishedAt": "2022-10-23T04:18:21Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "The problem setup likely has issues.\nmaybe @dschwen can comment on your inputs?",
                          "url": "https://github.com/idaholab/moose/discussions/22363#discussioncomment-3942412",
                          "updatedAt": "2022-10-23T05:09:10Z",
                          "publishedAt": "2022-10-23T05:09:09Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Adding lots of functions",
          "author": {
            "login": "jessecarterMOOSE"
          },
          "bodyText": "I'd like to write a class that creates lots (thousands?) of PiecewiseLinear Functions based on some x-y data. What's a good way to create all those functions? General User Object? Action? Is there an object in MOOSE that does something similar?",
          "url": "https://github.com/idaholab/moose/discussions/22351",
          "updatedAt": "2022-10-23T02:32:33Z",
          "publishedAt": "2022-10-10T19:50:35Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nAn Action is likely the way to go.\nThere are numerous examples of creating functions in actions.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22351#discussioncomment-3842451",
                  "updatedAt": "2022-10-10T20:05:33Z",
                  "publishedAt": "2022-10-10T20:05:33Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "For reading the data for creating the functions, you may consider the DelimitedFileReader btw",
                          "url": "https://github.com/idaholab/moose/discussions/22351#discussioncomment-3937891",
                          "updatedAt": "2022-10-22T00:01:12Z",
                          "publishedAt": "2022-10-22T00:01:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jessecarterMOOSE"
                          },
                          "bodyText": "I did use an action but ended up rolling my own file  reader. I used MooseUtils to parse the lines because DelimitedFileReader (from what I can tell) only handles floats and the function names are in the file as strings.",
                          "url": "https://github.com/idaholab/moose/discussions/22351#discussioncomment-3942147",
                          "updatedAt": "2022-10-23T02:32:33Z",
                          "publishedAt": "2022-10-23T02:32:32Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "friedmud"
                  },
                  "bodyText": "Based on your description: It sounds like you may also want to look into the PiecewiseMultilinear Function: https://mooseframework.inl.gov/moose/source/functions/PiecewiseMultilinear.html",
                  "url": "https://github.com/idaholab/moose/discussions/22351#discussioncomment-3843248",
                  "updatedAt": "2022-10-10T22:34:17Z",
                  "publishedAt": "2022-10-10T22:34:16Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "friedmud"
                          },
                          "bodyText": "For generating the data files you also want to look at the CSV combiner: https://mooseframework.inl.gov/python/combine_csv.html",
                          "url": "https://github.com/idaholab/moose/discussions/22351#discussioncomment-3843400",
                          "updatedAt": "2022-10-10T23:04:29Z",
                          "publishedAt": "2022-10-10T23:04:28Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Interface kernel with coupled variable",
          "author": {
            "login": "Chaoyue-Liu"
          },
          "bodyText": "I am building a customized interface kernel with coupled variable involved, but I encountered problem that the interface kernel cannot be calculated. Could you help me to check where I did wrong in the code? Thank you!\nThe model is like the following:\n\nMy interface kernels are the followings, BV is for equation 1), BVFLUX is for equation 2).\nBV:\n#include \"BV.h\"\n\nregisterMooseObject(\"batteryApp\", BV);\n\nInputParameters\nBV::validParams()\n{\n  InputParameters params = ADInterfaceKernel::validParams();\n  params.addParam<MaterialPropertyName>(\"i0\",\"name of i0\");\n  params.addParam<MaterialPropertyName>(\"Eeq\",\"name of Eeq\");\n  params.addCoupledVar(\"cl\",\"solid concentration\");\n  params.addClassDescription(\"Implements a reaction to establish ReactionRate=k_f*u-k_b*v \"\n                             \"at interface.\");\n  return params;\n}\n\nBV::BV(const InputParameters & parameters)\n  : ADInterfaceKernel(parameters),\n  _lstandard(getMaterialProperty<Real>(\"i0\")),\n  _Eeq(getMaterialProperty<Real>(\"Eeq\")),\n  _cl(coupledValue(\"cl\"))\n{\n}\n\nADReal\nBV::computeQpResidual(Moose::DGResidualType type)\n{\n  ADReal r = 0;\n  switch (type)\n  {\n    \n    case Moose::Element:\n      r= -_lstandard[_qp] * 96485.33/8.314/293.15* (_u[_qp]-_neighbor_value[_qp]-_Eeq[_qp]) *_test[_i][_qp] * _cl[_qp];\n      break;\n\n    \n    case Moose::Neighbor:\n      r = _lstandard[_qp] * 96485.33/8.314/293.15* (_u[_qp]-_neighbor_value[_qp]-_Eeq[_qp])*_test_neighbor[_i][_qp] * _cl[_qp];\n      break;\n  }\n  return r;\n}\n\nBVFLUX:\n#include \"BVFLUX.h\"\n\nregisterMooseObject(\"batteryApp\", BVFLUX);\n\nInputParameters\nBVFLUX::validParams()\n{\n  InputParameters params = ADInterfaceKernel::validParams();\n  params.addCoupledVar(\"phis\",\"solid potential\");\n  params.addCoupledVar(\"phil\",\"liquid potential\");\n  params.addParam<MaterialPropertyName>(\"i0\",\"name of i0\");\n  params.addParam<MaterialPropertyName>(\"Eeq\",\"name of Eeq\");\n  params.addClassDescription(\"Implements a reaction to establish ReactionRate=k_f*u-k_b*v \"\n                             \"at interface.\");\n  return params;\n}\n\nBVFLUX::BVFLUX(const InputParameters & parameters)\n  : ADInterfaceKernel(parameters),\n  _phis(coupledValue(\"phis\")),\n  _phil(coupledValue(\"phil\")),\n  _lstandard(getMaterialProperty<Real>(\"i0\")),\n  _Eeq(getMaterialProperty<Real>(\"Eeq\"))\n{\n}\n\nADReal\nBVFLUX::computeQpResidual(Moose::DGResidualType type)\n{\n  ADReal r = 0;\n  switch (type)\n  {\n    case Moose::Element:\n      r=-_lstandard[_qp] * 1/8.314/293.15* (_phis[_qp]-_phil[_qp]-_Eeq[_qp])*_test[_i][_qp]*_u[_qp];\n      break;\n  }\n  return r;\n}\n\nMy input file:\n[Mesh]\n    type = FileMesh\n    file = mesh_realsize.inp\n[]\n\n[Variables]\n    [phis]\n        block='solid_TRI3'\n    []\n    [phil]\n        block='liquid_TRI3'\n    []\n    [cl]\n        block='liquid_TRI3'\n    []\n[]\n\n[Materials]\n    [D_solid]\n        type=GenericConstantMaterial\n        prop_names='sigmas sigmal Dl Eeq i0'\n        prop_values='1 1 1e-10 1 0.1'\n    []\n[]\n\n[Kernels]\n\n    [ohm_s]\n        block='solid_TRI3'\n        type=MatDiffusion\n        variable=phis\n        diffusivity='sigmas'\n    []\n\n    [ohm_l]\n        block='liquid_TRI3'\n        type=MatDiffusion\n        variable=phil\n        diffusivity='sigmal'\n    []\n\n    [diff_l]\n        block='liquid_TRI3'\n        type=MatDiffusion\n        variable=cl \n        diffusivity='Dl'\n    []\n    [time_l]\n        block='liquid_TRI3'\n        type=TimeDerivative\n        variable=cl \n    []\n[]\n\n[ICs]\n    [phis_ic]\n        type=ConstantIC\n        variable=phis\n        value=0\n        block='solid_TRI3'\n    []\n    [phil_ic]\n        type=ConstantIC\n        variable=phil\n        value=0\n        block='liquid_TRI3'\n    []\n    [cl_ic]\n        type=ConstantIC\n        variable=cl \n        value=1000\n        block='liquid_TRI3'\n    []\n[]\n\n[BCs]\n    [phis_neumann]\n        boundary='bottom'\n        type=ADNeumannBC\n        variable=phis\n        value=-1\n    []\n\n    [phil_dirichlet]\n        boundary='top'\n        type=ADDirichletBC\n        variable=phil\n        value=0\n    []\n\n    [cl_dirichlet]\n        boundary='top'\n        type=ADDirichletBC\n        variable=cl\n        value=1000\n    []\n[]\n\n[InterfaceKernels]\n    [BV]\n        type=BV \n        variable=phis\n        neighbor_var=phil\n        cl=cl\n        i0='i0'\n        Eeq='Eeq'\n        boundary='interface'\n    []\n    [BVFLUX]\n        type=BVFLUX\n        variable=cl \n        neighbor_var=phis //here I just put phis as a place holder because InterfaceKernel demand a neighbor_var.\n        phis=phis\n        phil=phil\n        i0='i0'\n        Eeq='Eeq'\n        boundary='interface'\n    []\n[]\n\n\n[Executioner]\n    type=Transient\n    num_steps=10\n    dt=10\n    automatic_scaling=true\n    solve_type=NEWTON\n[]\n\n[Outputs]\n    exodus=true\n[]",
          "url": "https://github.com/idaholab/moose/discussions/22366",
          "updatedAt": "2022-10-22T18:56:15Z",
          "publishedAt": "2022-10-11T13:03:21Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nWhat do you mean by cannot be calculated? Did you get an error?\nOne thing to be careful about when using interface kernels is that the sideset, here 'interface' is consistently oriented\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3850889",
                  "updatedAt": "2022-10-11T13:57:29Z",
                  "publishedAt": "2022-10-11T13:57:28Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Chaoyue-Liu"
                          },
                          "bodyText": "Hello,\nThe model cannot converge at the first step. I got the log like this and I have to kill the calculation:",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3852133",
                          "updatedAt": "2022-10-11T15:51:20Z",
                          "publishedAt": "2022-10-11T15:51:20Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "A known issue: if the variable isn't defined on both sides of the interface, the interface kernel won't be calculated. That happens silently so your simulation could still run without warning or error.\nSo... Is your solid concentration block restricted?",
                  "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3850894",
                  "updatedAt": "2022-10-11T13:58:05Z",
                  "publishedAt": "2022-10-11T13:58:05Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Hmm, I see that you defined a dummy neighbor var. Idk what's going on then...",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3850937",
                          "updatedAt": "2022-10-11T14:01:15Z",
                          "publishedAt": "2022-10-11T14:01:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Chaoyue-Liu"
                          },
                          "bodyText": "Yes, phis in BVFLUX is just place holder, it's not actually used in the residual calculation.",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3852166",
                          "updatedAt": "2022-10-11T15:53:29Z",
                          "publishedAt": "2022-10-11T15:53:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "You phil has a Dirichlet BC so that is okay. The phis only has a Neumann BC at the bottom, so if the butler-volmer condition isn't active, there will indeed be a null space, hence the convergence log you saw (i.e. linear solve stagnates).\nCheck if removing the BV interface changes the residual and/or the convergence log. If nothing changes, then we can look into fixing the BV kernel.",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3852721",
                          "updatedAt": "2022-10-11T16:53:07Z",
                          "publishedAt": "2022-10-11T16:53:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "Alternatively, reduce the problem size and run with -pc_type svd -pc_svd_monitor to see if any of the singular values is close to zero.",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3852765",
                          "updatedAt": "2022-10-11T16:58:58Z",
                          "publishedAt": "2022-10-11T16:58:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Chaoyue-Liu"
                          },
                          "bodyText": "Thank you hugary. I did a test which doesn't involve equation 2) (BVFLUX kernel), only equation 1) (BV kernel) is active for bridging phis and phil. The cl domain is changed to covering both liquid_TRI3 and solid_TRI3, with dirichlet on top and neumann on bottom, just to provide cl value to equation 1). The calculation converges fine and the result is correct. Once I involve equation 2) the calculation is not able to proceed. I'm consistently comparing the result with COMSOL with the same equation setup. In COMSOL it's able to converge with equation 2) so I guess the equations are fine. I hope this test replies your first question.\nMy geometry size is 50\u00b5m, I think it's small enough already? And how do I use -pc_type svd -pc_svd_monitor exactly? I'm not expert on this sorry.",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3857937",
                          "updatedAt": "2022-10-12T10:05:21Z",
                          "publishedAt": "2022-10-12T08:24:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "ok, so it seems like the mass balance is affecting the convergence here. But that shouldn't happen as there is a time derivative in cl. Feel free to take a look at what I did here https://github.com/hugary1995/eel/blob/main/test/tests/chemical-electrical/charging.i and work your way back.\n-pc_type svd -pc_svd_monitor are petsc options, you either pass it as cli args, or specify them in the input file as\n[Executioner]\n  petsc_options = '-pc_svd_monitor'\n  petsc_options_iname = '-pc_type'\n  petsc_options_value = 'svd'\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3870051",
                          "updatedAt": "2022-10-13T13:20:34Z",
                          "publishedAt": "2022-10-13T13:20:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Chaoyue-Liu"
                          },
                          "bodyText": "Thank you hugary! I'll look into it.",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3870826",
                          "updatedAt": "2022-10-13T14:35:39Z",
                          "publishedAt": "2022-10-13T14:35:38Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Any update on this?",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3937896",
                          "updatedAt": "2022-10-22T00:02:24Z",
                          "publishedAt": "2022-10-22T00:02:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Chaoyue-Liu"
                          },
                          "bodyText": "Hi Guillaume, the problem is solved. It's because I used CoupledValue instead of CoupledNeighborValue for the variable in neighbor element. Also the relative tolerance need ajustment. Now the kernel works fine. Thank you!",
                          "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3939173",
                          "updatedAt": "2022-10-22T09:16:28Z",
                          "publishedAt": "2022-10-22T09:16:27Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "Chaoyue-Liu"
                  },
                  "bodyText": "For the convenience of discussion, here is a repository I created with the files I use for your reference:\nhttps://github.com/Chaoyue-Liu/battery.git",
                  "url": "https://github.com/idaholab/moose/discussions/22366#discussioncomment-3858554",
                  "updatedAt": "2022-10-12T09:17:00Z",
                  "publishedAt": "2022-10-12T09:16:59Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}